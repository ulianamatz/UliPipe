global proc shelf_UliPipe () {
    global string $gBuffStr;
    global string $gBuffStr0;
    global string $gBuffStr1;


    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Set Project Path" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Set Project Path" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "PATH" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Path.jpg" 
        -image1 "UliPipe-icons/Path.jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import project_path\n\nproject_path.set_project_path()\n" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    separator
        -enable 1
        -width 12
        -height 35
        -manage 1
        -visible 1
        -preventOverride 0
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -style "shelf" 
        -horizontal 0
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Create an asset" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Create Asset" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "crAsset" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Crasset .jpg" 
        -image1 "UliPipe-icons/Crasset .jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import create\n\ntry:\n    cr_asset.close()\n    cr_asset.deleteLater()\nexcept:\n    pass\n\ncr_asset = create.CreateAsset()\ncr_asset.show()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Open Asset" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Open Asset" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "opAsset" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Opasset.jpg" 
        -image1 "UliPipe-icons/Opasset.jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import open\n\ntry:\n    op_asset.close()\n    op_asset.deleteLater()\nexcept:\n    pass\n\nop_asset = open.OpenAsset()\nop_asset.show()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    separator
        -enable 1
        -width 12
        -height 35
        -manage 1
        -visible 1
        -preventOverride 0
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -style "shelf" 
        -horizontal 0
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Create Shot" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Create Shot" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "crShot" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Crshot.jpg" 
        -image1 "UliPipe-icons/Crshot.jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import create\n\ntry:\n    cr_shot.close()\n    cr_shot.deleteLater()\nexcept:\n    pass\n\ncr_shot = create.CreateShot()\ncr_shot.show()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Open Shot" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Open Shot" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "opShot" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Opshot.jpg" 
        -image1 "UliPipe-icons/Opshot.jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import open\n\ntry:\n    op_shot.close()\n    op_shot.deleteLater()\nexcept:\n    pass\n\nop_shot = open.OpenShot()\nop_shot.show()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    separator
        -enable 1
        -width 12
        -height 35
        -manage 1
        -visible 1
        -preventOverride 0
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -style "shelf" 
        -horizontal 0
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Save an edit increment" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Save Edit" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "EDIT" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Edit.jpg" 
        -image1 "UliPipe-icons/Edit.jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import save_file\n\nsave_file.save_edit()\n\n\n" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Cleanup" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Cleanup" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "CLEAN" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/clean.png" 
        -image1 "UliPipe-icons/clean.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "MLdeleteUnused;" 
        -sourceType "mel" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Sanity Checker" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Sanity Checker" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "SAN" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/sanity.png" 
        -image1 "UliPipe-icons/sanity.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe.vendor.modelChecker import modelChecker_UI\n\nmodelChecker_UI.UI.show_UI()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Save Modeling Publish" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Save Modeling Publish" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "PUB" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Pub.jpg" 
        -image1 "UliPipe-icons/Pub.jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import save_file\n\nsave_file.save_publish()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Reference Asset" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Reference Asset" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "REF" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Ref.jpg" 
        -image1 "UliPipe-icons/Ref.jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import reference\n\ntry:\n    ref.close()\n    ref.deleteLater()\nexcept:\n    pass\n\nref = reference.ReferenceAsset()\nref.show()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Reference Cam Rig" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Reference Cam Rig" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "RIG" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/cam_rig.png" 
        -image1 "UliPipe-icons/cam_rig.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import project_path, reference\n\npipe_path = project_path.get_project_path()\ncam_rig_folder = pipe_path / \"02_ressource\" / \"cam_rig\"\n\nif not cam_rig_folder.exists():\n    raise ValueError(\"There is no cam_rig folder in 02_ressource\")\n    \nfiles = list(cam_rig_folder.iterdir())\nif len(files) == 0 or files[0].suffix not in(\".ma\", \".mb\"):\n    raise ValueError(\"There is no camera rig file in the cam_rig folder\")\n    \nrig_cam_path = cam_rig_folder / files[0]\nreference.reference_scene(rig_cam_path)" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    separator
        -enable 1
        -width 12
        -height 35
        -manage 1
        -visible 1
        -preventOverride 0
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -style "shelf" 
        -horizontal 0
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Export OBJ to asset directory" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Export OBJ to asset directory" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "OBJ" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/obj_export.png" 
        -image1 "UliPipe-icons/obj_export.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import obj_geo\n\nobj_geo.export_obj()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Import OBJ from asset directory" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Import OBJ from asset directory" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "OBJ" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/obj_import.png" 
        -image1 "UliPipe-icons/obj_import.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import obj_geo\n\nobj_geo.import_obj()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    separator
        -enable 1
        -width 12
        -height 35
        -manage 1
        -visible 1
        -preventOverride 0
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -style "shelf" 
        -horizontal 0
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Renamer" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Renamer" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "name" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "menuIconCopy.png" 
        -image1 "menuIconCopy.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "//This is a paid script pack and is not free to use. Please purchase a copy and download the script pack here www.gumroad.com/malcolm341\n\n//Thanks very much for your support! Each purchase helps maintain the ad free Youtube channel found here www.youtube.com/malcolm341\n\n\n//***********************************************************************************************************************************************************\n//Naming Toolbox\nglobal string $m341_reNamer_Version;\n$m341_reNamer_Version = \"reNamer v2.6\";\n\n\n//***********************************************************************************************************************************************************\n//Help\nglobal proc m341_reNamer_help()\n{\n\tglobal string $m341_reNamer_HelpWindow;\n\n\tif (`window -exists $m341_reNamer_HelpWindow`)\n\t{\n\t\tglobal string $m341_reNamer_HelpWindow;\n\t\tdeleteUI $m341_reNamer_HelpWindow;\n\t}\n\n\t//Left justify help window to center of Maya window\n\tint $helpLeftEdge = `window -q -width MayaWindow`;\n\t$helpLeftEdge = 0.5 * $helpLeftEdge;\t\n\n\tglobal string $m341_reNamer_Version;\n\t$m341_reNamer_HelpWindow = `window -title (\"Help \" + $m341_reNamer_Version) -leftEdge $helpLeftEdge -topEdge 115 -toolbox true -sizeable false -resizeToFitChildren false -width 800 -height 635`;\n\t\n\tpaneLayout -configuration \"horizontal2\";\n\tscrollLayout;\n\trowColumnLayout -numberOfColumns 1;\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"SORT OUTLINER BY NAME\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Sorts the outliner alphabetically. If you have something selected that selection will be sorted aphabetically to the bottom of the outliner, if nothing's selected the whole outliner will be sorted alphabetically.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"RENAME FIELD\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Stores the current name you want things to be renamed to, also acts as the search for field when you want to replace part of a name.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Type something into the rename field and click the rename button to rename selected objects to the name you typed.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The increment style at the end of the name can be changed from the increment dropdown.\\n\\n\";\n\t\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"REPLACE FIELD\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-To replace part of a name use the top text field to search for, and the buttom text field to replace with. Click the replace button to replace the above text with the below text that you typed in both text fields.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"PRE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Adds the current text from the naming field as a prefix.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"SUF\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Adds the current text from the naming field as a suffix.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TB NAME MATCH\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toolbag name match, renames meshes and inserts the word _high or _low if the mesh is inside a group named high or low. This is extremely helpful for renaming multiple meshes in one click if you're going to use the name matching feature of Marmoset Toolbag or another baking program.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Create a group named high and a group named low. Put some meshes in it. Select the meshes in the groups, but not the groups themselves and click the TB name match button. Make sure to select meshes in the numeric order you want them named so the number increment works correctly.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Meshes will be renamed:\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"name_high_01, name_high_02, name_high_03, etc.\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"name_low_01, name_low_02, name_low_03, etc.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TRIM PRE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Removes a specified amount of characters from the beginning of the name. The numeric input field is used to set how many characters will be removed.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TRIM SUF\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Removes a specified amount of characters from the end of the name. The numeric input field is used to set how many characters will be removed.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"INCREMENT\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The increment style that gets added to the end of the name.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"RENAME\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Renames currently selected objects using what you typed in the rename field.\\n\\n\";\t\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"YOUTUBE VIDEO HERE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/TpgpDisTDLM?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/TpgpDisTDLM?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br><br>\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"NAME MATCHING TUTORIAL HERE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/7mmGVMaLi_4?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/7mmGVMaLi_4?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br><br>\";\n\t\n\tshowWindow $m341_reNamer_HelpWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Sort Outliner by Name\nglobal proc m341_reNamer_sortOutliner()\n{\n    string $selected[] = `ls -sl`;\n    int $sizeSelected = `size $selected`;\n    string $objs[] = {};\n\n\t//Check if outliner open and set outliner sort to hierarchy so sort works\n\toutlinerEditor -edit -sortOrder none outlinerPanel1;\n\t//int $isOutlinerOpen = `workspaceControl -q -visible Outliner`;\n    //if ($isOutlinerOpen == 1)\n\t//{\n\n\t//}\n\n\n    if ($sizeSelected == 0)\n    {\n        SelectAll;\n        $objs = sort(`ls -sl`);\n   \t    for ($item=0;$item<size($objs);$item++)\n    \t{\n\t\t    reorder -back $objs[$item];\n    \t}\n\t\tselect $selected;\n        print \"Whole outliner sorted alphabetically\\n\";\n    }\n    \n    else\n    {\n        $objs = sort(`ls -sl`);\n        for ($item=0;$item<size($objs);$item++)\n    \t{\n\n\t\t    reorder -back $objs[$item];\n    \t}\n        print \"Outliner selection sorted alphabetically to bottom\\n\";    \n    }\n}\n\n\n//***********************************************************************************************************************************************************\n//Change text value of rename field\nglobal proc m341_textValueChanged_Renamer()\n{\n\tglobal string $m341_TextFieldName_Renamer;\n\tglobal string $m341_UserInput_Renamer;\t\t\t\n\t//query the value from the text field and store it in a variable\n\t$m341_UserInput_Renamer = `textField -query -tx $m341_TextFieldName_Renamer`;\n\t//print value\n\tprint(\"Rename field set to \"+ $m341_UserInput_Renamer + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Change text value of replace field\nglobal proc m341_textValueChanged_RenamerReplace()\n{\n\tglobal string $m341_TextFieldName_RenamerReplace;\n\tglobal string $m341_UserInput_RenamerReplace;\t\t\t\n\t//query the value from the text field and store it in a variable\n\t$m341_UserInput_RenamerReplace = `textField -query -tx $m341_TextFieldName_RenamerReplace`;\n\t//print value\n\tprint(\"Replace field set to \"+ $m341_UserInput_RenamerReplace + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Rename\nglobal proc m341_reNamer_rename()\n{\n\tm341_textValueChanged_Renamer();\n\tint $reNamerDropDownIndex = `optionMenu -query -select reNamerDropDown`;\n\tstring $reNamerDropDownArray[] = {\"_A\", \"\", \"_\", \"_0\", \"_00\", \"_000\", \"_LOD_\"};\n\tglobal string $m341_UserInput_Renamer;\n\t\n\t//Final select variables\n\tglobal string $m341_reNamer_finalSelect[];\n\t$m341_reNamer_finalSelect = {};\n\tstring $tempItem[] = {};\n\n\n\trenameSelectionList(\"maTempNaimingFailed_1001\");\n\tstring $Objs[] = `ls -sl`;\n\tint $ObjsSize = `size $Objs`;\n\tint $increment;\n\t//Start increment at zero if using LOD rename\n\tif ($reNamerDropDownIndex == 7)\n\t{\n\t\t$increment = 0;\n\t}\n\telse\n\t{\n\t\t$increment = 1;\n\t}\n\t\n\tstring $newList[];\n\tstring $alphabetArray[] = {\"\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"};\n\tint $counter = 0;\n\tglobal int $m341_firstLetter;\n\t$m341_firstLetter = 0;\n\tglobal int $m341_secondLetter;\n\t$m341_secondLetter = 0;\n\tglobal int $m341_thirdLetter;\n\t$m341_thirdLetter = 0;\n\t\n\tif ($reNamerDropDownIndex == 1)\n\t{\n\t\tfor ($Item = 0; $Item < $ObjsSize; ++$Item)\n\t\t{\n\t\t\tselect -ne $Objs[$counter];\n\t\t\tglobal int $m341_firstLetter;\n\t\t\tglobal int $m341_thirdLetter;\n\t\t\tglobal int $m341_secondLetter;\n\t\t\t\n\t\t\tif ($counter < 27)\n\t\t\t{\n\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t$m341_firstLetter = $m341_firstLetter + 1;\n\n\t\t\t\tif ($m341_firstLetter == 27)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t$m341_firstLetter = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ($counter > 25 && $counter < 702)\n\t\t\t{\n\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t$m341_secondLetter = $m341_secondLetter + 1;\n\t\n\t\t\t\tif ($m341_secondLetter == 27)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t$m341_firstLetter = $m341_firstLetter + 1;\n\t\t\t\t\t\n\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t$m341_secondLetter = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ($counter > 701 &&  $counter < 728)\n\t\t\t{\n\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t$m341_firstLetter = 1;\n\t\t\t\t\n\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t$m341_secondLetter = 1;\n\t\t\t\t\n\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t$m341_thirdLetter = $m341_thirdLetter + 1;\n\t\n\t\t\t\tif ($m341_thirdLetter == 27)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t$m341_thirdLetter = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ($counter > 727)\n\t\t\t{\n\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t$m341_thirdLetter = $m341_thirdLetter + 1;\n\t\n\t\t\t\tif ($m341_thirdLetter == 27)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t$m341_secondLetter = $m341_secondLetter + 1;\n\t\t\t\t\t\n\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t$m341_thirdLetter = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\trename ($m341_UserInput_Renamer + \"_\" + $alphabetArray[$m341_firstLetter] + $alphabetArray[$m341_secondLetter] + $alphabetArray[$m341_thirdLetter]);\n\t\t\t\n\t\t\t//Store each newly named object so you can select it at the end\n\t\t\t$tempItem = `ls -sl -fl`;\n\t\t\tglobal string $m341_reNamer_finalSelect[];\n\t\t\tselect $m341_reNamer_finalSelect;\n\t\t\tselect -add $tempItem;\n\t\t\t$m341_reNamer_finalSelect = `ls -sl -fl`;\n\t\t\t\n\t\t\t$counter = $counter + 1;\n\t\t}\n\t\t\n\t\tselect -clear;\n\t\t\n\t\tglobal string $m341_reNamer_finalSelect[];\n\t\tselect $m341_reNamer_finalSelect;\n\t\t\n\t\t\n\t\tprint (\"Renamed: \" + $m341_UserInput_Renamer + \"\\n\");\n\t\tif ($ObjsSize > 1377)\n\t\t{\n\t\t\terror \"Alphabetical increment can only rename up to 1378 objects\\n\";\n\t\t}\n\t\t\n\t}\n\t\n\telse\n\t{\n\t\tfor ($Item = 0; $Item < $ObjsSize; ++$Item)\n\t\t{\n\t\t\tselect -ne $Objs[$counter];\n\t\t\trename ($m341_UserInput_Renamer + $reNamerDropDownArray[$reNamerDropDownIndex -1] + $increment);\n\t\t\t\n\t\t\t//Remove extra zero so names actually look good\n\t\t\tstring $REZ_Items[];\n\t\t\t$REZ_Items = `ls -sl`;\n\t\t\t\n\t\t\t//Check _01 name for extra zero\n\t\t\tif ($reNamerDropDownIndex == 4)\n\t\t\t{\n\t\t\t\tif(`gmatch $REZ_Items[0] \"*_01\"`)\n\t\t\t\t{\n\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_02\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_03\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_04\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_05\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_06\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_07\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_08\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_09\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Remove extra zero\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Check _001 name for extra zero\n\t\t\tif ($reNamerDropDownIndex == 5)\n\t\t\t{\n\t\t\t\tif(`gmatch $REZ_Items[0] \"*_001\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_002\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_003\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_004\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_005\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_006\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_007\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_008\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_009\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Remove extra zero\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsearchReplaceNames \"_00\" \"_0\" \"selected\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Remove extra zero 99-999\n\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t//Convert string array to string\n\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\tstring $endStr = endString($objName, 4);\n\t\t\t\t\n\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t{\n\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Remove extra zero 999-9999\n\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t//Convert string array to string\n\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\t$endStr = endString($objName, 5);\n\t\t\t\t\n\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t{\n\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Check _0001 name for extra zero\n\t\t\tif ($reNamerDropDownIndex == 6)\n\t\t\t{\n\t\t\t\tif(`gmatch $REZ_Items[0] \"*_0001\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0002\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0003\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0004\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0005\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0006\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0007\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0008\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0009\"`)\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Remove extra zero\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsearchReplaceNames \"_000\" \"_00\" \"selected\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Remove extra zero 99-999\n\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t//Convert string array to string\n\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\tstring $endStr = endString($objName, 4);\n\t\t\t\t\n\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t{\n\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Remove extra zero 999-9999\n\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t//Convert string array to string\n\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t//Strip off all but last 5 characters\n\t\t\t\t$endStr = endString($objName, 5);\n\t\t\t\t\n\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t{\n\t\t\t\t\tsearchReplaceNames \"_00\" \"_\" \"selected\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Add to selection list so everyting can be selected after the names change\n\t\t\t//string $newNameObjs[] = `ls -sl`;\n\t\t\t//select -add $newList;\n\t\t\t//$newList = `ls -sl`;\n\t\t\t\n\t\t\t//Store each newly named object so you can select it at the end\n\t\t\t$tempItem = `ls -sl -fl`;\n\t\t\tglobal string $m341_reNamer_finalSelect[];\n\t\t\tselect -ne $m341_reNamer_finalSelect;\n\t\t\tselect -ne -add $tempItem;\n\t\t\t$m341_reNamer_finalSelect = `ls -sl -fl`;\n\t\t\t\n\t\t\t$increment = $increment + 1;\n\t\t\t$counter = $counter + 1;\n\t\t\t//select $newList;\n\t\t}\n\t\t\n\t\tselect -clear;\n\t\t\n\t\t//Select newly named objects\n\t\tglobal string $m341_reNamer_finalSelect[];\n\t\tselect -ne $m341_reNamer_finalSelect;\n\t\t\n\t\tprint (\"Renamed: \" + $m341_UserInput_Renamer + \"\\n\");\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Prefix\nglobal proc m341_reNamer_prefix()\n{\n\tm341_textValueChanged_Renamer();\n\tglobal string $m341_UserInput_Renamer;\n\t\n\tglobal string $m341_reNamer_prefix_selection[];\n\t$m341_reNamer_prefix_selection = {};\n\t\n\tstring $array[] = `ls -sl -fl`;\n\tstring $tokens[];\n\tfor ($item in $array)\n\t{\n\t\tselect $item;\n\t\tstring $name[] = `ls -sl`;\n        tokenize $name[0] \"|\" $tokens;\n\t\tstring $shortName[] = $tokens;\n\t\t$name[0] = $shortName[size($shortName)-1];\n\t\t\n\t\trename ($m341_UserInput_Renamer + $name[0]);\n\t\t\n\t\t//Create selection list after rename\n\t\tglobal string $m341_reNamer_prefix_selection[];\n\t\tselect -add $m341_reNamer_prefix_selection;\n\t\t$m341_reNamer_prefix_selection = `ls -sl -l`;\n\t}\n\t\n\tprint (\"Prefix: \" + $m341_UserInput_Renamer + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Suffix\nglobal proc m341_reNamer_suffix()\n{\n\tm341_textValueChanged_Renamer();\n\tglobal string $m341_UserInput_Renamer;\n\t\n\tglobal string $m341_reNamer_prefix_selection[];\n\t$m341_reNamer_prefix_selection = {};\n\t\n\tstring $array[] = `ls -sl -fl`;\n\tstring $tokens[];\n\tfor ($item in $array)\n\t{\n\t\tselect $item;\n\t\tstring $name[] = `ls -sl`;\n        tokenize $name[0] \"|\" $tokens;\n\t\tstring $shortName[] = $tokens;\n\t\t$name[0] = $shortName[size($shortName)-1];\n\t\t\n\t\t//rename ($m341_UserInput_Renamer + $name[0]);\n\t\trename ($name[0] + $m341_UserInput_Renamer);\n\t\t\n\t\t//Create selection list after rename\n\t\tglobal string $m341_reNamer_prefix_selection[];\n\t\tselect -add $m341_reNamer_prefix_selection;\n\t\t$m341_reNamer_prefix_selection = `ls -sl -l`;\n\t}\n\t\n\tprint (\"Suffix: \" + $m341_UserInput_Renamer + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Replace\nglobal proc m341_reNamer_replace()\n{\n\tm341_textValueChanged_Renamer();\n\tm341_textValueChanged_RenamerReplace();\n\tglobal string $m341_UserInput_Renamer;\n\tglobal string $m341_UserInput_RenamerReplace;\t\t\t\n\tsearchReplaceNames $m341_UserInput_Renamer $m341_UserInput_RenamerReplace \"selected\";\n\tprint (\"Replaced \" + $m341_UserInput_RenamerReplace + \" with \" + $m341_UserInput_Renamer + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group Match NEW\nglobal proc m341_reNamer_groupMatch()\n{\n\t//Filter list of objects by name\n\tm341_textValueChanged_Renamer();\n\tint $reNamerDropDownIndex = `optionMenu -query -select reNamerDropDown`;\n\tstring $reNamerDropDownArray[] = {\"_A\", \"\", \"_\", \"_0\", \"_00\", \"_000\", \"_LOD_\"};\n\tglobal string $m341_UserInput_Renamer;\n\tstring $searchForHigh[] = `ls -sl -long`;\n\tselect -cl;\n\t\n\tglobal string $m341_reNamer_finalSelectHigh[];\n\t$m341_reNamer_finalSelectHigh = `ls -sl`;\n\tglobal string $m341_reNamer_finalSelectLow[];\n\t$m341_reNamer_finalSelectLow = `ls -sl`;\n\tstring $tempItem[] = {};\n\t\t\n\t\n\tfor ($Item in $searchForHigh)\n\t{\n\t\tif (`gmatch $Item \"*high*\"`)   \n\t\t{\n\t\t\t$highObjs = $Item;\n\t\t\tselect -add $highObjs;\n\t\t}\n\t\t\n\t\tif (`gmatch $Item \"*low*\"`)   \n\t\t{\n\t\t\t$lowObjs = $Item;\n\t\t\tselect -d $lowObjs;\n\t\t}\n\t}    \n\tstring $found_High[] = `ls -sl -long`;\n\tint $sizeFound_High = `size $found_High`;\n\t\n\tselect -clear;\n\tfor ($Item in $searchForHigh)\n\t{\n\t\tif (`gmatch $Item \"*low*\"`)\n\t\t{\n\t\t\t$lowObjs = $Item;\n\t\t\tselect -add $lowObjs;\n\t\t}\n\t\t\n\t\tif (`gmatch $Item \"*high*\"`)\n\t\t{\n\t\t\t$highObjs = $Item;\n\t\t\tselect -d $highObjs;\n\t\t}\n\t}    \n\tstring $found_Low[] = `ls -sl -long`;\n\tint $sizeFound_Low = `size $found_Low`;\n\t\n\t//Select high list and add high name matching\n\tselect $found_High;\n\tfor ($Item in $found_High)\n\t{   \n\t\trenameSelectionList(\"namingFailed_matemp_1001\");\n\t}\n\t\n\t{\n\t\tstring $listHigh[] = `ls -sl`;\n\t\tint $listHighSize = `size $listHigh`;\n\t\t\n\t\tstring $Objs[] = `ls -sl`;\n\t\tint $ObjsSize = `size $Objs`;\n\t\tint $increment;\n\t\t//Start increment at zero if using LOD rename\n\t\tif ($reNamerDropDownIndex == 7)\n\t\t{\n\t\t\t$increment = 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$increment = 1;\n\t\t}\n\t\tstring $alphabetArray[] = {\"\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"};\n\t\tint $counter = 0;\n\t\tglobal int $m341_firstLetter;\n\t\t$m341_firstLetter = 0;\n\t\tglobal int $m341_secondLetter;\n\t\t$m341_secondLetter = 0;\n\t\tglobal int $m341_thirdLetter;\n\t\t$m341_thirdLetter = 0;\n\t\t\n\t\tif ($reNamerDropDownIndex == 1)\n\t\t{\n\t\t\tfor ($item = 0; $item < $ObjsSize; ++$item)\n\t\t\t{\n\t\t\t\tselect $Objs[$counter];\n\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\n\t\t\t\tif ($counter < 27)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t$m341_firstLetter = $m341_firstLetter + 1;\n\t\n\t\t\t\t\tif ($m341_firstLetter == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t\t$m341_firstLetter = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($counter > 25 && $counter < 702)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t$m341_secondLetter = $m341_secondLetter + 1;\n\t\t\n\t\t\t\t\tif ($m341_secondLetter == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t\t$m341_firstLetter = $m341_firstLetter + 1;\n\t\t\t\t\t\t\n\t\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t\t$m341_secondLetter = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($counter > 701 &&  $counter < 728)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t$m341_firstLetter = 1;\n\t\t\t\t\t\n\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t$m341_secondLetter = 1;\n\t\t\t\t\t\n\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t$m341_thirdLetter = $m341_thirdLetter + 1;\n\t\t\n\t\t\t\t\tif ($m341_thirdLetter == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t\t$m341_thirdLetter = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($counter > 727)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t$m341_thirdLetter = $m341_thirdLetter + 1;\n\t\t\n\t\t\t\t\tif ($m341_thirdLetter == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t\t$m341_secondLetter = $m341_secondLetter + 1;\n\t\t\t\t\t\t\n\t\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t\t$m341_thirdLetter = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trename ($m341_UserInput_Renamer + \"_high\"+ \"_\" + $alphabetArray[$m341_firstLetter] + $alphabetArray[$m341_secondLetter] + $alphabetArray[$m341_thirdLetter]);\n\t\t\t\t$counter = $counter + 1;\n\t\t\t}\n\t\t\tselect -clear;\n\t\t\tprint (\"Renamed: \" + $m341_UserInput_Renamer + \"\\n\");\n\t\t\tif ($ObjsSize > 1377)\n\t\t\t{\n\t\t\t\terror \"Alphabetical increment can only rename up to 1378 objects\";\n\t\t\t}\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\tfor ($listHighItem = 0; $listHighItem < $listHighSize; ++$listHighItem)\n\t\t\t{\n\t\t\t\tselect $listHigh[$counter];\n\t\t\t\trename ($m341_UserInput_Renamer + \"_high\" + $reNamerDropDownArray[$reNamerDropDownIndex -1] + $increment);\n\t\t\t\t\n\t\t\t\t//Remove extra zero so names actually look good\n\t\t\t\tstring $REZ_Items[] = `ls -sl`;\n\t\t\t\t\n\t\t\t\t//Check _01 name for extra zero\n\t\t\t\tif ($reNamerDropDownIndex == 4)\n\t\t\t\t{\n\t\t\t\t\tif(`gmatch $REZ_Items[0] \"*_01\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_02\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_03\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_04\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_05\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_06\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_07\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_08\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_09\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Check _001 name for extra zero\n\t\t\t\tif ($reNamerDropDownIndex == 5)\n\t\t\t\t{\n\t\t\t\t\tif(`gmatch $REZ_Items[0] \"*_001\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_002\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_003\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_004\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_005\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_006\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_007\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_008\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_009\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_00\" \"_0\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero 99-999\n\t\t\t\t\tstring $finalZeroTest[] = `ls -sl`;\n\t\t\t\t\t//Convert string array to string\n\t\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\t\tstring $endStr = endString($objName, 4);\n\t\t\t\t\t\n\t\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero 999-9999\n\t\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t\t//Convert string array to string\n\t\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\t\t$endStr = endString($objName, 5);\n\t\t\t\t\t\n\t\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Check _0001 name for extra zero\n\t\t\t\tif ($reNamerDropDownIndex == 6)\n\t\t\t\t{\n\t\t\t\t\tif(`gmatch $REZ_Items[0] \"*_0001\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0002\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0003\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0004\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0005\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0006\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0007\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0008\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0009\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_000\" \"_00\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero 99-999\n\t\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t\t//Convert string array to string\n\t\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\t\tstring $endStr = endString($objName, 4);\n\t\t\t\t\t\n\t\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero 999-9999\n\t\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t\t//Convert string array to string\n\t\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t\t//Strip off all but last 5 characters\n\t\t\t\t\t$endStr = endString($objName, 5);\n\t\t\t\t\t\n\t\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_00\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Store each newly named object so you can select it at the end\n\t\t\t\t$tempItem = `ls -sl -fl`;\n\t\t\t\tglobal string $m341_reNamer_finalSelectHigh[];\n\t\t\t\tselect $m341_reNamer_finalSelectHigh;\n\t\t\t\tselect -add $tempItem;\n\t\t\t\t$m341_reNamer_finalSelectHigh = `ls -sl -fl`;\n\t\t\t\t\n\t\t\t\t$increment = $increment + 1;\n\t\t\t\t$counter = $counter + 1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Select low list and add low name matching\n\tselect $found_Low;\n\tfor ($Item in $found_Low)\n\t{   \n\t\trenameSelectionList(\"namingFailed_matemp_1001\");\n\t}\n\t\n\t{\n\t\tstring $listLow[] = `ls -sl`;\n\t\tint $listLowSize = `size $listLow`;\n\t\t\n\t\tstring $Objs[] = `ls -sl`;\n\t\tint $ObjsSize = `size $Objs`;\n\t\tint $increment;\n\t\t//Start increment at zero if using LOD rename\n\t\tif ($reNamerDropDownIndex == 7)\n\t\t{\n\t\t\t$increment = 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$increment = 1;\n\t\t}\n\t\tstring $alphabetArray[] = {\"\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"};\n\t\tint $counter = 0;\n\t\tglobal int $m341_firstLetter;\n\t\t$m341_firstLetter = 0;\n\t\tglobal int $m341_secondLetter;\n\t\t$m341_secondLetter = 0;\n\t\tglobal int $m341_thirdLetter;\n\t\t$m341_thirdLetter = 0;\n\t\t\n\t\tif ($reNamerDropDownIndex == 1)\n\t\t{\n\t\t\tfor ($item = 0; $item < $ObjsSize; ++$item)\n\t\t\t{\n\t\t\t\tselect $Objs[$counter];\n\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\n\t\t\t\tif ($counter < 27)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t$m341_firstLetter = $m341_firstLetter + 1;\n\t\n\t\t\t\t\tif ($m341_firstLetter == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t\t$m341_firstLetter = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($counter > 25 && $counter < 702)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t$m341_secondLetter = $m341_secondLetter + 1;\n\t\t\n\t\t\t\t\tif ($m341_secondLetter == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t\t$m341_firstLetter = $m341_firstLetter + 1;\n\t\t\t\t\t\t\n\t\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t\t$m341_secondLetter = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($counter > 701 &&  $counter < 728)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_firstLetter;\n\t\t\t\t\t$m341_firstLetter = 1;\n\t\t\t\t\t\n\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t$m341_secondLetter = 1;\n\t\t\t\t\t\n\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t$m341_thirdLetter = $m341_thirdLetter + 1;\n\t\t\n\t\t\t\t\tif ($m341_thirdLetter == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t\t$m341_thirdLetter = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($counter > 727)\n\t\t\t\t{\n\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t$m341_thirdLetter = $m341_thirdLetter + 1;\n\t\t\n\t\t\t\t\tif ($m341_thirdLetter == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\tglobal int $m341_secondLetter;\n\t\t\t\t\t\t$m341_secondLetter = $m341_secondLetter + 1;\n\t\t\t\t\t\t\n\t\t\t\t\t\tglobal int $m341_thirdLetter;\n\t\t\t\t\t\t$m341_thirdLetter = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trename ($m341_UserInput_Renamer + \"_low\"+ \"_\" + $alphabetArray[$m341_firstLetter] + $alphabetArray[$m341_secondLetter] + $alphabetArray[$m341_thirdLetter]);\n\t\t\t\t$counter = $counter + 1;\n\t\t\t}\n\t\t\tselect -clear;\n\t\t\tprint (\"Renamed: \" + $m341_UserInput_Renamer + \"\\n\");\n\t\t\tif ($ObjsSize > 1377)\n\t\t\t{\n\t\t\t\terror \"Alphabetical increment can only rename up to 1378 objects\";\n\t\t\t}\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\tfor ($listLowItem = 0; $listLowItem < $listLowSize; ++$listLowItem)\n\t\t\t{\n\t\t\t\tselect $listLow[$counter];\n\t\t\t\t\n\t\t\t\trename ($m341_UserInput_Renamer + \"_low\" + $reNamerDropDownArray[$reNamerDropDownIndex -1] + $increment);\n\t\n\t\t\t\t//Remove extra zero so names actually look good\n\t\t\t\tstring $REZ_Items[] = `ls -sl`;\n\t\t\t\t\n\t\t\t\t//Check _01 name for extra zero\n\t\t\t\tif ($reNamerDropDownIndex == 4)\n\t\t\t\t{\n\t\t\t\t\tif(`gmatch $REZ_Items[0] \"*_01\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_02\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_03\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_04\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_05\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_06\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_07\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_08\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_09\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Check _001 name for extra zero\n\t\t\t\tif ($reNamerDropDownIndex == 5)\n\t\t\t\t{\n\t\t\t\t\tif(`gmatch $REZ_Items[0] \"*_001\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_002\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_003\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_004\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_005\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_006\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_007\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_008\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_009\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_00\" \"_0\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero 99-999\n\t\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t\t//Convert string array to string\n\t\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\t\tstring $endStr = endString($objName, 4);\n\t\t\t\t\t\n\t\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero 999-9999\n\t\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t\t//Convert string array to string\n\t\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\t\t$endStr = endString($objName, 5);\n\t\t\t\t\t\n\t\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Check _0001 name for extra zero\n\t\t\t\tif ($reNamerDropDownIndex == 6)\n\t\t\t\t{\n\t\t\t\t\tif(`gmatch $REZ_Items[0] \"*_0001\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0002\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0003\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0004\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0005\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0006\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0007\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0008\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse if(`gmatch $REZ_Items[0] \"*_0009\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_000\" \"_00\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero 99-999\n\t\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t\t//Convert string array to string\n\t\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t\t//Strip off all but last 4 characters\n\t\t\t\t\tstring $endStr = endString($objName, 4);\n\t\t\t\t\t\n\t\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_0\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Remove extra zero 999-9999\n\t\t\t\t\t$finalZeroTest = `ls -sl`;\n\t\t\t\t\t//Convert string array to string\n\t\t\t\t\t$objName = $finalZeroTest[0];\n\t\t\t\t\t//Strip off all but last 5 characters\n\t\t\t\t\t$endStr = endString($objName, 5);\n\t\t\t\t\t\n\t\t\t\t\tif(`gmatch $endStr \"0[1-9]*\"`)\n\t\t\t\t\t{\n\t\t\t\t\t\tsearchReplaceNames \"_00\" \"_\" \"selected\";\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\n\t\t\t\t\n\t\t\t\t//Store each newly named object so you can select it at the end\n\t\t\t\t$tempItem = `ls -sl -fl`;\n\t\t\t\tglobal string $m341_reNamer_finalSelectLow[];\n\t\t\t\tselect $m341_reNamer_finalSelectLow;\n\t\t\t\tselect -add $tempItem;\n\t\t\t\t$m341_reNamer_finalSelectLow = `ls -sl -fl`;\n\t\t\t\t\n\t\t\t\t$increment = $increment + 1;\n\t\t\t\t$counter = $counter + 1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tselect -clear;\n\t\n\t//Select newly named objects\n\tglobal string $m341_reNamer_finalSelectHigh[];\n\tselect $m341_reNamer_finalSelectHigh;\n\tglobal string $m341_reNamer_finalSelectLow[];\n\tselect -add $m341_reNamer_finalSelectLow;\n\t\n\tprint (\"Name matching complete: \" + $m341_UserInput_Renamer + \" high/low\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Trim Amount Int Value Changed\nglobal proc m341_reNamer_TrimAmount_IntValueChanged()\n{\n\tglobal int $m341_reNamer_TrimAmount_IntInput;\n\t//Query the value from the int field and store it in a variable.\n\t$m341_reNamer_TrimAmount_IntInput = `intField -query -value m341_reNamer_TrimAmount_IntFieldName`;\n\toptionVar -floatValue \"m341_reNamer_TrimAmount_IntField_VarName\" $m341_reNamer_TrimAmount_IntInput;\n\t\n\tprint(\"Trim amount set to \" + $m341_reNamer_TrimAmount_IntInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Trim Prefix\nglobal proc m341_reNamer_TrimPrefix()\n{\n\t//Trim amount comes from int field\n\tint $trimAmount = `intField -query -value m341_reNamer_TrimAmount_IntFieldName`;\n\t\n\t//Final select variables\n\tglobal string $m341_reNamer_finalSelect[];\n\t$m341_reNamer_finalSelect = {};\n\tstring $tempItem[] = {};\n\t\n\tstring $Objs[] = `ls -sl`;\n\tint $ObjsSize = `size $Objs`;\n\tint $counter = 0;\n\tint $increment = 0;\n\t\n\tfor ($item = 0; $item < $ObjsSize; ++$item)\n\t{\n\t\tselect -ne $Objs[$counter];\n        string $currentName = $Objs[$counter];\n        string $currentPrefix = startString($Objs[$counter], $trimAmount);\n        searchReplaceNames $currentPrefix \"\" \"selected\";\n\t\n\t\t//Store each newly named object so you can select it at the end\n\t\t$tempItem = `ls -sl -fl`;\n\t\tselect -ne $m341_reNamer_finalSelect;\n\t\tselect -ne -add $tempItem;\n\t\t$m341_reNamer_finalSelect = `ls -sl -fl`;\n\t\t\n\t\t$increment = $increment + 1;\n\t\t$counter = $counter + 1;\n\t}\n\t\n\tselect -clear;\n\t\n\t//Select newly named objects\n\tselect -ne $m341_reNamer_finalSelect;\n\t\n\tprint (\"Prefix characters trimmed by \" + $trimAmount + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Trim Suffix\nglobal proc m341_reNamer_TrimSuffix()\n{\n\t//Trim amount comes from int field\n\tint $trimAmount = `intField -query -value m341_reNamer_TrimAmount_IntFieldName`;\n\t\n\t//Final select variables\n\tglobal string $m341_reNamer_finalSelect[];\n\t$m341_reNamer_finalSelect = {};\n\tstring $tempItem[] = {};\n\t\n\tstring $Objs[] = `ls -sl`;\n\tint $ObjsSize = `size $Objs`;\n\tint $counter = 0;\n\tint $increment = 0;\n\t\n\tfor ($item = 0; $item < $ObjsSize; ++$item)\n\t{\n\t\tselect -ne $Objs[$counter];\n        string $currentName = $Objs[$counter];\n        string $currentSuffix = endString($Objs[$counter], $trimAmount);\n        string $trimName = basename($currentName, $currentSuffix);\n\t\trename ($trimName);\n\t\t\n\t\t//Store each newly named object so you can select it at the end\n\t\t$tempItem = `ls -sl -fl`;\n\t\tselect -ne $m341_reNamer_finalSelect;\n\t\tselect -ne -add $tempItem;\n\t\t$m341_reNamer_finalSelect = `ls -sl -fl`;\n\t\t\n\t\t$increment = $increment + 1;\n\t\t$counter = $counter + 1;\n\t}\n\t\n\tselect -clear;\n\t\n\t//Select newly named objects\n\tselect -ne $m341_reNamer_finalSelect;\n\t\n\tprint (\"Suffix characters trimmed by \" + $trimAmount + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Window and Buttons\nglobal proc m341_reNamer_launchWindow()\n{\n\tif (`window -exists m341_reNamer_windowName`)\n\t{\n\t\tdeleteUI m341_reNamer_windowName;\n\t}\n\n\n\t//Colours\n\tfloat $r[] = {0.698, 0.259, 0.263};\n\tfloat $g[] = {0.282, 0.675, 0.282};\n\tfloat $b[] = {0.145, 0.463, 0.737};\n\tfloat $grey[] = {0.51, 0.51, 0.51};\n\tfloat $red[] = {0.70, 0.39, 0.34};\n\tfloat $orange[] = {0.761, 0.522, 0.314};\n\tfloat $yellow[] = {0.72, 0.68, 0.39};\n\tfloat $green[] = {0.34, 0.59, 0.47};\n\tfloat $greenYellow[] = {0.50, 0.67, 0.37};\n\tfloat $blue[] = {0.32, 0.59, 0.72};\n\tfloat $seafoam[] = {0.427, 0.643, 0.643};\n\tfloat $purple[] = {0.596, 0.529, 0.769};\n\tfloat $purpleDrank[] = {0.451, 0.529, 0.78};\n\n\tglobal string $m341_TextFieldName_Renamer = \"\";\n\tglobal string $m341_UserInput_Renamer = \"\";\n\tglobal string $m341_TextFieldName_RenamerReplace = \"\";\n\tglobal string $m341_UserInput_RenamerReplace = \"\";\n\tglobal string $m341_reNamer_Version;\n\t\n\twindow -title $m341_reNamer_Version -toolbox true -sizeable true -resizeToFitChildren true m341_reNamer_windowName;\n\tcolumnLayout -adjustableColumn true;\n\ttext -label \"by Malcolm341\";\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t//Fix keyboard focus\n\t\n\tstring $mayaYear = `about -product`;\n\tstring $mayaYearAarray[];\n\t$mayaYearAarray = stringToStringArray($mayaYear, \" \");\n\tint $mayaVersionNumber = $mayaYearAarray[1];\n\t\n\tif ($mayaVersionNumber < 2019)\n\t{\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-labelOffset 30\n\t\t\t-label \"click for help\"\n\t\t\t-backgroundColor 0.51 0.51 0.51\n\t\t\t-width 130\n\t\t\t-height 15\n\t\t\t-command \"m341_reNamer_help;\";\n\t}\n\telse\n\t{\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-enableKeyboardFocus 1\n\t\t\t-labelOffset 30\n\t\t\t-label \"click for help\"\n\t\t\t-backgroundColor 0.51 0.51 0.51\n\t\t\t-width 130\n\t\t\t-height 15\n\t\t\t-command \"m341_reNamer_help;\";\n\t}\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t-label \"sort outliner by name\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 130\n\t\t//-height 18\n\t\t-command \"m341_reNamer_sortOutliner;\"\n\t\t-commandRepeatable 1;\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\t$m341_TextFieldName_Renamer = `textField -placeholderText \"rename/search for:\" -width 130 -changeCommand \"m341_textValueChanged_Renamer();\"`;\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 3;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"replace\"\n\t\t-labelOffset 30\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 44\n\t\t-height 18\n\t\t-command \"m341_reNamer_replace;\"\n\t\t-commandRepeatable 0;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\t\t$m341_TextFieldName_RenamerReplace = `textField -placeholderText \"replace with:\" -width 85 -changeCommand \"m341_textValueChanged_RenamerReplace();\"`;\t\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t-label \"pre\"\n\t\t-labelOffset 40\n\t\t-backgroundColor 0.596 0.529 0.769\n\t\t-width 22\n\t\t-command \"m341_reNamer_prefix;\"\n\t\t-commandRepeatable 0;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t-label \"suf\"\n\t\t-labelOffset 40\n\t\t-backgroundColor 0.32 0.59 0.72\n\t\t-width 22\n\t\t-command \"m341_reNamer_suffix;\"\n\t\t-commandRepeatable 0;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t-label \"TB name match\"\n\t\t-labelOffset 0\n\t\t-backgroundColor 0.34 0.59 0.47\n\t\t-width 84\n\t\t-command \"m341_reNamer_groupMatch;\"\n\t\t-commandRepeatable 0;\n\t\n\tsetParent ..;\t\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"trim pre\"\n\t\t-labelOffset 0\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 47\n\t\t-height 18\n\t\t-command \"m341_reNamer_TrimPrefix;\"\n\t\t-commandRepeatable 0;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\t\n\t//Save preferences trim amount int field\n\tint $reNamer_TrimAmount_IntFieldValue;\n\tglobal float $m341_reNamer_TrimAmount_IntFieldValue;\n\tstring $reNamer_TrimAmount_IntField_OptionVar = `optionVar -exists \"m341_reNamer_TrimAmount_IntField_VarName\"`;\n\t\n\tif ($reNamer_TrimAmount_IntField_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -floatValue \"m341_reNamer_TrimAmount_IntField_VarName\" 1;\n\t\t$reNamer_TrimAmount_IntFieldValue = `optionVar -q \"m341_reNamer_TrimAmount_IntField_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$reNamer_TrimAmount_IntFieldValue = `optionVar -q \"m341_reNamer_TrimAmount_IntField_VarName\"`;\n\t}\n\t\n\tif($mayaVersionNumber < 2019)\n\t{\n\t\tintField -value 4 -minValue 1 -width 35 -changeCommand \"m341_reNamer_TrimAmount_IntValueChanged();\" m341_reNamer_TrimAmount_IntFieldName;\n\t}\n\telse\n\t{\n\t\tintField -enableKeyboardFocus 0 -value $reNamer_TrimAmount_IntFieldValue -minValue 1 -width 35 -changeCommand \"m341_reNamer_TrimAmount_IntValueChanged();\" m341_reNamer_TrimAmount_IntFieldName;\n\t}\n\t\n\tseparator -width 1 -style \"none\";\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"trim suf\"\n\t\t-labelOffset 0\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 46\n\t\t-height 18\n\t\t-command \"m341_reNamer_TrimSuffix;\"\n\t\t-commandRepeatable 0;\n\t\t\n\t\n\t\n\t\n\n\tsetParent ..;\t\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ttext \"  increment \";\n\t\toptionMenu -width 70 -height 19 reNamerDropDown;\n\t\tmenuItem -label \"_A\";\n\t\tmenuItem -label \"1\";\n\t\tmenuItem -label \"_1\";\n\t\tmenuItem -label \"_01\";\n\t\tmenuItem -label \"_001\";\n\t\tmenuItem -label \"_0001\";\n\t\tmenuItem -label \"_LOD_0\";\n\t\toptionMenu -edit -select 4 reNamerDropDown;\n\t\t\n\tsetParent ..;\t\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t-label \"rename\"\n\t\t//-backgroundColor 0.70 0.39 0.34\n\t\t-backgroundColor 0.772 0.521 0.302\n\t\t-width 130\n\t\t-command \"m341_reNamer_rename;\"\n\t\t-commandRepeatable 0;\n\t\t\n\tshowWindow;\n\twindow -edit -width 100 -height 100 m341_reNamer_windowName;\n\t\n\tprint (\"Toolbox loaded \" + $m341_reNamer_Version + \"\\n\");\n}\n\nm341_reNamer_launchWindow();" 
        -sourceType "mel" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Match the transforms of selected objects to the last-selected object." 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Match All Transforms" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "match" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "menuIconModify.png" 
        -image1 "menuIconModify.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "MatchTransform" 
        -sourceType "mel" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Pivot at World Center" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Pivot at World Center" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "pivot" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/pivot.png" 
        -image1 "UliPipe-icons/pivot.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from maya import cmds\n\nsel = cmds.ls(selection=True)\n\nfor i in sel:\n    cmds.setAttr(f\"{i}.rotatePivot\", 0, 0, 0)\n    cmds.setAttr(f\"{i}.scalePivot\", 0, 0, 0)" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Mirror Tool" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Mirror Tool" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "mirror" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "polyMirrorGeometry.png" 
        -image1 "polyMirrorGeometry.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "//This is a paid script pack and is not free to use. Please purchase a copy and download the script pack here www.gumroad.com/malcolm341\n\n//Thanks very much for your support! Each purchase helps maintain the ad free Youtube channel found here www.youtube.com/malcolm341\n\n\n//***********************************************************************************************************************************************************\n//Mirror and Instance Toolbox\nglobal string $m341_mirrorEr_Version;\n$m341_mirrorEr_Version = \"mirrorEr v3.1\";\n\n\n//***********************************************************************************************************************************************************\n//Help\nglobal proc m341_mirrorER_help()\n{\n\tglobal string $m341_mirrorEr_HelpWindow;\n\n\tif (`window -exists $m341_mirrorEr_HelpWindow`)\n\t{\n\t\tglobal string $m341_mirrorEr_HelpWindow;\n\t\tdeleteUI $m341_mirrorEr_HelpWindow;\n\t}\n\n\t//Left justify help window to center of Maya window\n\tint $helpLeftEdge = `window -q -width MayaWindow`;\n\t$helpLeftEdge = 0.5 * $helpLeftEdge;\n\t\n\tglobal string $m341_mirrorEr_Version;\n\t$m341_mirrorEr_HelpWindow = `window -title (\"Help \" + $m341_mirrorEr_Version) -leftEdge $helpLeftEdge -topEdge 115 -toolbox true -sizeable false -resizeToFitChildren false -width 800 -height 800`;\n\tscrollLayout;\n\trowColumnLayout -numberOfColumns 1;\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"RESET\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Resets the toolbox back to defualt settings.\\n\\n\";\n\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"MIRROR X, Y, Z\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Mirror selected meshes on that axis, meshes are mirrored from their current pivot points.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"FLIP X, Y, Z\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Flip selected meshes on that axis, meshes are flipped from their current pivot points.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"HISTORY\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Duplicates selected objects with history and no mirroring, this can be useful for duplicating primitives so you can adjust the number of segments without having to create a new primitive. Only works on objects that currently have history.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"INSTANCE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Duplicates selected objects as instances without mirroring.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"INSTANCE CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on to create mirrored meshes as instances instead of duplicates.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"FLIP UV CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on to mirror UVs for the resulting mirrored mesh.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"MERGE CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on if you'd like the mirrored mesh to be combined and verts merged using the current value from the merge input field.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"MERGE INPUT FIELD\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The radius used to merge verts in centimeters.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"FIND GB CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on to select geometry border edges after meshes have been merged. This is extremely helpful to show if overlapping verts have actually been merged and if unwelded edges still remain.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"CUT+ CUT- CHECKBOXES\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on cut+ or cut- if you'd like the resulting mirrored mesh to be a live mirror cut node. cut+ should be used when the resulting mirrored mesh is going to be created in a positive world space direction from the object's current pivot point.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"USE WP CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on if you'd like the mesh to be mirrored from the world pivot instead of the mesh pivot. This can save time if you always work at the center of the grid and don't want to set a custom pivot point before mirroring.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"DE-INSTANCE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Converts selected instances into regular objects, de-instances them.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"FIND GB\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Selects geometry border edges.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"COMBINE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Comebines selected meshes without creating extra nodes in the outliner. The last selected mesh's name, pivot, and transform will be used to create the new combined object.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"EXTRACT\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Extracts selected faces without creating extra nodes in the outliner. In object mode extract will separate each mesh element into a new object.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"COMBINE/MERGE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Combines selected meshes and merges overlapping verts using the current value from the merge input field, combine/merge also works on instances.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If you have exactly two verts selected combine/merge will merge them to center.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If you have more than two verts selected combine/merge will merge them using the current value from the merge input field.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If you have a single object selected in object mode combine/merge will merge all verts on that object using the current value from the merge input field.\\n\\n\";\n\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"YOUTUBE VIDEOS HERE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/xdf9JgMQPkY?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/xdf9JgMQPkY?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br>\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"This link explains the mirror cut feature at time stamp 14:04\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/Mwc9LgkF1EA?list=PLAUgGUDpaMEMGxJuCZJF60UhztpAZQmgf&t=844\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/Mwc9LgkF1EA?list=PLAUgGUDpaMEMGxJuCZJF60UhztpAZQmgf&t=844</a><br>\";\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/nc6T7yobrj4?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/nc6T7yobrj4?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br><br>\";\n\t\n\tshowWindow $m341_mirrorEr_HelpWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Find Geometry Borders\nglobal proc m341_mirrorEr_findGeoBorderEdges() \n{\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\n\t//Switch to edge selection mask mode\n\tsetSelectMode components Components;\n\tselectType -smp 0 -sme 1 -smf 0 -smu 0 -pv 0 -pe 1 -pf 0 -puv 0;\n\tHideManipulators; \n\t//Select geometry border edges to check for seams\n\tpolySelectConstraint -mode 3 -type 0x8000 -where 1;\n\tresetPolySelectConstraint;\n\t\n\t//Store geometry border edges in variable\n\t$geoBorderEdges = `ls -sl -fl`;\n\t$geoBorderEdgesSize = `size $geoBorderEdges`;\n\t\n\t//Change select mask to multi\n\tselectType -smp 0 -sme 0 -smf 0 -smu 0 -pv 0 -pe 0 -pf 0 -puv 0 -meshComponents 1;\n\t\n\t//Switch to object mode if no geo border found\n\tif ($geoBorderEdgesSize == 0)\n\t{\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Flip UVs U\nglobal proc m341_mirrorEr_flipU() \n{  \n\tConvertSelectionToUVs;\n\t//Get name of shape to perform flip UVs on\n\tstring $getShapeName[] = `ls -o -sl`;\n\t//Get U and V pivot location\n\t$selectionUVPivot = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\tpolyEditUV -pu $selectionUVPivot[0] -pv $selectionUVPivot[1] -su -1 -sv 1;\n}\n\n\n//***********************************************************************************************************************************************************\n//Flip UVs V\nglobal proc m341_mirrorEr_flipV() \n{  \n\tConvertSelectionToUVs;\n\t//Get name of shape to perform flip UVs on\n\tstring $getShapeName[] = `ls -o -sl`;\n\t//Get U and V pivot location\n\t$selectionUVPivot = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\tpolyEditUV -pu $selectionUVPivot[0] -pv $selectionUVPivot[1] -su 1 -sv -1;\n}\n\n\n//***********************************************************************************************************************************************************\n//Flip X\nglobal proc m341_mirrorEr_flipX()\n{\n\t//Mode that controls which axis to mirror on\n\tstring $mode = \"X\";\n\n\t//Error\n\tstring $selected[] = `ls -sl`;\n\tint $sizeSelected = `size $selected`;\n\tif ($sizeSelected == 0)\n\t{\n\t\terror \"Nothing selected\";\n\t}\n\n\t//Fix other unit measurements\n\tstring $mayaUnits = `currentUnit -q`;\n\tcurrentUnit -linear \"cm\";\n\t\n\t//Store current tool\n\tstring $currentToolActive = `currentCtx`;\n\n\tint $mirrorUVsCheckMarkValue = `checkBox -query -value flipUV_CheckBoxName`;\n\tint $useWP_checkBoxValue = `checkBox -query -value useWP_CheckBoxName`;\n\t\n\t\n\t//Check if components selected for flip to work on components rathher than whole mesh\n    string $components[] = `ls -sl -fl`;\n    string $verts[] = `filterExpand -ex 1 -sm 31`;\n    int $sizeVerts = `size $verts`;\n\n    string $edges[] = `filterExpand -ex 1 -sm 32`;\n    int $sizeEdges = `size $edges`;\n\n    string $faces[] = `filterExpand -ex 1 -sm 34`;\n    int $sizeFaces = `size $faces`;\n    \n    string $UVs[] = `filterExpand -ex 1 -sm 35`;\n    int $sizeUVs = `size $UVs`;\n    \n    \n    //Query what component mode the user is in\n\tint $component_Face = `selectType -q -facet`;\n    int $component_Shell = `selectType -q -meshUVShell`;\n    int $component_Vert = `selectType -q -vertex`;\n    int $component_Edge = `selectType -q -edge`;\n    int $component_UV = `selectType -q -polymeshUV`;\n    int $component_Multi = `selectType -q -meshComponents`;\n\t\n\t\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\n\n\t//Get move tool position\n\tstring $obj[] = `ls -sl`;\n\tMoveTool;\n\tfloat $moveToolPOS[] = `manipMoveContext -q -position \"Move\"`;\n\t\n\t//Move pivot to 0, 0, 0 if use WS is turned on\n\tif ($useWP_checkBoxValue == 1) \n\t{\n\t\txform -worldSpace -pivots 0 0 0;\n\t}\n\t\n\t\n\t//Flip components fix\n\tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t{\n\t    if ($component_Face > 0)\n        {\n\t        SelectFacetMask;\n        }\n\n        if ($component_Shell > 0)\n        {\n        \tSelectMeshUVShell;\n        }\n\t\n        if ($component_Vert > 0)\n        {\n        \tSelectVertexMask;\n        }\n\n        if ($component_Edge > 0)\n        {\n    \t    SelectEdgeMask;\n        }\n\n        if ($component_UV > 0)\n        {\n\t        SelectUVMask;\n        }\n    \n        if ($component_Multi > 0)\n        {\n    \t    SelectMultiComponentMask;\n        }\n        select $components;\n\t    ReversePolygonNormals;\n\t    delete -constructionHistory $obj;\n    }\n\n\n\t//Mirror geometry here\n\tif ($mode == \"X\")\n\t{\tscale -r -1 1 1;\n\t\tFreezeTransformations;\n\t}\n\tif ($mode == \"Y\")\n\t{\tscale -r 1 -1 1;\n\t\tFreezeTransformations;\n\t}\n\tif ($mode == \"Z\")\n\t{\tscale -r 1 1 -1;\n\t\tFreezeTransformations;\n\t}\n\n\t//Mirror UVs version\n\tif ($mirrorUVsCheckMarkValue == 1)\n\t{\n\t\tif ($mode == \"X\")\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t}\n\t\tif ($mode == \"Y\")\n\t\t{\n\t\t\tm341_mirrorEr_flipV();\n\t\t}\n\t\tif ($mode == \"Z\")\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t}\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\t\n\t\t//Flip components fix\n    \tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t    {\n\t        if ($component_Face > 0)\n            {\n\t            SelectFacetMask;\n            }\n\n            if ($component_Shell > 0)\n            {\n            \tSelectMeshUVShell;\n            }\n\t\n            if ($component_Vert > 0)\n            {\n            \tSelectVertexMask;\n            }\n\n            if ($component_Edge > 0)\n            {\n        \t    SelectEdgeMask;\n            }\n\n            if ($component_UV > 0)\n            {\n\t            SelectUVMask;\n            }\n    \n            if ($component_Multi > 0)\n            {\n        \t    SelectMultiComponentMask;\n            }\n            select $components;\n        }\n\t}\t\t\n\tDeleteHistory;\n\t\n\t\n\t//Move pivots to correct locations\n    if ($useWP_checkBoxValue == 1) \n   \t{\n\t\tmakeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n\t\tselect $obj;\n\t\t\n\t\tif ($mode == \"X\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[0] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS_Negative $moveToolPOS[1] $moveToolPOS[2];\t\t\n\t\t}\n\t\tif ($mode == \"Y\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[1] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS_Negative $moveToolPOS[2];\t\t\n\t\t}\n\t\tif ($mode == \"Z\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[2] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS_Negative;\t\t\n\t\t}\n\t\t\n\t\t//Flip components fix\n    \tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t    {\n\t        if ($component_Face > 0)\n            {\n\t            SelectFacetMask;\n            }\n\n            if ($component_Shell > 0)\n            {\n            \tSelectMeshUVShell;\n            }\n\t\n            if ($component_Vert > 0)\n            {\n            \tSelectVertexMask;\n            }\n\n            if ($component_Edge > 0)\n            {\n        \t    SelectEdgeMask;\n            }\n\n            if ($component_UV > 0)\n            {\n\t            SelectUVMask;\n            }\n    \n            if ($component_Multi > 0)\n            {\n        \t    SelectMultiComponentMask;\n            }\n            select $components;\n        }\n\t}\n\t\n\t//Switch back to user choosen measure unit\n\tcurrentUnit -linear $mayaUnits;\n\t\n\t//Bring back user tool\n\tsetToolTo $currentToolActive;\n\t\n\t//Print\n\tif ($mirrorUVsCheckMarkValue == 1)\n\t{\n\t\tprint (\"Flipped object and UVs on \" + $mode + \"\\n\");\n\t}\n\telse\n\t{\n\t\tprint (\"Flipped object on \" + $mode + \"\\n\");\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Flip Y\nglobal proc m341_mirrorEr_flipY()\n{\n\t//Mode that controls which axis to mirror on\n\tstring $mode = \"Y\";\n\n\t//Error\n\tstring $selected[] = `ls -sl`;\n\tint $sizeSelected = `size $selected`;\n\tif ($sizeSelected == 0)\n\t{\n\t\terror \"Nothing selected\";\n\t}\n\n\t//Fix other unit measurements\n\tstring $mayaUnits = `currentUnit -q`;\n\tcurrentUnit -linear \"cm\";\n\t\n\t//Store current tool\n\tstring $currentToolActive = `currentCtx`;\n\n\tint $mirrorUVsCheckMarkValue = `checkBox -query -value flipUV_CheckBoxName`;\n\tint $useWP_checkBoxValue = `checkBox -query -value useWP_CheckBoxName`;\n\t\n\t\n\t//Check if components selected for flip to work on components rathher than whole mesh\n    string $components[] = `ls -sl -fl`;\n    string $verts[] = `filterExpand -ex 1 -sm 31`;\n    int $sizeVerts = `size $verts`;\n\n    string $edges[] = `filterExpand -ex 1 -sm 32`;\n    int $sizeEdges = `size $edges`;\n\n    string $faces[] = `filterExpand -ex 1 -sm 34`;\n    int $sizeFaces = `size $faces`;\n    \n    string $UVs[] = `filterExpand -ex 1 -sm 35`;\n    int $sizeUVs = `size $UVs`;\n    \n    \n    //Query what component mode the user is in\n\tint $component_Face = `selectType -q -facet`;\n    int $component_Shell = `selectType -q -meshUVShell`;\n    int $component_Vert = `selectType -q -vertex`;\n    int $component_Edge = `selectType -q -edge`;\n    int $component_UV = `selectType -q -polymeshUV`;\n    int $component_Multi = `selectType -q -meshComponents`;\n\t\n\t\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\n\n\t//Get move tool position\n\tstring $obj[] = `ls -sl`;\n\tMoveTool;\n\tfloat $moveToolPOS[] = `manipMoveContext -q -position \"Move\"`;\n\t\n\t//Move pivot to 0, 0, 0 if use WS is turned on\n\tif ($useWP_checkBoxValue == 1) \n\t{\n\t\txform -worldSpace -pivots 0 0 0;\n\t}\n\t\n\t\n\t//Flip components fix\n\tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t{\n\t    if ($component_Face > 0)\n        {\n\t        SelectFacetMask;\n        }\n\n        if ($component_Shell > 0)\n        {\n        \tSelectMeshUVShell;\n        }\n\t\n        if ($component_Vert > 0)\n        {\n        \tSelectVertexMask;\n        }\n\n        if ($component_Edge > 0)\n        {\n    \t    SelectEdgeMask;\n        }\n\n        if ($component_UV > 0)\n        {\n\t        SelectUVMask;\n        }\n    \n        if ($component_Multi > 0)\n        {\n    \t    SelectMultiComponentMask;\n        }\n        select $components;\n\t    ReversePolygonNormals;\n\t    delete -constructionHistory $obj;\n    }\n\n\n\t//Mirror geometry here\n\tif ($mode == \"X\")\n\t{\tscale -r -1 1 1;\n\t\tFreezeTransformations;\n\t}\n\tif ($mode == \"Y\")\n\t{\tscale -r 1 -1 1;\n\t\tFreezeTransformations;\n\t}\n\tif ($mode == \"Z\")\n\t{\tscale -r 1 1 -1;\n\t\tFreezeTransformations;\n\t}\n\n\t//Mirror UVs version\n\tif ($mirrorUVsCheckMarkValue == 1)\n\t{\n\t\tif ($mode == \"X\")\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t}\n\t\tif ($mode == \"Y\")\n\t\t{\n\t\t\tm341_mirrorEr_flipV();\n\t\t}\n\t\tif ($mode == \"Z\")\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t}\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\t\n\t\t//Flip components fix\n    \tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t    {\n\t        if ($component_Face > 0)\n            {\n\t            SelectFacetMask;\n            }\n\n            if ($component_Shell > 0)\n            {\n            \tSelectMeshUVShell;\n            }\n\t\n            if ($component_Vert > 0)\n            {\n            \tSelectVertexMask;\n            }\n\n            if ($component_Edge > 0)\n            {\n        \t    SelectEdgeMask;\n            }\n\n            if ($component_UV > 0)\n            {\n\t            SelectUVMask;\n            }\n    \n            if ($component_Multi > 0)\n            {\n        \t    SelectMultiComponentMask;\n            }\n            select $components;\n        }\n\t}\t\t\n\tDeleteHistory;\n\t\n\t\n\t//Move pivots to correct locations\n    if ($useWP_checkBoxValue == 1) \n   \t{\n\t\tmakeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n\t\tselect $obj;\n\t\t\n\t\tif ($mode == \"X\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[0] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS_Negative $moveToolPOS[1] $moveToolPOS[2];\t\t\n\t\t}\n\t\tif ($mode == \"Y\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[1] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS_Negative $moveToolPOS[2];\t\t\n\t\t}\n\t\tif ($mode == \"Z\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[2] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS_Negative;\t\t\n\t\t}\n\t\t\n\t\t//Flip components fix\n    \tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t    {\n\t        if ($component_Face > 0)\n            {\n\t            SelectFacetMask;\n            }\n\n            if ($component_Shell > 0)\n            {\n            \tSelectMeshUVShell;\n            }\n\t\n            if ($component_Vert > 0)\n            {\n            \tSelectVertexMask;\n            }\n\n            if ($component_Edge > 0)\n            {\n        \t    SelectEdgeMask;\n            }\n\n            if ($component_UV > 0)\n            {\n\t            SelectUVMask;\n            }\n    \n            if ($component_Multi > 0)\n            {\n        \t    SelectMultiComponentMask;\n            }\n            select $components;\n        }\n\t}\n\t\n\t//Switch back to user choosen measure unit\n\tcurrentUnit -linear $mayaUnits;\n\t\n\t//Bring back user tool\n\tsetToolTo $currentToolActive;\n\t\n\t//Print\n\tif ($mirrorUVsCheckMarkValue == 1)\n\t{\n\t\tprint (\"Flipped object and UVs on \" + $mode + \"\\n\");\n\t}\n\telse\n\t{\n\t\tprint (\"Flipped object on \" + $mode + \"\\n\");\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Flip Z\nglobal proc m341_mirrorEr_flipZ()\n{\n\t//Mode that controls which axis to mirror on\n\tstring $mode = \"Z\";\n\n\t//Error\n\tstring $selected[] = `ls -sl`;\n\tint $sizeSelected = `size $selected`;\n\tif ($sizeSelected == 0)\n\t{\n\t\terror \"Nothing selected\";\n\t}\n\n\t//Fix other unit measurements\n\tstring $mayaUnits = `currentUnit -q`;\n\tcurrentUnit -linear \"cm\";\n\t\n\t//Store current tool\n\tstring $currentToolActive = `currentCtx`;\n\n\tint $mirrorUVsCheckMarkValue = `checkBox -query -value flipUV_CheckBoxName`;\n\tint $useWP_checkBoxValue = `checkBox -query -value useWP_CheckBoxName`;\n\t\n\t\n\t//Check if components selected for flip to work on components rathher than whole mesh\n    string $components[] = `ls -sl -fl`;\n    string $verts[] = `filterExpand -ex 1 -sm 31`;\n    int $sizeVerts = `size $verts`;\n\n    string $edges[] = `filterExpand -ex 1 -sm 32`;\n    int $sizeEdges = `size $edges`;\n\n    string $faces[] = `filterExpand -ex 1 -sm 34`;\n    int $sizeFaces = `size $faces`;\n    \n    string $UVs[] = `filterExpand -ex 1 -sm 35`;\n    int $sizeUVs = `size $UVs`;\n    \n    \n    //Query what component mode the user is in\n\tint $component_Face = `selectType -q -facet`;\n    int $component_Shell = `selectType -q -meshUVShell`;\n    int $component_Vert = `selectType -q -vertex`;\n    int $component_Edge = `selectType -q -edge`;\n    int $component_UV = `selectType -q -polymeshUV`;\n    int $component_Multi = `selectType -q -meshComponents`;\n\t\n\t\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\n\n\t//Get move tool position\n\tstring $obj[] = `ls -sl`;\n\tMoveTool;\n\tfloat $moveToolPOS[] = `manipMoveContext -q -position \"Move\"`;\n\t\n\t//Move pivot to 0, 0, 0 if use WS is turned on\n\tif ($useWP_checkBoxValue == 1) \n\t{\n\t\txform -worldSpace -pivots 0 0 0;\n\t}\n\t\n\t\n\t//Flip components fix\n\tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t{\n\t    if ($component_Face > 0)\n        {\n\t        SelectFacetMask;\n        }\n\n        if ($component_Shell > 0)\n        {\n        \tSelectMeshUVShell;\n        }\n\t\n        if ($component_Vert > 0)\n        {\n        \tSelectVertexMask;\n        }\n\n        if ($component_Edge > 0)\n        {\n    \t    SelectEdgeMask;\n        }\n\n        if ($component_UV > 0)\n        {\n\t        SelectUVMask;\n        }\n    \n        if ($component_Multi > 0)\n        {\n    \t    SelectMultiComponentMask;\n        }\n        select $components;\n\t    ReversePolygonNormals;\n\t    delete -constructionHistory $obj;\n    }\n\n\n\t//Mirror geometry here\n\tif ($mode == \"X\")\n\t{\tscale -r -1 1 1;\n\t\tFreezeTransformations;\n\t}\n\tif ($mode == \"Y\")\n\t{\tscale -r 1 -1 1;\n\t\tFreezeTransformations;\n\t}\n\tif ($mode == \"Z\")\n\t{\tscale -r 1 1 -1;\n\t\tFreezeTransformations;\n\t}\n\n\t//Mirror UVs version\n\tif ($mirrorUVsCheckMarkValue == 1)\n\t{\n\t\tif ($mode == \"X\")\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t}\n\t\tif ($mode == \"Y\")\n\t\t{\n\t\t\tm341_mirrorEr_flipV();\n\t\t}\n\t\tif ($mode == \"Z\")\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t}\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\t\n\t\t//Flip components fix\n    \tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t    {\n\t        if ($component_Face > 0)\n            {\n\t            SelectFacetMask;\n            }\n\n            if ($component_Shell > 0)\n            {\n            \tSelectMeshUVShell;\n            }\n\t\n            if ($component_Vert > 0)\n            {\n            \tSelectVertexMask;\n            }\n\n            if ($component_Edge > 0)\n            {\n        \t    SelectEdgeMask;\n            }\n\n            if ($component_UV > 0)\n            {\n\t            SelectUVMask;\n            }\n    \n            if ($component_Multi > 0)\n            {\n        \t    SelectMultiComponentMask;\n            }\n            select $components;\n        }\n\t}\t\t\n\tDeleteHistory;\n\t\n\t\n\t//Move pivots to correct locations\n    if ($useWP_checkBoxValue == 1) \n   \t{\n\t\tmakeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n\t\tselect $obj;\n\t\t\n\t\tif ($mode == \"X\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[0] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS_Negative $moveToolPOS[1] $moveToolPOS[2];\t\t\n\t\t}\n\t\tif ($mode == \"Y\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[1] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS_Negative $moveToolPOS[2];\t\t\n\t\t}\n\t\tif ($mode == \"Z\")\n\t\t{\n\t\t\tfloat $moveToolPOS_Negative = $moveToolPOS[2] * -1;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS_Negative;\t\t\n\t\t}\n\t\t\n\t\t//Flip components fix\n    \tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t    {\n\t        if ($component_Face > 0)\n            {\n\t            SelectFacetMask;\n            }\n\n            if ($component_Shell > 0)\n            {\n            \tSelectMeshUVShell;\n            }\n\t\n            if ($component_Vert > 0)\n            {\n            \tSelectVertexMask;\n            }\n\n            if ($component_Edge > 0)\n            {\n        \t    SelectEdgeMask;\n            }\n\n            if ($component_UV > 0)\n            {\n\t            SelectUVMask;\n            }\n    \n            if ($component_Multi > 0)\n            {\n        \t    SelectMultiComponentMask;\n            }\n            select $components;\n        }\n\t}\n\t\n\t//Switch back to user choosen measure unit\n\tcurrentUnit -linear $mayaUnits;\n\t\n\t//Bring back user tool\n\tsetToolTo $currentToolActive;\n\t\n\t//Print\n\tif ($mirrorUVsCheckMarkValue == 1)\n\t{\n\t\tprint (\"Flipped object and UVs on \" + $mode + \"\\n\");\n\t}\n\telse\n\t{\n\t\tprint (\"Flipped object on \" + $mode + \"\\n\");\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Mirror X\nglobal proc m341_mirrorEr_mirrorX() \n{  \n\n\t//Error\n\tstring $selected[] = `ls -sl`;\n\tint $sizeSelected = `size $selected`;\n\tif ($sizeSelected == 0)\n\t{\n\t\terror \"Nothing selected\\n\";\n\t}\n\t\n\t//Fix other unit measurements\n\tstring $mayaUnits = `currentUnit -q`;\n\tcurrentUnit -linear \"cm\";\n\t\n\tint $instanceCheckMarkValue = `checkBox -query -value instance_CheckBoxName`;\n\tint $mergeVertsCheckMarkValue = `checkBox -query -value mergeVerts_CheckBoxName`;\n\tint $cutGeometryCheckMarkValuePlus = `checkBox -query -value cutPlus_CheckBoxName`;\n\tint $cutGeometryCheckMarkValueMinus = `checkBox -query -value cutMinus_CheckBoxName`;\n\tint $mirrorUVsCheckMarkValue = `checkBox -query -value flipUV_CheckBoxName`;\n\tint $useWP_checkBoxValue = `checkBox -query -value useWP_CheckBoxName`;\n\t\n\t//Update merge float field in case user doesn't have to press enter\n\tglobal float $m341_mergeRadius_userInput;\n\tm341_mirrorEr_merge_ValueChanged();\n\t\n\t//Switch to object mode to prevent errors while mirroring\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\t\n\t//Get move tool position\n\tstring $obj[] = `ls -sl`;\n\tMoveTool;\n\tfloat $moveToolPOS[] = `manipMoveContext -q -position \"Move\"`;\n\t\t\n\t//Move pivot to 0, 0, 0 if use WS is turned on\n\tif ($useWP_checkBoxValue == 1) \n\t{\n\t\txform -worldSpace -pivots 0 0 0;\n\t}\n\t\t\n\tif ($mergeVertsCheckMarkValue == 1) \n\t{\n\t\t//Merge X\n\t\tDeleteHistory;\n\t\t$mirrorErMergeFirstSelectedObject = `ls -sl`;\n\t\tDuplicate;\n\t\t$mirrorErMergeSecondSelectedObject = `ls -sl`;\n\t\tscale -r -1 1 1 ;\n\t\tFreezeTransformations;\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t\ttoggleSelMode;\n\t\t\ttoggleSelMode;\n\t\t\tselectMode -object;\n\t\t}\n\t\tselect -add $mirrorErMergeFirstSelectedObject;\n\t\t\n\t\t//Move pivot back\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t}\t\t\n\t\t//Run combine/merge button\n\t\tm341_mirrorEr_combineMerge();\n\t}\n\t\n\telse if ($cutGeometryCheckMarkValuePlus == 1) \n\t{\n\t\t//Cut plus X\n\t\tFreezeTransformations;\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 0 -axisDirection 0 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 1 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_x_\");\n\t\t\tprint \"Cut object and UVs on plus X\\n\";\n\t\t}\n\t\t//Do not mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 0)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 0 -axisDirection 0 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 0 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_x_\");\n\t\t\tprint \"Cut object on plus X\\n\";\n\t\t}\n\t}\n\t\n\telse if ($cutGeometryCheckMarkValueMinus == 1) \n\t{\n\t\t//Cut minus X\n\t\tFreezeTransformations;\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 0 -axisDirection 1 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 1 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_x_\");\n\t\t\tprint \"Cut object and UVs on minus X\\n\";\n\t\t}\n\t\t//Do not mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 0)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 0 -axisDirection 1 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 0 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_x_\");\n\t\t\tprint \"Cut object on minus X\\n\";\n\t\t}\n\t}\n\t\n\telse if ($instanceCheckMarkValue == 0) \n\t{\n\t\t//Mirror X\n\t\tstring $selection[] = `ls -sl`;\n\t\tstring $obj[] = {};\n\t\tfor ($item in $selection)\n\t\t{\n            select $item;\n    \t\tDuplicate;\n            \n            select -add $obj;\n    \t\t$obj = `ls -sl`;\n    \t\tselect $obj;\n    \t}\n\n\t\tscale -r -1 1 1 ;\n\t\tFreezeTransformations;\n\t\tstring $mirrorErSelectedObject[];\n\t\t$mirrorErSelectedObject = `ls -sl`;\n\t\tGroup;\n\t\tselect $mirrorErSelectedObject; \n\t\trenameSelectionList(\"mirrored_x_\");\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\t$mirrorErSelectedObject = `ls -sl`;\n\t\tPickWalkUp;\n\t\tungroup;\n\t\tDeleteHistory;\n\t\t\n\t\t//Move pivots to correct locations\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n            float $moveToolPOSNegativeX = $moveToolPOS[0] * -1;\n            xform -worldSpace -pivots $moveToolPOSNegativeX $moveToolPOS[1] $moveToolPOS[2];\n   \t    \tmakeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n\t\t\tselect $selection;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t\tselect $mirrorErSelectedObject;\n\t\t}\n\t\t\n\t\tprint \"Mirrored object on X\\n\";\n\t\t\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t\tselect $mirrorErSelectedObject; \n\t\t\tprint \"Mirrored object and UVs on X\\n\";\n\t\t}\n\t}\n\n\telse if ($instanceCheckMarkValue == 1) \n\t{\n\t\t//Instance X\n\t\tstring $selection[] = `ls -sl`;\n\t\tstring $obj[] = {};\n\t\tfor ($item in $selection)\n\t\t{\n            select $item;\n\t\t\t//duplicate -rr -instanceLeaf;\n\t\t\tduplicate -rr -instanceLeaf;\n            \n            select -add $obj;\n    \t\t$obj = `ls -sl`;\n    \t\tselect $obj;\n    \t}\n\t\t\n\t\tscale -r -1 1 1;\n\t\trenameSelectionList(\"instanced_x_\");\n\t\tDeleteHistory;\n\t\t\n\t\t//Move pivots to correct locations\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n\t\t\tstring $obj2[] = `ls -sl`;\n            float $moveToolPOSNegativeX = $moveToolPOS[0] * -1;\n            xform -worldSpace -pivots $moveToolPOSNegativeX $moveToolPOS[1] $moveToolPOS[2];\n   \t    \tselect $selection;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t\tselect $obj2;\n\t\t}\n\t\t\n\t\tprint \"Mirrored instance on X\\n\";\n\t}\n\t\n\t//Switch back to user choosen measure unit\n\tcurrentUnit -linear $mayaUnits;\n}\n\n\n//***********************************************************************************************************************************************************\n//Mirror Y\nglobal proc m341_mirrorEr_mirrorY() \n{\n\t//Error\n\tstring $selected[] = `ls -sl`;\n\tint $sizeSelected = `size $selected`;\n\tif ($sizeSelected == 0)\n\t{\n\t\terror \"Nothing selected\";\n\t}\n\t\n\t//Fix other unit measurements\n\tstring $mayaUnits = `currentUnit -q`;\n\tcurrentUnit -linear \"cm\";\n  \n\tint $instanceCheckMarkValue = `checkBox -query -value instance_CheckBoxName`;\n\tint $mergeVertsCheckMarkValue = `checkBox -query -value mergeVerts_CheckBoxName`;\n\tint $cutGeometryCheckMarkValuePlus = `checkBox -query -value cutPlus_CheckBoxName`;\n\tint $cutGeometryCheckMarkValueMinus = `checkBox -query -value cutMinus_CheckBoxName`;\n\tint $mirrorUVsCheckMarkValue = `checkBox -query -value flipUV_CheckBoxName`;\n\tint $useWP_checkBoxValue = `checkBox -query -value useWP_CheckBoxName`;\n\t\n\t//Update merge float field in case user doesn't have to press enter\n\tglobal float $m341_mergeRadius_userInput;\n\tm341_mirrorEr_merge_ValueChanged();\n\t\n\t//Switch to object mode to prevent errors while mirroring\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\t\n\t//Get move tool position\n\tstring $obj[] = `ls -sl`;\n\tMoveTool;\n\tfloat $moveToolPOS[] = `manipMoveContext -q -position \"Move\"`;\n\t\n\t//Move pivot to 0, 0, 0 if use WS is turned on\n\tif ($useWP_checkBoxValue == 1) \n\t{\n\t\txform -worldSpace -pivots 0 0 0;\n\t}\n\t\n\tif ($mergeVertsCheckMarkValue == 1) \n\t{\n\t\t//Merge Y\n\t\tDeleteHistory;\n\t\t$mirrorErMergeFirstSelectedObject = `ls -sl`;\n\t\tDuplicate;\n\t\t$mirrorErMergeSecondSelectedObject = `ls -sl`;\n\t\tscale -r 1 -1 1 ;\n\t\tFreezeTransformations;\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tm341_mirrorEr_flipV();\n\t\t\ttoggleSelMode;\n\t\t\ttoggleSelMode;\n\t\t\tselectMode -object;\n\t\t}\n\t\tselect -add $mirrorErMergeFirstSelectedObject;\n\t\t\n\t\t//Move pivot back\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t}\t\t\n\t\t//Run combine/merge button\n\t\tm341_mirrorEr_combineMerge();\n\t}\n\t\n\telse if ($cutGeometryCheckMarkValuePlus == 1) \n\t{\n\t\t//Cut plus Y\n\t\tFreezeTransformations;\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 1 -axisDirection 0 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 2 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_y_\");\n\t\t\tprint \"Cut object and UVs on plus Y\\n\";\n\t\t}\n\t\t//Do not mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 0)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 1 -axisDirection 0 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 0 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_y_\");\n\t\t\tprint \"Cut object on plus Y\\n\";\n\t\t}\n\t}\n\t\n\telse if ($cutGeometryCheckMarkValueMinus == 1) \n\t{\n\t\t//Cut minus Y\n\t\tFreezeTransformations;\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 1 -axisDirection 1 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 2 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_y_\");\n\t\t\tprint \"Cut object and UVs on minus Y\\n\";\t\t\n\t\t}\n\t\t//Do not mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 0)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 1 -axisDirection 1 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 0 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_y_\");\n\t\t\tprint \"Cut object on minus Y\\n\";\t\t\n\t\t}\n\t} \n\t\n\telse if ($instanceCheckMarkValue == 0) \n\t{\n\t\t//Mirror Y\n\t\tstring $selection[] = `ls -sl`;\n\t\tstring $obj[] = {};\n\t\tfor ($item in $selection)\n\t\t{\n            select $item;\n    \t\tDuplicate;\n            \n            select -add $obj;\n    \t\t$obj = `ls -sl`;\n    \t\tselect $obj;\n    \t}\n\t\t\n\t\tscale -r 1 -1 1 ;\n\t\tFreezeTransformations;\n\t\tstring $mirrorErSelectedObject[];\n\t\t$mirrorErSelectedObject = `ls -sl`;\n\t\tGroup;\n\t\tselect $mirrorErSelectedObject; \n\t\trenameSelectionList(\"mirrored_y_\");\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\t$mirrorErSelectedObject = `ls -sl`;\n\t\tPickWalkUp;\n\t\tungroup;\n\t\tDeleteHistory;\n\t\t\n\t\t//Move pivots to correct locations\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n            float $moveToolPOSNegativeY = $moveToolPOS[1] * -1;\n            xform -worldSpace -pivots $moveToolPOS[0] $moveToolPOSNegativeY $moveToolPOS[2];\n   \t    \tmakeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n\t\t\tselect $selection;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t\tselect $mirrorErSelectedObject;\n\t\t}\n\t\t\n\t\tprint \"Mirrored object on Y\\n\";\n\t\t\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tm341_mirrorEr_flipV();\n\t\t\tselect $mirrorErSelectedObject; \n\t\t\tprint \"Mirrored object and UVs on U\\n\";\n\t\t}\n\t}\n\n\telse if ($instanceCheckMarkValue == 1) \n\t{\n\t\t//Instance Y\n\t\tstring $selection[] = `ls -sl`;\n\t\tstring $obj[] = {};\n\t\tfor ($item in $selection)\n\t\t{\n            select $item;\n\t\t\tduplicate -rr -instanceLeaf;\n            \n            select -add $obj;\n    \t\t$obj = `ls -sl`;\n    \t\tselect $obj;\n    \t}\n\t\t\n\t\tscale -r 1 -1 1 ;\n\t\trenameSelectionList(\"instanced_y_\");\n\t\tDeleteHistory;\n\t\t\n\t\t//Move pivots to correct locations\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n\t\t\tstring $obj2[] = `ls -sl`;\n            float $moveToolPOSNegativeY = $moveToolPOS[1] * -1;\n            xform -worldSpace -pivots $moveToolPOS[0] $moveToolPOSNegativeY $moveToolPOS[2];\n   \t    \tselect $selection;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t\tselect $obj2;\n\t\t}\n\t\t\n\t\tprint \"Mirrored instance on Y\\n\";\n\t}\n\t\n\t//Switch back to user choosen measure unit\n\tcurrentUnit -linear $mayaUnits;\n}\n\n\n//***********************************************************************************************************************************************************\n//Mirror Z\nglobal proc m341_mirrorEr_mirrorZ() \n{\n\t//Error\n\tstring $selected[] = `ls -sl`;\n\tint $sizeSelected = `size $selected`;\n\tif ($sizeSelected == 0)\n\t{\n\t\terror \"Nothing selected\";\n\t}\n\t\n\t//Fix other unit measurements\n\tstring $mayaUnits = `currentUnit -q`;\n\tcurrentUnit -linear \"cm\";\n\n\tint $instanceCheckMarkValue = `checkBox -query -value instance_CheckBoxName`;\n\tint $mergeVertsCheckMarkValue = `checkBox -query -value mergeVerts_CheckBoxName`;\n\tint $cutGeometryCheckMarkValuePlus = `checkBox -query -value cutPlus_CheckBoxName`;\n\tint $cutGeometryCheckMarkValueMinus = `checkBox -query -value cutMinus_CheckBoxName`;\n\tint $mirrorUVsCheckMarkValue = `checkBox -query -value flipUV_CheckBoxName`;\n\tint $useWP_checkBoxValue = `checkBox -query -value useWP_CheckBoxName`;\n\t\n\t//Update merge float field in case user doesn't have to press enter\n\tglobal float $m341_mergeRadius_userInput;\n\tm341_mirrorEr_merge_ValueChanged();\n\t\n\t//Switch to object mode to prevent errors while mirroring\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\t\n\t//Get move tool position\n\tstring $obj[] = `ls -sl`;\n\tMoveTool;\n\tfloat $moveToolPOS[] = `manipMoveContext -q -position \"Move\"`;\n\t\n\t//Move pivot to 0, 0, 0 if use WS is turned on\n\tif ($useWP_checkBoxValue == 1) \n\t{\n\t\txform -worldSpace -pivots 0 0 0;\n\t}\n\t\n\tif ($mergeVertsCheckMarkValue == 1) \n\t{\n\t\t//Merge Z\n\t\tDeleteHistory;\n\t\t$mirrorErMergeFirstSelectedObject = `ls -sl`;\n\t\tDuplicate;\n\t\t$mirrorErMergeSecondSelectedObject = `ls -sl`;\n\t\tscale -r 1 1 -1 ;\n\t\tFreezeTransformations;\n\t\t//Turned off because it doesn't make sense to mirror UVs on z Mirror UVs\n\t\t//if ($mirrorUVsCheckMarkValue == 1)\n\t\t//{\n\t\t\t//m341_mirrorEr_flipU();\n\t\t\t//toggleSelMode;\n\t\t\t//toggleSelMode;\n\t\t\t//selectMode -object;\n\t\t//}\n\t\tselect -add $mirrorErMergeFirstSelectedObject;\n\t\t\n\t\t//Move pivot back\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t}\t\t\n\t\t//Run combine/merge button\n\t\tm341_mirrorEr_combineMerge();\n\t}\n\t\n\telse if ($cutGeometryCheckMarkValuePlus == 1) \n\t{\n\t\t//Cut plus Z\n\t\tFreezeTransformations;\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 2 -axisDirection 0 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 2 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_z_\");\n\t\t\tprint \"Cut object and UVs on plus Z\\n\";\n\t\t}\n\t\t//Do not mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 0)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 2 -axisDirection 0 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 0 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_z_\");\n\t\t\tprint \"Cut object on plus Z\\n\";\n\t\t}\n\t}\n\t\n\telse if ($cutGeometryCheckMarkValueMinus == 1) \n\t{\n\t\t//Cut minus Y\n\t\tFreezeTransformations;\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 2 -axisDirection 1 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 2 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_z_\");\n\t\t\tprint \"Cut object and UVs on minus Z\\n\";\t\t\n\t\t}\n\t\t//Do not mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 0)\n\t\t{\n\t\t\tpolyMirrorFace -cutMesh 1 -axis 2 -axisDirection 1 -mergeMode 1 -mergeThresholdType 0 -mergeThreshold 0.001 -mirrorAxis 1 -mirrorPosition 0 -smoothingAngle 30 -flipUVs 0 -ch 1;\n\t\t\tsetToolTo ShowManips;\n\t\t\trenameSelectionList(\"cut_z_\");\n\t\t\tprint \"Cut object on minus Z\\n\";\t\t\n\t\t}\n\t} \n\t\n\telse if ($instanceCheckMarkValue == 0) \n\t{\n\t\t//Mirror Z\n\t\tstring $selection[] = `ls -sl`;\n\t\tstring $obj[] = {};\n\t\tfor ($item in $selection)\n\t\t{\n            select $item;\n    \t\tDuplicate;\n            \n            select -add $obj;\n    \t\t$obj = `ls -sl`;\n    \t\tselect $obj;\n    \t}\n\t\t\n\t\tscale -r 1 1 -1 ;\n\t\tFreezeTransformations;\n\t\tstring $mirrorErSelectedObject[];\n\t\t$mirrorErSelectedObject = `ls -sl`;\n\t\tGroup;\n\t\tselect $mirrorErSelectedObject; \n\t\trenameSelectionList(\"mirrored_z_\");\n\t\tchangeSelectMode -component;\n\t\tchangeSelectMode -object;\n\t\t$mirrorErSelectedObject = `ls -sl`;\n\t\tPickWalkUp;\n\t\tungroup;\n\t\tDeleteHistory;\n\t\t\n\t\t//Move pivots to correct locations\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n            float $moveToolPOSNegativeZ = $moveToolPOS[2] * -1;\n            xform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOSNegativeZ;\n   \t    \tmakeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n\t\t\tstring $obj2[] = `ls -sl`;\n\t\t\tselect $selection;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t\tselect $obj2;\n\t\t}\n\t\t\n\t\tprint \"Mirrored object on Z\\n\";\n\t\t\n\t\t//Mirror UVs\n\t\tif ($mirrorUVsCheckMarkValue == 1)\n\t\t{\n\t\t\tm341_mirrorEr_flipU();\n\t\t\tselect $mirrorErSelectedObject; \n\t\t\tprint \"Mirrored object and UVs on Z\\n\";\n\t\t}\n\t\t\n\t}\n\n\telse if ($instanceCheckMarkValue == 1) \n\t{\n\t\t//Instance Z\n\t\tstring $selection[] = `ls -sl`;\n\t\tstring $obj[] = {};\n\t\tfor ($item in $selection)\n\t\t{\n            select $item;\n\t\t\tduplicate -rr -instanceLeaf;\n            \n            select -add $obj;\n    \t\t$obj = `ls -sl`;\n    \t\tselect $obj;\n    \t}\n\t\t\n\t\tscale -r 1 1 -1 ;\n\t\trenameSelectionList(\"instanced_z_\");\n\t\tDeleteHistory;\n\t\t\n\t\t//Move pivots to correct locations\n\t    if ($useWP_checkBoxValue == 1) \n    \t{\n\t\t\tstring $obj2[] = `ls -sl`;\n            float $moveToolPOSNegativeZ = $moveToolPOS[2] * -1;\n            xform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOSNegativeZ;\n   \t    \tselect $selection;\n\t\t\txform -worldSpace -pivots $moveToolPOS[0] $moveToolPOS[1] $moveToolPOS[2];\n\t\t\tselect $obj2;\n\t\t}\n\t\t\n\t\tprint \"Mirrored instance on Z\\n\";\n\t}\n\t\n\t//Switch back to user choosen measure unit\n\tcurrentUnit -linear $mayaUnits;\n}\n\n\n//***********************************************************************************************************************************************************\n//Mirror geometry\n//global proc button4mirrorEr() \n//{  \n//\tMirrorPolygonGeometryOptions;\n//\tprint \"Mirror geometry options loaded\";\n//}\n\n\n//***********************************************************************************************************************************************************\n//Duplicate with History\nglobal proc m341_mirrorEr_dupeWithHistory()\n{\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tduplicatePreset(1,1,1,0,1,0,0,0,0,0,0,0,0,0,1,1,1);\n\trenameSelectionList(\"duplicated_\");\n\tprint \"Duplicated object with history\\n\";\n}\n\n\n//***********************************************************************************************************************************************************\n//Instance \nglobal proc m341_mirrorEr_instance()\n{\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tduplicate -rr -instanceLeaf;\n\trenameSelectionList(\"instanced_\");\n\tDeleteHistory;\n\tprint \"Instanced object\\n\";\n}\n\n\n//***********************************************************************************************************************************************************\n//Instance to object\nglobal proc m341_mirrorEr_instanceToObject() \n{  \n\t//Switch to object mode to prevent errors while mirroring\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\n\tstring $mirrorErSelectedObject[];\n\t$mirrorErSelectedObject = `ls -sl`;\n\tconvertInstanceToObject;\n\tselect $mirrorErSelectedObject;\n\tprint \"Converted instances to objects\\n\";\n}\n\n\n//***********************************************************************************************************************************************************\n//Find GB\nglobal proc m341_mirrorEr_findGB() \n{  \n\t//Find Geometry Border Edges v1.0\n\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\n\t//Switch to edge selection mask mode\n\tsetSelectMode components Components;\n\tselectType -smp 0 -sme 1 -smf 0 -smu 0 -pv 0 -pe 1 -pf 0 -puv 0;\n\tHideManipulators; \n\n\t//Select geometry border edges to check for seams\n\tpolySelectConstraint -mode 3 -type 0x8000 -where 1;\n\tresetPolySelectConstraint;\n\n\t//Store geometry border edges in variable\n\t$geoBorderEdges = `ls -sl -fl`;\n\t$geoBorderEdgesSize = `size $geoBorderEdges`;\n\n\tprint (\"Geometry border edges found \" + $geoBorderEdgesSize + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Comebine and merge verts\nglobal proc m341_mirrorEr_combineMerge() \n{\n\tint $findGB_CheckMarkValue = `checkBox -query -value findGB_CheckBoxName`;\n\n\t//Check if any edges selected\n\tstring $numbEdgesSelected[] = `filterExpand -expand true -sm 32`;\n\tint $numbEdgesSelectedSize = size($numbEdgesSelected);\n\tif ($numbEdgesSelectedSize > 0)\n\t{\n\t\tConvertSelectionToVertices;\n\t}\n\t\n\t//Check if any faces selected\n\tstring $numbFacesSelected[] = `filterExpand -expand true -sm 34`;\n\tint $numbFacesSelectedSize = size($numbFacesSelected);\n\tif ($numbFacesSelectedSize > 0)\n\t{\n\t\tConvertSelectionToVertices;\n\t}\n\t\n\t//Check if any verts selected\n\tstring $numbVertsSelected[] = `filterExpand -expand true -sm 31`;\n\tint $numbVertsSelectedSize = size($numbVertsSelected);\n\t\n\t//Update merge float field in case user doesn't have to press enter\n\tglobal float $m341_mergeRadius_userInput;\n\tm341_mirrorEr_mergeFloat_ValueChanged();\n\t\n\tif ($numbVertsSelectedSize == 2)\n\t{\n\t\tpolyMergeVertex -d $m341_mergeRadius_userInput -am 1 -ch 0;\n\t\t//Delete history\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\tDeleteHistory;\n\t\t\n\t\t//Find geometry border edges\t\t\n\t\tif ($findGB_CheckMarkValue == 1)\n\t\t{\n\t\t\tm341_mirrorEr_findGeoBorderEdges();\n\t\t}\n\t\t\n\t\tSelectMultiComponentMask;\n\t\tprint \"Merged two verts to center\\n\";\n\t}\n\n\telse\n\t{\n\t\t//Switch to object mode\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\n\t\t//Check how many objects selected\n\t\tstring $numbObjectsSelected[] = `ls -sl`;\n\t\tint $numbObjectsSelectedSize = size($numbObjectsSelected);\n\t\t\n\t\t//If one object selected merge all verts\n\t\tif ($numbObjectsSelectedSize == 1)\n\t\t{\n\t\t\t//Check if any verts\n\t\t\tConvertSelectionToVertices;\n\t\t\tselect $numbVertsSelected;\n\t\t\t\n\t\t\t//Switch to object mode if no verts specifically selected so we can merge all verts\n\t\t\tif ($numbVertsSelectedSize == 0)\n\t\t\t{\n\t\t\t\ttoggleSelMode;\n\t\t\t\ttoggleSelMode;\n\t\t\t\tselectMode -object;\n\t\t\t\t\n\t\t\t\t//Check vert count\n\t\t\t\tint $vertCountBefore[] = `polyEvaluate -vertex`;\n\t\t\t\t\n\t\t\t\t//If all verts selected and merge radius too high nothing will merge as per Maya's own design\n\t\t\t\tpolyMergeVertex -d $m341_mergeRadius_userInput -am 1 -ch 0;\n\t\t\t\t//Delete history\n\t\t\t\ttoggleSelMode;\n\t\t\t\ttoggleSelMode;\n\t\t\t\tselectMode -object;\n\t\t\t\tDeleteHistory;\n\t\t\t\t\n\t\t\t\t//Check vert count\n\t\t\t\tint $vertCountAfter[] = `polyEvaluate -vertex`;\n\t\t\t\t\n\t\t\t\t//Switch to vert selection mask mode\n\t\t\t\tchangeSelectMode -component;\n\t\t\t\tsetComponentPickMask \"Point\" true;\n\t\t\t\tselectType -ocm -alc false;\n\t\t\t\tselectType -ocm -vertex true;\n\t\t\t\tselectType -sf false -se false -suv false -cv false;\n\t\t\t\t\n\t\t\t\t//Find geometry border edges\t\t\n\t\t\t\tif ($findGB_CheckMarkValue == 1)\n\t\t\t\t{\n\t\t\t\t\tm341_mirrorEr_findGeoBorderEdges();\n\t\t\t\t}\n\t\t\t\tprint (\"Merged all verts radius \" + $m341_mergeRadius_userInput + \"\\n\");\n\t\t\t\tif ($vertCountBefore[0] == $vertCountAfter[0])\n\t\t\t\t{\n\t\t\t\t\terror \"Merge radius set too high, no verts merged\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\telse\n\t\t\t{\n\t\t\t\tpolyMergeVertex -d $m341_mergeRadius_userInput -am 1 -ch 0;\n\t\t\t\t//Delete history\n\t\t\t\ttoggleSelMode;\n\t\t\t\ttoggleSelMode;\n\t\t\t\tselectMode -object;\n\t\t\t\tDeleteHistory;\n\t\t\t\t\n\t\t\t\t//Find geometry border edges\t\n\t\t\t\tif ($findGB_CheckMarkValue == 1)\n\t\t\t\t{\n\t\t\t\t\tm341_mirrorEr_findGeoBorderEdges();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tSelectMultiComponentMask;\n\t\t\t\tprint (\"Merged selected verts radius \" + $m341_mergeRadius_userInput + \"\\n\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//If more than one object do clean combine\n\t\telse\n\t\t{\n\t\t\n\t\t\t//Switch to object mode to prevent errors while mirroring\n\t\t\ttoggleSelMode;\n\t\t\ttoggleSelMode;\n\t\t\tselectMode -object;\n\t\t\t\n\t\t\tstring $mirrorCleanCombineAllSelected[] = `ls -sl`;\n\t\t\tstring $mirrorCleanCombineLastSelected[] = `ls -sl -tl 1`;\n\t\t\tconvertInstanceToObject;\n\t\t\tselect $mirrorCleanCombineAllSelected;\n\t\t\tselect $mirrorCleanCombineLastSelected;\n\t\t\t\n\t\t\tstring $mirrorCheckIfObjectInDisplayLayer[] = `listConnections -type displayLayer`;\n\t\t\tstring $mirrorObjectsDisplayLayerConvertToString = $mirrorCheckIfObjectInDisplayLayer[0];\n\t\t\t\n\t\t\tint $findGB_CheckMarkValue = `checkBox -query -value findGB_CheckBoxName`;\n\t\t\n\t\t\t\n\t\t\tif(size(listRelatives(\"-parent\")))\n\t\t\t{\n\t\t\t\tif (size($mirrorCheckIfObjectInDisplayLayer) <1)\n\t\t\t\t{\n\t\t\t\t\tselect $mirrorCleanCombineAllSelected;\n\t\t\t\t\tpickWalk -d up;\n\t\t\t\t\t$maTopGroupName = `ls -sl -tl 1`;\n\t\t\t\t\tselect $mirrorCleanCombineAllSelected;\n\t\t\t\t\t\n\t\t\t\t\tpolyUnite -ch 1 -mergeUVSets 1 -objectPivot -name ma_mirror_clean_combine_unique_name_1001;\n\t\t\t\t\t\n\t\t\t\t\t//Check vert count\n\t\t\t\t\tint $vertCountBefore[] = `polyEvaluate -vertex`;\n\t\t\t\t\t\n\t\t\t\t\tpolyMergeVertex -d $m341_mergeRadius_userInput -am 1 -ch 0;\n\t\t\t\t\t$maCombinedName = `ls -sl`;\n\t\t\t\t\tparent $maCombinedName $maTopGroupName;\n\t\t\t\t\tDeleteHistory;\n\t\t\t\t\t\n\t\t\t\t\t//Tokenize name to avoid group name getting pasted into renamed object if there was another object in the scene with the same name\t\n\t\t\t\t\tstring $newNameTokens[];\n\t\t\t\t\ttokenize $mirrorCleanCombineLastSelected[0] \"|\" $newNameTokens;\n\t\t\t\t\t$mirrorCleanCombineLastSelected[0] = $newNameTokens[size($newNameTokens)-1];\n\t\t\t\t\t\n\t\t\t\t\trename $mirrorCleanCombineLastSelected;\n\t\t\t\t\tMoveTool;\n\t\t\t\t\ttoggleSelMode;\n\t\t\t\t\ttoggleSelMode;\n\t\t\t\t\tselectMode -object;\n\t\t\t\t\t\n\t\t\t\t\t//Check vert count\n\t\t\t\t\tint $vertCountAfter[] = `polyEvaluate -vertex`;\n\t\t\t\t\t\n\t\t\t\t\t//Find geometry border edges\t\t\n\t\t\t\t\tif ($findGB_CheckMarkValue == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tm341_mirrorEr_findGeoBorderEdges();\n\t\t\t\t\t}\t\t\n\t\t\t\t\t\n\t\t\t\t\tprint (\"Last object selected has parent, no display layer, Combined merged overlapping verts radius\" + $m341_mergeRadius_userInput + \"\\n\");\n\t\t\t\t\tif ($vertCountBefore[0] == $vertCountAfter[0])\n\t\t\t\t\t{\n\t\t\t\t\t\terror \"Merge radius set too high, no verts merged\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tselect $mirrorCleanCombineAllSelected;\n\t\t\t\t\tpickWalk -d up;\n\t\t\t\t\t$maTopGroupName = `ls -sl -tl 1`;\n\t\t\t\t\tselect $mirrorCleanCombineAllSelected;\n\t\t\t\t\t\n\t\t\t\t\tpolyUnite -ch 1 -mergeUVSets 1 -objectPivot -name ma_mirror_clean_combine_unique_name_1001;\n\t\t\t\t\t\n\t\t\t\t\t//Check vert count\n\t\t\t\t\tint $vertCountBefore[] = `polyEvaluate -vertex`;\n\t\t\t\t\t\n\t\t\t\t\tpolyMergeVertex -d $m341_mergeRadius_userInput -am 1 -ch 0;\n\t\t\t\t\t$maCombinedName = `ls -sl`;\n\t\t\t\t\tparent $maCombinedName $maTopGroupName;\n\t\t\t\t\tDeleteHistory;\n\t\t\t\t\t\n\t\t\t\t\t//Tokenize name to avoid group name getting pasted into renamed object if there was another object in the scene with the same name\t\n\t\t\t\t\tstring $newNameTokens[];\n\t\t\t\t\ttokenize $mirrorCleanCombineLastSelected[0] \"|\" $newNameTokens;\n\t\t\t\t\t$mirrorCleanCombineLastSelected[0] = $newNameTokens[size($newNameTokens)-1];\n\t\t\t\t\t\n\t\t\t\t\trename $mirrorCleanCombineLastSelected;\n\t\t\t\t\tMoveTool;\n\t\t\t\t\tlayerEditorAddObjects $mirrorObjectsDisplayLayerConvertToString;\n\t\t\t\t\ttoggleSelMode;\n\t\t\t\t\ttoggleSelMode;\n\t\t\t\t\tselectMode -object;\n\t\t\t\t\t\n\t\t\t\t\t//Check vert count\n\t\t\t\t\tint $vertCountAfter[] = `polyEvaluate -vertex`;\n\t\t\t\t\t\n\t\t\t\t\t//Find geometry border edges\t\t\n\t\t\t\t\tif ($findGB_CheckMarkValue == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tm341_mirrorEr_findGeoBorderEdges();\n\t\t\t\t\t}\t\t\n\t\t\t\t\t\n\t\t\t\t\tprint (\"Last object selected has parent, found display layer, Combined merged overlapping verts radius\" + $m341_mergeRadius_userInput + \"\\n\");\n\t\t\t\t\tif ($vertCountBefore[0] == $vertCountAfter[0])\n\t\t\t\t\t{\n\t\t\t\t\t\terror \"Merge radius set too high, no verts merged\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (size($mirrorCheckIfObjectInDisplayLayer) <1)\n\t\t\t\t{\n\t\t\t\t\tselect $mirrorCleanCombineAllSelected;\n\t\t\t\t\t$mirrorCleanCombineLastSelected = `ls -sl -tl 1`;\n\t\t\t\t\tselect $mirrorCleanCombineAllSelected;\n\t\t\t\t\t\n\t\t\t\t\tpolyUnite -ch 0 -mergeUVSets 1 -objectPivot -name ma_mirror_clean_combine_unique_name_1001;\n\t\t\t\t\t\n\t\t\t\t\t//Check vert count\n\t\t\t\t\tint $vertCountBefore[] = `polyEvaluate -vertex`;\n\t\t\t\t\t\n\t\t\t\t\tpolyMergeVertex -d $m341_mergeRadius_userInput -am 1 -ch 0;\n\t\t\t\t\tDeleteHistory;\n\t\t\t\t\t\n\t\t\t\t\t//Tokenize name to avoid group name getting pasted into renamed object if there was another object in the scene with the same name\t\n\t\t\t\t\tstring $newNameTokens[];\n\t\t\t\t\ttokenize $mirrorCleanCombineLastSelected[0] \"|\" $newNameTokens;\n\t\t\t\t\t$mirrorCleanCombineLastSelected[0] = $newNameTokens[size($newNameTokens)-1];\n\t\t\t\t\t\n\t\t\t\t\trename $mirrorCleanCombineLastSelected;\n\t\t\t\t\tMoveTool;\n\t\t\t\t\ttoggleSelMode;\n\t\t\t\t\ttoggleSelMode;\n\t\t\t\t\tselectMode -object;\n\t\t\t\t\t\n\t\t\t\t\t//Check vert count\n\t\t\t\t\tint $vertCountAfter[] = `polyEvaluate -vertex`;\n\t\t\t\t\t\n\t\t\t\t\t//Find geometry border edges\t\t\n\t\t\t\t\tif ($findGB_CheckMarkValue == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tm341_mirrorEr_findGeoBorderEdges();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tprint (\"Last object selected no parent, no display layer, Combined merged overlapping verts radius \" + $m341_mergeRadius_userInput + \"\\n\");\n\t\t\t\t\tif ($vertCountBefore[0] == $vertCountAfter[0])\n\t\t\t\t\t{\n\t\t\t\t\t\terror \"Merge radius set too high, no verts merged\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tselect \t$mirrorCleanCombineAllSelected;\n\t\t\t\t\tpolyUnite -ch 0 -mergeUVSets 1 -objectPivot -name ma_mirror_clean_combine_unique_name_1001;\n\t\t\t\t\t\n\t\t\t\t\t//Check vert count\n\t\t\t\t\tint $vertCountBefore[] = `polyEvaluate -vertex`;\n\t\t\t\t\t\n\t\t\t\t\tpolyMergeVertex -d $m341_mergeRadius_userInput -am 1 -ch 0;\n\t\t\t\t\tDeleteHistory;\n\t\t\t\t\t\n\t\t\t\t\t//Tokenize name to avoid group name getting pasted into renamed object if there was another object in the scene with the same name\t\n\t\t\t\t\tstring $newNameTokens[];\n\t\t\t\t\ttokenize $mirrorCleanCombineLastSelected[0] \"|\" $newNameTokens;\n\t\t\t\t\t$mirrorCleanCombineLastSelected[0] = $newNameTokens[size($newNameTokens)-1];\n\t\t\t\t\t\n\t\t\t\t\trename $mirrorCleanCombineLastSelected;\n\t\t\t\t\tMoveTool;\n\t\t\t\t\ttoggleSelMode;\n\t\t\t\t\ttoggleSelMode;\n\t\t\t\t\tselectMode -object;\n\t\t\t\t\t\n\t\t\t\t\t//Check vert count\n\t\t\t\t\tint $vertCountAfter[] = `polyEvaluate -vertex`;\n\t\t\t\t\t\n\t\t\t\t\tlayerEditorAddObjects $mirrorObjectsDisplayLayerConvertToString;\n\t\t\t\t\t\n\t\t\t\t\t//Find geometry border edges\t\t\n\t\t\t\t\tif ($findGB_CheckMarkValue == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tm341_mirrorEr_findGeoBorderEdges();\n\t\t\t\t\t}\t\t\n\t\t\t\t\t\n\t\t\t\t\tprint (\"Last object selected no parent, found display layer, Combined merged overlapping verts radius \" + $m341_mergeRadius_userInput + \"\\n\");\n\t\t\t\t\tif ($vertCountBefore[0] == $vertCountAfter[0])\n\t\t\t\t\t{\n\t\t\t\t\t\terror \"Merge radius set too high, no verts merged\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Clean Combine v1.6\nglobal proc m341_cleanCombine()\n{\n\t//Store current tool\n\tstring $currentToolActive = `currentCtx`;\n\n\t//Store user selection\n\tstring $maCleanCombineAllSelected[] = `ls -sl`;\n\tDeleteHistory;\n\t{\n\t\t$Objs = `ls -sl`;\n\t\t$ObjsSize = `size $Objs`;\n\t\t$ObjCounter = 0;\n\t\t\n\t\tfor ($Item = 0; $Item < $ObjsSize; ++$Item)\n\t\t{\n\t\t\tselect $Objs[$ObjCounter];\n\t\t\tstring $shapeNode[] = `listRelatives -s -path`;\n\t\t\tint $shapeNodeSize = `size $shapeNode`;\n\t\t\tif ($shapeNodeSize > 1)\n\t\t\t{\n\t\t\t\tselect $shapeNode[0];\n\t\t\t\tpickWalk -d right;\n\t\t\t\tstring $ghostNode[] = `ls -sl`;\n\t\t\n\t\t\t\tif(`gmatch $ghostNode[0] \"*polySurfaceShape*\"`)\n\t\t\t\t{\n\t\t\t\t\t//If has no verts delete it\n\t\t\t\t\tConvertSelectionToVertices;\n\t\t\t\t\tstring $checkIfVerts[] = `filterExpand -sm 31`;\n\t\t\t\t\tint $checkIfVertsSize = `size $checkIfVerts`;\n\t\t\t\t\tif ($checkIfVertsSize == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete;\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t$ObjCounter = $ObjCounter + 1;\n\t\t}\n\t}\n\t//Select user selection so above clean up doesn't break below script\n\tselect $maCleanCombineAllSelected;\n\n\t\n\t$maCleanCombineAllSelected = `ls -sl`;\n\tstring $maCleanCombineLastSelected[] = `ls -sl -tl 1`;\n\tselect $maCleanCombineLastSelected;\n\tstring $maCheckIfObjectInDisplayLayer[] = `listConnections -type \"displayLayer\"`;\n\n\tglobal string $m341_ObjectsDisplayLayer[];\n\t$m341_ObjectsDisplayLayer = `listConnections -type \"displayLayer\"`;\n\t\n\tif(size(listRelatives(\"-parent\")))\n\t{\n\t\tif (size($maCheckIfObjectInDisplayLayer) <1)\n\t\t{\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tpickWalk -d up;\n\t\t\tstring $maTopGroupName[] = `ls -sl -tl 1`;\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tconvertInstanceToObject;\n\t\t\t\n\t\t\t//Store transform from last mesh\n\t\t\tselect $maCleanCombineAllSelected[size($maCleanCombineAllSelected)-1];\n\t\t\tduplicate;\n\t\t\trename \"m341_tempXform1\";\n\t\t\tstring $tempXform[] = `ls -sl -fl`;\n\t\t\tselect ($tempXform[0] + \".f[0]\");\n\t\t\tInvertSelection;\n\t\t\tdelete;\n\t\t\tselect $tempXform;\n\t\t\tMoveTool;\n            bakeCustomToolPivot 1 1;\n\t\t\t\n\t\t\t//Combine\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tpolyUnite -ch 1 -mergeUVSets 1 -objectPivot -name ma_clean_combine_unique_name_1001;\n\t\t\tstring $maCombinedName[] = `ls -sl`;\n\t\t\tparent $maCombinedName $maTopGroupName;\n\t\t\tDeleteHistory;\n\t\t\t\n\t\t\t//Tokenize name to avoid group name getting pasted into renamed object if there was another object in the scene with the same name\t\n\t\t\tstring $newNameTokens[];\n\t\t\ttokenize $maCleanCombineLastSelected[0] \"|\" $newNameTokens;\n\t\t\t$maCleanCombineLastSelected[0] = $newNameTokens[size($newNameTokens)-1];\n\t\t\trename $maCleanCombineLastSelected;\n\t\t\tstring $mesh[] = `ls -sl -fl`;\n\t\t\t\n\t\t\t//Paste back transforms\n\t\t\tparent $mesh $tempXform;\n            makeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n\t\t\t\n\t\t\t//Parent back\n\t\t\t$mesh = `ls -sl`;\n\t\t\tparent $mesh $maTopGroupName;\n            delete $tempXform;\n\n\t\t\tprint \"Last object selected has parent, no display layer, Combined\";\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tpickWalk -d up;\n\t\t\tstring $maTopGroupName[] = `ls -sl -tl 1`;\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tconvertInstanceToObject;\n\t\t\t\n\t\t\t//Store transform from last mesh\n\t\t\tselect $maCleanCombineAllSelected[size($maCleanCombineAllSelected)-1];\n\t\t\tduplicate;\n\t\t\trename \"m341_tempXform1\";\n\t\t\tstring $tempXform[] = `ls -sl -fl`;\n\t\t\tselect ($tempXform[0] + \".f[0]\");\n\t\t\tInvertSelection;\n\t\t\tdelete;\n\t\t\tselect $tempXform;\n\t\t\tMoveTool;\n            bakeCustomToolPivot 1 1;\n\t\t\t\n\t\t\t//Combine\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tpolyUnite -ch 1 -mergeUVSets 1 -objectPivot -name ma_clean_combine_unique_name_1001;\n\t\t\tstring $maCombinedName[] = `ls -sl`;\n\t\t\tparent $maCombinedName $maTopGroupName;\n\t\t\tDeleteHistory;\n\t\t\t\n\t\t\t//Tokenize name to avoid group name getting pasted into renamed object if there was another object in the scene with the same name\t\n\t\t\tstring $newNameTokens[];\n\t\t\ttokenize $maCleanCombineLastSelected[0] \"|\" $newNameTokens;\n\t\t\t$maCleanCombineLastSelected[0] = $newNameTokens[size($newNameTokens)-1];\n\t\t\trename $maCleanCombineLastSelected;\n\t\t\tstring $mesh[] = `ls -sl -fl`;\n\t\t\t\n\t\t\t//Paste back transforms\n\t\t\tparent $mesh $tempXform;\n            makeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n\t\t\t\n\t\t\t//Parent back\n\t\t\t$mesh = `ls -sl`;\n\t\t\tparent $mesh $maTopGroupName;\n            delete $tempXform;\n\t\t\t\n\t\t\tglobal string $m341_ObjectsDisplayLayer[];\n\t\t\tlayerEditorAddObjects \"$m341_ObjectsDisplayLayer\";\n\t\t\t\n\t\t\tprint \"Last object selected has parent, found display layer, Combined\";\n\t\t}\n\t\t\n\t}\n\t\n\telse\n\t{\n\t\tif (size($maCheckIfObjectInDisplayLayer) <1)\n\t\t{\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tstring $maCleanCombineLastSelected[] = `ls -sl -tl 1`;\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tconvertInstanceToObject;\n\t\t\t\n\t\t\t//Store transform from last mesh\n\t\t\tselect $maCleanCombineAllSelected[size($maCleanCombineAllSelected)-1];\n\t\t\tduplicate;\n\t\t\trename \"m341_tempXform1\";\n\t\t\tstring $tempXform[] = `ls -sl -fl`;\n\t\t\tselect ($tempXform[0] + \".f[0]\");\n\t\t\tInvertSelection;\n\t\t\tdelete;\n\t\t\tselect $tempXform;\n            MoveTool;\n\t\t\tbakeCustomToolPivot 1 1;\n\t\t\t\n\t\t\t//Combine\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tpolyUnite -ch 0 -mergeUVSets 1 -objectPivot -name ma_clean_combine_1001;\n\t\t\tDeleteHistory;\n\t\t\t\n\t\t\t//Tokenize name to avoid group name getting pasted into renamed object if there was another object in the scene with the same name\t\n\t\t\tstring $newNameTokens[];\n\t\t\ttokenize $maCleanCombineLastSelected[0] \"|\" $newNameTokens;\n\t\t\t$maCleanCombineLastSelected[0] = $newNameTokens[size($newNameTokens)-1];\n\t\t\trename $maCleanCombineLastSelected;\n\t\t\tstring $mesh[] = `ls -sl -fl`;\n\t\t\t\n\t\t\t//Paste back transforms\n\t\t\tparent $mesh $tempXform;\n\t\t\tselect $mesh;\n            makeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n            parent -world -absolute;\n            delete $tempXform;\n\t\t\t\t\t\t\n\t\t\tprint \"Last object selected no parent, no display layer, Combined\";\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tstring $maCleanCombineLastSelected[] = `ls -sl -tl 1`;\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tconvertInstanceToObject;\n\t\t\t\n\t\t\t//Store transform from last mesh\n\t\t\tselect $maCleanCombineAllSelected[size($maCleanCombineAllSelected)-1];\n\t\t\tduplicate;\n\t\t\trename \"m341_tempXform1\";\n\t\t\tstring $tempXform[] = `ls -sl -fl`;\n\t\t\tselect ($tempXform[0] + \".f[0]\");\n\t\t\tInvertSelection;\n\t\t\tdelete;\n\t\t\tselect $tempXform;\n\t\t\tMoveTool;\n            bakeCustomToolPivot 1 1;\n\t\t\t\n\t\t\t//Combine\n\t\t\tselect $maCleanCombineAllSelected;\n\t\t\tpolyUnite -ch 0 -mergeUVSets 1 -objectPivot -name ma_clean_combine_1001;\n\t\t\tDeleteHistory;\n\t\t\t\n\t\t\t//Tokenize name to avoid group name getting pasted into renamed object if there was another object in the scene with the same name\t\n\t\t\tstring $newNameTokens[];\n\t\t\ttokenize $maCleanCombineLastSelected[0] \"|\" $newNameTokens;\n\t\t\t$maCleanCombineLastSelected[0] = $newNameTokens[size($newNameTokens)-1];\n\t\t\trename $maCleanCombineLastSelected;\n\t\t\tstring $mesh[] = `ls -sl -fl`;\n\t\t\t\n\t\t\t//Paste back transforms\n\t\t\tparent $mesh $tempXform;\n\t\t\tselect $mesh;\n            makeIdentity -apply true -t 1 -r 1 -s 1 -n 0 -pn 1;\n            parent -world -absolute;\n            delete $tempXform;\n\t\t\t\n\t\t\tglobal string $m341_ObjectsDisplayLayer[];\n\t\t\tlayerEditorAddObjects \"$m341_ObjectsDisplayLayer\";\n\t\t\t\n\t\t\tprint \"Last object selected no parent, found display layer, Combined\";\n\t\t}\n\t}\n\t\n\t//Bring back user tool\n\tsetToolTo $currentToolActive;\n}\n\n\n//***********************************************************************************************************************************************************\n//Clean Extract v1.5\nglobal proc m341_cleanGhostNodes()\n{\n\t//Store user selection\n\t$maCleanCombineAllSelected = `ls -sl`;\n\tDeleteHistory;\n\t{\n\t\t$Objs = `ls -sl`;\n\t\t$ObjsSize = `size $Objs`;\n\t\t$ObjCounter = 0;\n\t\t\n\t\tfor ($Item = 0; $Item < $ObjsSize; ++$Item)\n\t\t{\n\t\t\tselect $Objs[$ObjCounter];\n\t\t\tstring $shapeNode[] = `listRelatives -s`;\n\t\t\tint $shapeNodeSize = `size $shapeNode`;\n\t\t\tif ($shapeNodeSize > 1)\n\t\t\t{\n\t\t\t\tselect $shapeNode[0];\n\t\t\t\tpickWalk -d right;\n\t\t\t\tstring $ghostNode[] = `ls -sl`;\n\t\t\n\t\t\t\tif(`gmatch $ghostNode[0] \"*polySurfaceShape*\"`)\n\t\t\t\t{\n\t\t\t\t\t//If has no verts delete it\n\t\t\t\t\tConvertSelectionToVertices;\n\t\t\t\t\tstring $checkIfVerts[] = `filterExpand -sm 31`;\n\t\t\t\t\tint $checkIfVertsSize = `size $checkIfVerts`;\n\t\t\t\t\tif ($checkIfVertsSize == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelete;\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t$ObjCounter = $ObjCounter + 1;\n\t\t}\n\t}\n\t//Select user selection so above clean up doesn't break below script\n\tselect $maCleanCombineAllSelected;\n}\n\nglobal proc m341_cleanExtract()\n{\n\tstring $selection[] = `ls -sl -fl`;\n\n\t//Fix for newly extruded faces that have the wrong name\n\tstring $extrude = stringArrayToString($selection, \"\");\n\tif (`gmatch $extrude \"*polyExtrude*\"`)\n\t{\n\t\tfor ($item in $selection)\n\t\t{\n\t\t\tif (`gmatch $item \"*polyExtrude*\"`)\n\t\t\t{\n\t\t\t\tselect -deselect $item;\n\t\t\t\t//print \"Found it\";\n\t\t\t}\n\t\t}\n\n\t}\n\t$selection = `ls -sl -fl`;\n\t\n\t\n\tif(`gmatch $selection[0] \"*.f*\"`)\n\t{\n\t\tstring $selectedFaces[] = `ls -sl -fl`;\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\t//Delete ghost nodes if found\n\t\tm341_cleanGhostNodes();\n\t\t\n\t\t//Check if first selected object is a group and user then entered face mode to select some faces which won't work\n\t\t$possibleGroup = `ls -sl -fl`;\n\t\tif (size(`listRelatives -shapes $possibleGroup[0]`) == 0)\n\t\t{\n\t\t\terror \"Select the object first then enter face mode, you might have a group selected which won't work\";\n\t\t}\n\t\t\n\t\tconvertInstanceToObject;\n\t\t\n\t\tstring $nameOfFirstObject[];\n\t\t$nameOfFirstObject = `ls -sl -fl`;\n\t\t\n\t\tstring $nameOfFirstObjectFix[];\n\t\t//Tokenize name in case there's another object in the scene with the same name in a group\n\t\tint $checkIfDupeName = `tokenize $nameOfFirstObject[0] \"|\" $nameOfFirstObjectFix`;\n\t\t\n\t\tglobal string $m341_extract_shortName1;\n\t\t//Get last dag object name without group or parents name attached to rename later below\n\t\tif ($checkIfDupeName > 1)\n\t\t{\n\t\t\tint $counter = 0;\n\t\t\t\n\t\t\tfor($Item = 0; $Item < $checkIfDupeName; ++$Item)\n\t\t\t{\n\t\t\t\t$counter = $counter + 1;\n\t\t\t}\n\t\t\tglobal\tstring $m341_extract_shortName1;\n\t\t\t$m341_extract_shortName1 = $nameOfFirstObjectFix[$counter -1];\n\t\t}\n\t\t\n\t\tfloat $maPivot[] = `xform -q -ws -sp`;\n\t\tduplicate -rr -renameChildren;\n\t\t$nameOfSecondObject = `ls -sl`;\t\n\t\tConvertSelectionToFaces;\n\t\tselect $selectedFaces;\n\t\tdoDelete;\n\t\tselect $nameOfFirstObject;\t\n\t\trename \"maUniqueName_1001\";\n\t\tselect $nameOfSecondObject;\t\n\t\t\n\t\t//If tokenize greater than one run dupe name code fix\n\t\tif ($checkIfDupeName > 1)\n\t\t{\n\t\t\tglobal\tstring $m341_extract_shortName1;\n\t\t\trename $m341_extract_shortName1;\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\trename $nameOfFirstObject;\n\t\t}\n\t\t\n\t\tConvertSelectionToFaces;\n\t\tselect $selectedFaces;\n\t\tInvertSelection;\n\t\tdoDelete;\n\t\t\n\t\tselect $nameOfFirstObject;\n\t\t$maFlipNames = `ls -sl -fl`;\n\t\trename \"maUniqueNameTwoooo_1001\";\n\t\t$maFlipNames2 = `ls -sl`;\n\t\tselect maUniqueName_1001;\n\t\t\n\t\t//If tokenize greater than one run dupe name code fix\n\t\tif ($checkIfDupeName > 1)\n\t\t{\n\t\t\tglobal\tstring $m341_extract_shortName1;\n\t\t\trename $m341_extract_shortName1;\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\trename $nameOfFirstObject;\n\t\t}\n\t\t\n\t\tselect $maFlipNames2;\n\t\trename \"extracted_01\";\n\t\txform -cpc;\n\t\tprint \"Extracted\";\n\t}\n\t\n\telse\n\t{\n\t\tstring $cleanCombineSelectedObjectsArray[] = `ls -sl`;\n\t\t$cleanCombineSizeOfSelection=size($cleanCombineSelectedObjectsArray);\n\t\t\n\t\tif ($cleanCombineSizeOfSelection > 1)\n\t\t{\n\t\t\terror \"Invalid selection : polySeparate needs exactly 1 polygonal object or polygonal faces from one object\";\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\t//Delete ghost nodes if found\n\t\t\tm341_cleanGhostNodes();\n\t\t\tstring $sepMirrorCheckIfObjectInDisplayLayer[] = `listConnections -type displayLayer`;\n\t\t\tstring $sepMmirrorObjectsDisplayLayerConvertToString = $sepMirrorCheckIfObjectInDisplayLayer[0];\n\t\t\t\n\t\t\tif (size($sepMirrorCheckIfObjectInDisplayLayer) <1)\n\t\t\t{\n\t\t\t\tconvertInstanceToObject;\n\t\t\t\tpolySeparate -ch 0;\n\t\t\t\tpickWalk -d up;\n\t\t\t\tungroup;\n\t\t\t\trenameSelectionList(\"separated_01\");\n\t\t\t\txform -cpc;\n\t\t\t\tdelete -ch;\n\t\t\t\tprint \"No display layer, Separated\";\n\t\t\t}\n\t\t\t\n\t\t\telse\n\t\t\t{\n\t\t\t\tconvertInstanceToObject;\n\t\t\t\tpolySeparate -ch 0;\n\t\t\t\tpickWalk -d up;\n\t\t\t\tungroup;\n\t\t\t\trenameSelectionList(\"separated_01\");\n\t\t\t\txform -cpc;\n\t\t\t\tdelete -ch;\n\t\t\t\tlayerEditorAddObjects $sepMmirrorObjectsDisplayLayerConvertToString;\n\t\t\t\tprint \"Found display layer, Separated\";\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Reset \nglobal proc m341_mirrorEr_reset()\n{\n\t//instance\n\tcheckBox -e -value 0 instance_CheckBoxName;\n\tglobal int $m341_mirrorEr_instance_userInput;\n\t$m341_mirrorEr_instance_userInput = `checkBox -q -value instance_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_instanceCheckBox_VarName\" $m341_mirrorEr_instance_userInput;\t\n\t\n\t//cut+\n\tcheckBox -e -value 0 cutPlus_CheckBoxName;\n\tglobal int $m341_mirrorEr_cutPlus_userInput;\n\t$m341_mirrorEr_cutPlus_userInput = `checkBox -q -value cutPlus_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_cutPlusCheckBox_VarName\" $m341_mirrorEr_cutPlus_userInput;\t\n\t\n\t//flip UV\n\tcheckBox -e -value 0 flipUV_CheckBoxName;\n\tglobal int $m341_mirrorEr_flipUV_userInput;\n\t$m341_mirrorEr_flipUV_userInput = `checkBox -q -value flipUV_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_flipUVCheckBox_VarName\" $m341_mirrorEr_flipUV_userInput;\t\n\n\t//cut-\n\tcheckBox -e -value 0 cutMinus_CheckBoxName;\n\tglobal int $m341_mirrorEr_cutMinus_userInput;\n\t$m341_mirrorEr_cutMinus_userInput = `checkBox -q -value cutMinus_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_cutMinusCheckBox_VarName\" $m341_mirrorEr_cutMinus_userInput;\t\n\t\n\t//merge\n\tcheckBox -e -value 0 mergeVerts_CheckBoxName;\n\tglobal int $m341_mirrorEr_merge_userInput;\n\t$m341_mirrorEr_merge_userInput = `checkBox -q -value mergeVerts_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_mergeCheckBox_VarName\" $m341_mirrorEr_merge_userInput;\t\n\t\n\t//Merge float\n\tfloatField -e -value 0.001 mirrorER_merge_FloatFieldName;\n\tm341_mirrorEr_mergeFloat_ValueChanged();\n\t\n\t//findGB\n\tcheckBox -e -value 1 findGB_CheckBoxName;\n\tglobal int $m341_findGB_userInput;\n\t$m341_findGB_userInput = `checkBox -q -value findGB_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_findGBVarName\" $m341_findGB_userInput;\t\n\t\n\t//use WP\n\tcheckBox -e -value 0 useWP_CheckBoxName;\n\tglobal int $m341_useWP_userInput;\n\t$m341_useWP_userInput = `checkBox -q -value useWP_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_useWPVarName\" $m341_useWP_userInput;\t\n\t\n\tglobal string $m341_mirrorEr_Version;\n\tprint (\"Toolbox reset \" + $m341_mirrorEr_Version + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Update instance Check Box Value\nglobal proc m341_mirrorEr_instance_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_mirrorEr_instance_userInput;\n\t$m341_mirrorEr_instance_userInput = `checkBox -q -value instance_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_instanceCheckBox_VarName\" $m341_mirrorEr_instance_userInput;\n\t//Print value\n\tif ($m341_mirrorEr_instance_userInput == 0)\n\t{\n\t\tprint \"instance checkbox off\";\n\t}\n\telse\n\t{\n\t\tprint \"instance checkbox on\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update cut+ Check Box Value\nglobal proc m341_mirrorEr_cutPlus_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_mirrorEr_cutPlus_userInput;\n\t$m341_mirrorEr_cutPlus_userInput = `checkBox -q -value cutPlus_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_cutPlusCheckBox_VarName\" $m341_mirrorEr_cutPlus_userInput;\n\t//Print value\n\tif ($m341_mirrorEr_cutPlus_userInput == 0)\n\t{\n\t\tprint \"cut+ checkbox off\";\n\t\t\n\t}\n\telse\n\t{\n\t\t//Turn off cut+ checkbox and save value to option var\n\t\tcheckBox -edit -value 0 cutMinus_CheckBoxName;\n\t\tglobal int $m341_mirrorEr_cutMinus_userInput;\n\t\t$m341_mirrorEr_cutMinus_userInput = `checkBox -q -value cutMinus_CheckBoxName`;\n\t\toptionVar -intValue \"m341_mirrorEr_cutMinusCheckBox_VarName\" $m341_mirrorEr_cutMinus_userInput;\n\t\t\n\t\tprint \"cut+ checkbox on\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update cut- Check Box Value\nglobal proc m341_mirrorEr_cutMinus_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_mirrorEr_cutMinus_userInput;\n\t$m341_mirrorEr_cutMinus_userInput = `checkBox -q -value cutMinus_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_cutMinusCheckBox_VarName\" $m341_mirrorEr_cutMinus_userInput;\n\t//Print value\n\tif ($m341_mirrorEr_cutMinus_userInput == 0)\n\t{\n\t\tprint \"cut- checkbox off\";\n\t}\n\telse\n\t{\n\t\t//Turn off cut+ checkbox and save value to option var\n\t\tcheckBox -edit -value 0 cutPlus_CheckBoxName;\n\t\tglobal int $m341_mirrorEr_cutPlus_userInput;\n\t\t$m341_mirrorEr_cutPlus_userInput = `checkBox -q -value cutPlus_CheckBoxName`;\n\t\toptionVar -intValue \"m341_mirrorEr_cutPlusCheckBox_VarName\" $m341_mirrorEr_cutPlus_userInput;\n\t\t\n\t\tprint \"cut- checkbox on\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update flip UV Check Box Value\nglobal proc m341_mirrorEr_flipUV_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_mirrorEr_flipUV_userInput;\n\t$m341_mirrorEr_flipUV_userInput = `checkBox -q -value flipUV_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_flipUVCheckBox_VarName\" $m341_mirrorEr_flipUV_userInput;\n\t//Print value\n\tif ($m341_mirrorEr_flipUV_userInput == 0)\n\t{\n\t\tprint \"flip UV checkbox off\";\n\t}\n\telse\n\t{\n\t\tprint \"flip UV checkbox on\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update merge Checkbox Value\nglobal proc m341_mirrorEr_merge_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_mirrorEr_merge_userInput;\n\t$m341_mirrorEr_merge_userInput = `checkBox -q -value mergeVerts_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_mergeCheckBox_VarName\" $m341_mirrorEr_merge_userInput;\n\t//Print value\n\tif ($m341_mirrorEr_merge_userInput == 0)\n\t{\n\t\tprint \"merge checkbox off\";\n\t}\n\telse\n\t{\n\t\tprint \"merge checkbox on\";\n\t}\n\t\n}\n\n\n//***********************************************************************************************************************************************************\n//Update Merge Float Value\nglobal proc m341_mirrorEr_mergeFloat_ValueChanged()\n{\n\t//Query the value from the float field and store it in a variable\n\tglobal float $m341_mergeRadius_userInput;\n\t$m341_mergeRadius_userInput = `floatField -query -value mirrorER_merge_FloatFieldName`;\n\toptionVar -floatValue \"m341_mirrorEr_mergeFloatField_VarName\" $m341_mergeRadius_userInput;\n\t//Print value\n\tprint(\"Merge radius set to \" + $m341_mergeRadius_userInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Update findGB Check Box Value\nglobal proc m341_mirrorEr_findGB_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_findGB_userInput;\n\t$m341_findGB_userInput = `checkBox -q -value findGB_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_findGBVarName\" $m341_findGB_userInput;\n\t//Print value\n\tif ($m341_findGB_userInput == 0)\n\t{\n\t\tprint \"findGB checkbox off\";\n\t}\n\telse\n\t{\n\t\tprint \"findGB checkbox on\";\n\t}\n\t\n}\n\n\n//***********************************************************************************************************************************************************\n//Update use WP Check Box Value\nglobal proc m341_mirrorEr_useWP_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_useWP_userInput;\n\t$m341_useWP_userInput = `checkBox -q -value useWP_CheckBoxName`;\n\toptionVar -intValue \"m341_mirrorEr_useWPVarName\" $m341_useWP_userInput;\n\t//Print value\n\tif ($m341_useWP_userInput == 0)\n\t{\n\t\tprint \"use WP checkbox off\";\n\t}\n\telse\n\t{\n\t\tprint \"use WP checkbox on\";\n\t}\n\t\n}\n\n\n//***********************************************************************************************************************************************************\n//Window and Buttons\nglobal proc m341_mirrorEr_launchToolbox()\n{\n\tif (`window -exists m341_mirrorEr_toolboxName`)\n\t{\n\t\tdeleteUI m341_mirrorEr_toolboxName;\n\t}\n\t\n\tglobal string $m341_mirrorEr_Version;\n\t\n\twindow -title $m341_mirrorEr_Version -toolbox true -sizeable true -resizeToFitChildren true m341_mirrorEr_toolboxName;\n\tcolumnLayout -adjustableColumn true;\n\ttext -label \"by Malcolm341\";\n\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-labelOffset 30\n\t\t\t-label \"click for help\"\n\t\t\t-backgroundColor 0.51 0.51 0.51\n\t\t\t-width 81\n\t\t\t-height 15\n\t\t\t-command \"m341_mirrorER_help;\";\n\t\t\tseparator -width 1 -style \"none\";\n\t\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-labelOffset 30\n\t\t\t-label \"reset\"\n\t\t\t-backgroundColor 0.51 0.51 0.51\n\t\t\t-width 36\n\t\t\t-height 15\n\t\t\t-command \"m341_mirrorEr_reset;\";\n\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.698 0.259 0.263\n\t\t\t-width 93\n\t\t\t-label \"mirror object X\"\n\t\t\t-command \"m341_mirrorEr_mirrorX;\"\n\t\t\t-commandRepeatable 1;\n\t\t\tseparator -width 1 -style \"none\";\n\t\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-label \"flip\"\n\t\t\t-backgroundColor 0.698 0.259 0.263\n\t\t\t-width 24\n\t\t\t-command \"m341_mirrorEr_flipX;\"\n\t\t\t-commandRepeatable 1;\n\t\t\t\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.282 0.675 0.282\n\t\t\t-width 93\n\t\t\t-label \"mirror object Y\"\n\t\t\t-command \"m341_mirrorEr_mirrorY;\"\n\t\t\t-commandRepeatable 1;\n\t\t\tseparator -width 1 -style \"none\";\n\t\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-label \"flip\"\n\t\t\t-backgroundColor 0.282 0.675 0.282\n\t\t\t-width 24\n\t\t\t-command \"m341_mirrorEr_flipY;\"\n\t\t\t-commandRepeatable 1;\n\t\t\t\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.145 0.463 0.737\n\t\t\t-width 93\n\t\t\t-label \"mirror object Z\"\n\t\t\t-command \"m341_mirrorEr_mirrorZ;\"\n\t\t\t-commandRepeatable 1;\n\t\t\tseparator -width 1 -style \"none\";\n\t\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-label \"flip\"\n\t\t\t-backgroundColor 0.145 0.463 0.737\n\t\t\t-width 24\n\t\t\t-command \"m341_mirrorEr_flipZ;\"\n\t\t\t-commandRepeatable 1;\n\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ttext -label \"Duplicate Object With\";\n\t\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.451 0.529 0.78\n\t\t\t-width 58\n\t\t\t-height 19\n\t\t\t-label \"history\"\n\t\t\t-command \"m341_mirrorEr_dupeWithHistory;\"\n\t\t\t-commandRepeatable 1;\n\t\t\tseparator -width 1 -style \"none\";\n\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.32 0.59 0.72\n\t\t\t-width 59\n\t\t\t-height 19\n\t\t\t-label \"instance\"\n\t\t\t-command \"m341_mirrorEr_instance;\"\n\t\t\t-commandRepeatable 1;\n\t\t\n\t\t//Save preferences instance checkbox\n\t\tint $instance_checkBoxValue;\n\t\tglobal int $m341_mirrorEr_instance_userInput;\n\t\tstring $instance_OptionVar = `optionVar -exists \"m341_mirrorEr_instanceCheckBox_VarName\"`;\n\t\tif ($instance_OptionVar == 0)\n\t\t{\n\t\t\t//Set default value\n\t\t\toptionVar -intValue \"m341_mirrorEr_instanceCheckBox_VarName\" 0;\n\t\t\t$instance_checkBoxValue = `optionVar -q \"m341_mirrorEr_instanceCheckBox_VarName\"`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//Query from prefs file\n\t\t\t$instance_checkBoxValue = `optionVar -q \"m341_mirrorEr_instanceCheckBox_VarName\"`;\n\t\t}\n\t\t\n\t\t//Save preferences cut+ checkbox\n\t\tint $cutPlus_checkBoxValue;\n\t\tglobal int $m341_mirrorEr_cutPlus_userInput;\n\t\tstring $cutPlus_OptionVar = `optionVar -exists \"m341_mirrorEr_cutPlusCheckBox_VarName\"`;\n\t\tif ($cutPlus_OptionVar == 0)\n\t\t{\n\t\t\t//Set default value\n\t\t\toptionVar -intValue \"m341_mirrorEr_cutPlusCheckBox_VarName\" 0;\n\t\t\t$cutPlus_checkBoxValue = `optionVar -q \"m341_mirrorEr_cutPlusCheckBox_VarName\"`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//Query from prefs file\n\t\t\t$cutPlus_checkBoxValue = `optionVar -q \"m341_mirrorEr_cutPlusCheckBox_VarName\"`;\n\t\t}\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -height 16;\n\t\tcheckBox -label \"instance\" -width 70 -height 15 -value $instance_checkBoxValue -changeCommand \"m341_mirrorEr_instance_ValueChanged();\" instance_CheckBoxName;\n\t\tcheckBox -label \"cut+\" -height 15 -value $cutPlus_checkBoxValue -changeCommand \"m341_mirrorEr_cutPlus_ValueChanged();\" cutPlus_CheckBoxName;\n\t\t\n\t\t\n\t\t//Save preferences flip UV checkbox\n\t\tint $flipUV_checkBoxValue;\n\t\tglobal int $m341_mirrorEr_flipUV_userInput;\n\t\tstring $flipUV_OptionVar = `optionVar -exists \"m341_mirrorEr_flipUVCheckBox_VarName\"`;\n\t\tif ($flipUV_OptionVar == 0)\n\t\t{\n\t\t\t//Set default value\n\t\t\toptionVar -intValue \"m341_mirrorEr_flipUVCheckBox_VarName\" 0;\n\t\t\t$flipUV_checkBoxValue = `optionVar -q \"m341_mirrorEr_flipUVCheckBox_VarName\"`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//Query from prefs file\n\t\t\t$flipUV_checkBoxValue = `optionVar -q \"m341_mirrorEr_flipUVCheckBox_VarName\"`;\n\t\t}\n\t\t\n\t\t//Save preferences flip UV checkbox\n\t\tint $cutMinus_checkBoxValue;\n\t\tglobal int $m341_mirrorEr_cutMinus_userInput;\n\t\tstring $cutMinus_OptionVar = `optionVar -exists \"m341_mirrorEr_cutMinusCheckBox_VarName\"`;\n\t\tif ($cutMinus_OptionVar == 0)\n\t\t{\n\t\t\t//Set default value\n\t\t\toptionVar -intValue \"m341_mirrorEr_cutMinusCheckBox_VarName\" 0;\n\t\t\t$cutMinus_checkBoxValue = `optionVar -q \"m341_mirrorEr_cutMinusCheckBox_VarName\"`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//Query from prefs file\n\t\t\t$cutMinus_checkBoxValue = `optionVar -q \"m341_mirrorEr_cutMinusCheckBox_VarName\"`;\n\t\t}\n\t\t\n\t\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -height 16;\n\t\tcheckBox -label \"flip UV\" -width 70 -height 15 -value $flipUV_checkBoxValue -changeCommand \"m341_mirrorEr_flipUV_ValueChanged();\" flipUV_CheckBoxName;\n\t\tcheckBox -label \"cut-\" -height 15 -value $cutMinus_checkBoxValue -changeCommand \"m341_mirrorEr_cutMinus_ValueChanged();\" cutMinus_CheckBoxName;\n\t\t\n\t\t\n\t\t\n\t\t//Save preferences merge float field\n\t\tfloat $merge_floatFieldValue;\n\t\tglobal float $m341_mergeRadius_userInput;\n\t\tstring $mirrorEr_mergeOptionVar = `optionVar -exists \"m341_mirrorEr_mergeFloatField_VarName\"`;\n\t\tif ($mirrorEr_mergeOptionVar == 0)\n\t\t{\n\t\t\t//Set default value\n\t\t\toptionVar -floatValue \"m341_mirrorEr_mergeFloatField_VarName\" 0.001;\n\t\t\t$merge_floatFieldValue = `optionVar -q \"m341_mirrorEr_mergeFloatField_VarName\"`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//Query from prefs file\n\t\t\t$merge_floatFieldValue = `optionVar -q \"m341_mirrorEr_mergeFloatField_VarName\"`;\n\t\t}\n\t\t\n\t\t//Save preferences merge checkbox\n\t\tint $merge_checkBoxValue;\n\t\tglobal int $m341_mirrorEr_merge_userInput;\n\t\tstring $merge_OptionVar = `optionVar -exists \"m341_mirrorEr_mergeCheckBox_VarName\"`;\n\t\tif ($merge_OptionVar == 0)\n\t\t{\n\t\t\t//Set default value\n\t\t\toptionVar -intValue \"m341_mirrorEr_mergeCheckBox_VarName\" 0;\n\t\t\t$merge_checkBoxValue = `optionVar -q \"m341_mirrorEr_mergeCheckBox_VarName\"`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//Query from prefs file\n\t\t\t$merge_checkBoxValue = `optionVar -q \"m341_mirrorEr_mergeCheckBox_VarName\"`;\n\t\t}\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -height 19 -adjustableColumn 1;\n\t\tcheckBox -label \"merge\" -width 59 -value $merge_checkBoxValue -changeCommand \"m341_mirrorEr_merge_ValueChanged();\" mergeVerts_CheckBoxName;\n\t\t\n\t\t//Fix keyboard focus\n\t\tstring $mayaYear = `about -product`;\n\t\tstring $mayaYearArray[];\n\t\t$mayaYearArray = stringToStringArray($mayaYear, \" \");\n\t\tint $mayaVersionNumber = $mayaYearArray[1];\n\t\t\n\t\tif ($mayaVersionNumber < 2019)\n\t\t{\n\t\t\tfloatField -value $merge_floatFieldValue -pre 4 -width 57 -height 10 -changeCommand \"m341_mirrorEr_mergeFloat_ValueChanged();\" mirrorER_merge_FloatFieldName;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfloatField -enableKeyboardFocus 0 -value $merge_floatFieldValue -pre 4 -width 59 -height 10 -changeCommand \"m341_mirrorEr_mergeFloat_ValueChanged();\" mirrorER_merge_FloatFieldName;\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t//Save preferences findGB checkbox\n\t\tint $findGB_checkBoxValue;\n\t\tglobal int $m341_findGB_userInput;\n\t\tstring $findGB_OptionVar = `optionVar -exists \"m341_mirrorEr_findGBVarName\"`;\n\t\tif ($findGB_OptionVar == 0)\n\t\t{\n\t\t\t//Set default value\n\t\t\toptionVar -intValue \"m341_mirrorEr_findGBVarName\" 1;\n\t\t\t$findGB_checkBoxValue = `optionVar -q \"m341_mirrorEr_findGBVarName\"`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//Query from prefs file\n\t\t\t$findGB_checkBoxValue = `optionVar -q \"m341_mirrorEr_findGBVarName\"`;\n\t\t}\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\tcheckBox -label \"findGB\" -width 60 -height 15 -value $findGB_checkBoxValue -changeCommand \"m341_mirrorEr_findGB_ValueChanged();\" findGB_CheckBoxName;\n\t\t\n\t\t//Save preferences use PP checkbox\n\t\tint $useWP_checkBoxValue;\n\t\tglobal int $m341_useWP_userInput;\n\t\tstring $useWP_OptionVar = `optionVar -exists \"m341_mirrorEr_useWPVarName\"`;\n\t\tif ($useWP_OptionVar == 0)\n\t\t{\n\t\t\t//Set default value\n\t\t\toptionVar -intValue \"m341_mirrorEr_useWPVarName\" 0;\n\t\t\t$useWP_checkBoxValue = `optionVar -q \"m341_mirrorEr_useWPVarName\"`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//Query from prefs file\n\t\t\t$useWP_checkBoxValue = `optionVar -q \"m341_mirrorEr_useWPVarName\"`;\n\t\t}\n\t\t\n\t\tcheckBox -label \"use WP\" -width 57 -height 15 -value $useWP_checkBoxValue -changeCommand \"m341_mirrorEr_useWP_ValueChanged();\" useWP_CheckBoxName;\n\t\t\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.51 0.51 0.51\n\t\t\t-width 70\n\t\t\t-height 20\n\t\t\t-label \"de-instance\"\n\t\t\t-command \"m341_mirrorEr_instanceToObject;\"\n\t\t\t-commandRepeatable 1;\n\t\t\tseparator -width 1 -style \"none\";\n\t\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.72 0.68 0.39\n\t\t\t-width 47\n\t\t\t-height 20\n\t\t\t-label \"findGB\"\n\t\t\t-command \"m341_mirrorEr_findGB;\"\n\t\t\t-commandRepeatable 1;\n\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.772 0.521 0.302\n\t\t\t-width 59\n\t\t\t-height 22\n\t\t\t-label \"combine\"\n\t\t\t-command \"m341_cleanCombine;\"\n\t\t\t-commandRepeatable 1;\n\t\t\tseparator -width 1 -style \"none\";\n\t\t\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.772 0.521 0.302\n\t\t\t-width 58\n\t\t\t-height 22\n\t\t\t-label \"extract\"\n\t\t\t-command \"m341_cleanExtract;\"\n\t\t\t-commandRepeatable 1;\n\t\t\t\n\t\tsetParent ..;\n\t\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\ticonTextButton -style \"textOnly\"\n\t\t\t-backgroundColor 0.772 0.521 0.302\n\t\t\t-width 118\n\t\t\t-label \"combine/merge\"\n\t\t\t-command \"m341_mirrorEr_combineMerge;\"\n\t\t\t-commandRepeatable 1;\n\t\t\t\n\tshowWindow;\n\twindow -edit -width 100 -height 200 m341_mirrorEr_toolboxName;\n\t\n\t\n\tprint (\"Toolbox loaded \" + $m341_mirrorEr_Version + \"\\n\");\n}\n\nm341_mirrorEr_launchToolbox();\n" 
        -sourceType "mel" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Uv Toolset" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Uv Toolset" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "uv" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "polyAutoProjLarge.png" 
        -image1 "polyAutoProjLarge.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "//This is a paid script pack and is not free to use. Please purchase a copy and download the script pack here www.gumroad.com/malcolm341\n\n//Thanks very much for your support! Each purchase helps maintain the ad free Youtube channel found here www.youtube.com/malcolm341\n\n\n//***********************************************************************************************************************************************************\n//UV Mapping Toolbox\n//***********************************************************************************************************************************************************\nglobal string $m341_uvMapperVersion;\n$m341_uvMapperVersion = \"uvMapper v5.3\";\n\n\n//***********************************************************************************************************************************************************\n//Global Spin UVs Type\nglobal int $m341_uvMapper_uvSpinAmount;\n//Change to any number to control the rotation amount when you click the spin buttons\n$m341_uvMapper_uvSpinAmount = 90;\n\nglobal int $m341_uvMapper_uvSpinWholeShell;\n//Change to one if you want the spin buttons to select the whole shell before rotating\n$m341_uvMapper_uvSpinWholeShell = 0;\n\n//Change to one and set $m341_uvMapper_uvSpinWholeShell to zero if you want to create a new shell from your selecton before rotating\nglobal int $m341_uvMapper_uvSpinCreateNewShell;\n$m341_uvMapper_uvSpinCreateNewShell = 0;\n\n\n//***********************************************************************************************************************************************************\n//Global Delete History Type\nglobal proc m341_uvMapper_deleteHistory()\n{\n\t//Change this one number to select what type of history is deleted by the tool\n\tint $historyType = 1;\n\t\t\n\tif ($historyType == 1)\n\t{\n\t\tDeleteHistory;\n\t}\n\tif ($historyType == 2)\n\t{\n\t\tbakePartialHistory -prePostDeformers;\n\t}\n\tif ($historyType == 3)\n\t{\n\t\t//Don't delete history\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Help\nglobal proc m341_uvMapper_help()\n{\n\tglobal string $m341_uvMapper_HelpWindow;\n\n\tif (`window -exists $m341_uvMapper_HelpWindow`)\n\t{\n\t\tglobal string $m341_uvMapper_HelpWindow;\n\t\tdeleteUI $m341_uvMapper_HelpWindow;\n\t}\n\t\n\t//Left justify help window to center of Maya window\n    int $helpLeftEdge = `window -q -width MayaWindow`;\n    $helpLeftEdge = 0.5 * $helpLeftEdge;\n\t\n\tglobal string $m341_uvMapperVersion;\n\t$m341_uvMapper_HelpWindow = `window -title (\"Help \" + $m341_uvMapperVersion) -leftEdge $helpLeftEdge -topEdge 115 -toolbox true -sizeable false -resizeToFitChildren false -width 800 -height 800`;\n\tscrollLayout;\n\trowColumnLayout -numberOfColumns 1;\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"RESET\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Resets the toolbox back to default settings.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"ON TOP OF UV EDITOR CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on if you want the toolbox to stay on top of the UV editor when the UV editor is undocked. If you close the UV editor with the checkbox on, the toolbox will also close which is a limitation of how Maya works. If you're primarily working with a docked UV editor I recommend turning this checkbox off.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"IMAGE DIMMING CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles UV editor image dimming on/off. After the checkbox is turned on the desired brightness level can be adjusted in the UV editor using the standard controls.\\n\\n-The image dimming checkbox loads your last dimming settings the next time you open the tool, even after restarting Maya which is not possible with the standard UV editor.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"CHECKER MAP\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles the checker map on/off, press the plus or minus buttons to increase or decrease the checker map size.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"UV SHADED\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles shaded UVs on/off in the UV editor.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"UV BORDER\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles UV border edges on/off in the UV editor.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TILE LABELS\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles tile labels on/off in the UV editor HUD.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"SHOW MESH EDGES\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles mesh edges on/off in the 3D viewport.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TILE LINES\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles UV tile lines on/off in the UV editor.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TILE LABELS\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles UV tile labels on/off in the UV editor.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"% USED\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles % used UV space for 0-1 on/off in the UV editor HUD.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"# SHELLS\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles number of shells on/off in the UV editor HUD.\\n\\n\";\n\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"PROJ W/H, KEEP W/H RATIO CHECKBOXES\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If the proj w/h checkbox is on the number you type in this field will be used to automatically set the UV projection to that specific world space texel density. For example, 400 means 400 units in Maya. So if you have a 2048x2048 texture applied to your model and planar map with the value set to 400 you'll get 2048 pixels across 400 units in world space in Maya.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If you're unfamiliar with how texel density works please watch this video.\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/5e6zvJqVqlA?list=PLAUgGUDpaMEMWSr3MTvSqhE3qf-WVmHMY\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/5e6zvJqVqlA?list=PLAUgGUDpaMEMWSr3MTvSqhE3qf-WVmHMY</a><br>\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If the proj w/h checkbox is off and the keep w/h ratio checkbox is on, UV mapping will be applied in the 0-1 UV space without stretching.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If the proj w/h checkbox is off and the keep w/h ratio checkbox is also off, UV mapping will be applied in the 0-1 UV space and the UVs will be streted into a square.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The keep w/h ratio and proj w/h checkboxes work with all mapping types in the tool including x, y, z, camera, best plane, and automatic.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"MAP X, Y, Z\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Applies x, y, z planar mapping to your selection.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"CAM\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Applies camera mapping to your selection.\\n\\n\";\n\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"AUTOMATIC\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Applies automatic mapping to your selection. Automatic mapping is done in world space so you may need to freeze the scale tranform before doing an automatic map to get correct results.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"BEST\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Applies best plane mapping to your selection.\\n\\n\";\n\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"GRID UVS\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Selected faces are UV mapped and sewn together into a grid of uniform squares. If the face selection doesn't have any natural UV boarder edges and wraps back on itself, for example if you select all the faces of a cylinder, an automatic UV seam will be used to prevent the gridified UVs from collapsing back onto themselves.\\n\";\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If you want to specify a UV seam manually, select the faces you want to gridify and then enter multi component mode and shift select some edges to use as the UV seam then run the script.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Gridifying UVs only works on quads, if you have some tris or n-gons selected it will produce unexpected results.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If there's no UV mapping on the selected faces both gridUV and recUV will still work correctly.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-After running the script if the UV shell is rotated the wrong way, you can immediately run the script again to rotate the shell by 90 degrees.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"REC UVS\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Works the same as gridUV, but also unfolds and straightens the UVs so you get a grid of rectangularized UVs with correct aspect ratio instead of uniform squares. The straightening part of this tool is also significantly faster than the Maya default straighten UVs tool. As well, UVs won't collapse onto themselves like the Maya default tool.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-recUV is usually what you want, but recUV has a limitation that requires the face selection to form a square, rectangle, or strip on the 3D model. Jagged selections won't work, so you may want to use gridUV and manually unfold and straighten depending on the shape of your selection.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"GRIDIFY UVS VIDEO HERE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://www.youtube.com/watch?v=FI7UzPo_vqY&list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6&index=47\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://www.youtube.com/watch?v=FI7UzPo_vqY&list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6&index=47</a><br><br>\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"ALIGN CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on the align checkbox to convert the move buttons into align UVs buttons. Switch to UV shell component mode to align UV shells without collapsing the UVs.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"SPIN, SPIN\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Rotates selected UVs 90 degrees left or right.\\n\\n\";\n\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"LEFT, RIGHT, UP, DOWN\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Moves selected UV shells by one tile, left, right, up, or down.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"STACK\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Stacks selected UV shells on top of each other, you only need to select one UV on two or more objects to stack them.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"FLIP U, FLIP V\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Flips the selected UVs along U or V based on their current pivot point. UVs are not cut during flipping which avoids unwanted seams.\\n\\n\";\n\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"UNFOLD UV\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Unfolds your selection along U and V.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"ORIENT CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on if you'd like the unfold UV button to unfold and then also orient the UV shell to the longest edge on the model. This can be helpful for quickly unfolding certain shapes so they aren't rotated diagonally after the unfold UV is complete.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"UNFOLD U\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Unfolds your selection along U only.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"UNFOLD V\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Unfolds your selection along V only.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"OPT 0, OPT .5, OPT 1\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Optimizes UVs on your selection with a surface angle of 0, .5, or 1.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"STRAIGHTEN UV\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Straightens your selection along U and V.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"STRAIGHTEN SHELL\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Straightens shell along selected edges.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"STRAIGHTEN U\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Straightens your selection along U.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"STRAIGHTEN V\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Straightens your selection along V.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"X, Y, Z\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Orients selected UV shells to world space X, Y, or Z. Clicking the button again will flip the shell to face positive or negative along that axis.\\n\\n-Using orient X, Y, Z can be faster than using orient to edge or UVs because you can select whole shells in the 3D viewport which is more intuitive especially for circular shells.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"EDGE/UVS\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Orients a UV shell to a selected edge, or two selected UVs.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"HORIZONTAL, VERTICAL\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Orients selected UV shells to the horizontal or vertical axis in the UV editor. Clicking the button again will flip the shell to face positive or negative along that axis.\\n\\n-These tools should be used in conjunction with orient X, Y, Z. If orient X and Z don't produce a straight shell use orient horizontal. If orient Y doesn't produce a straight shell use orient vertical.\\n\\n\";\n\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"GATHER\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Gathers selected UV shells to the 0-1 UV space. If you're in object mode or have no components selected all UV shells will be gathered.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"UNGATHER\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Ungathers overlapping UVs shells into different UV tiles if you're in object mode. To ungather specific shells select UVs on shells that overlap.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TRANSFER UVS FROM MESH\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-To transfer UVs to multiple objects, first select the mesh with the correct UVs, then select any number of additional meshes and click the meshes button in the Transfer UVs from section. Rigging is preserved on skinned meshes, otherwise history is deleted.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TRANSFER UVS FROM GROUP\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-To transfer UVs between sets of objects, create two groups. In group 1 place a bunch of individual meshes that have finished UVs. In group 2 place the same number of individual meshes in the exact same hierarchy order. Select group 1, then select group 2 and click the groups button in the Transfer UVs from section, each UV set from each mesh in group 1 will be transferred to each mesh in group 2. Transfer UVs will only work on meshes that have the exact same vert count. Rigging is preserved on skinned meshes, otherwise history is deleted.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TRANSFER UVS VIDEO HERE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/4ZmpE65txVI?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/4ZmpE65txVI?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br><br>\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"MEASURE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Toggles Maya's UV measure tool on/off if nothing's selected. If something is selected it will update the distance in the UV measure tool.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"GROUP SHELLS\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Opens the UV grouping toolbox.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Grouping UV shells allows you to manually choose which UV shells stack on top of each other during UV layout. To create a UV shell group select two or more UV shells and click one of the 1-20 buttons to assign them to that group. Faces are selected to show you what shells the current group consists of, but component mode is left in whatever mode it was in before before clicking the 1-20 buttons. You only need to select one component on each shell to assign them to a group which can save time.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Shell groups are exclusive so if you assign something from group 1 to group 2 those shells are automatically removed from gorup 1. If you forget which shells are assigned to which groups turn on the select checkbox and the 1-20 buttons will select which components are assigned to which gorup instead of adding things to that group.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The clear button will clear all shells belonging to that particular group, you only need to select one component from that group on one shell to clear that whole group. The clear all button will clear all UV shell groups.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If you get an error trying to create a group it may be caused by old group data from a different mesh, try clearing all if the grouping won't work on a new scene or different mesh.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"FIND SHELLS < %\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Selects UV shells smaller than the percent you type in the input field. The percent scale is based on the 0-1 UV space and how big a UV shell is. For example, lowing the number below 50 will select all shells smaller half the 0-1 UV space. It doesn't matter if the shells reside outside of the 0-1 UV space or are bigger than 0-1. Each time you type a new value you can press the enter key to automatically select shells of that size.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"PACK SELECTED TO PIVOT\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Lays out selected UV shells to the current UV selection pivot.\\n\\n-This tool is incredibly useful for clustering shells together on the fly as you work through your UDIM layout, because it gathers shells into a square shape while respecting UV padding. Custom pivots are supported.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"LAYOUT UP\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Lays out selected UV shells to the current UV selection pivot in a vertical rectangular shape. Each time you press the button the rectangle cluster spreads out and gets thinner. To reset the shape back to a square use the pack selected to pivot button.\\n\\n-This tool is incredibly useful for creating vertical clusters of shells on the fly that have the correct UV padding.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"LAYOUT RIGHT\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Lays out selected UV shells to the current UV selection pivot in a horizontal rectangular shape. Each time you press the button the rectangle cluster spreads out and gets thinner. To reset the shape back to a square use the pack selected to pivot button.\\n\\n-This tool is incredibly useful for creating horizontal clusters of shells on the fly that have the correct UV padding.\\n\\n\";\n\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"FLIP, SPIN, SCALE, MOVE CHECKBOXES\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn off the flip, spin, scale, or move checkboxes to avoid losing custom edits when you layout. Mix and match checkboxes to adjust certain UV shells while still being able to use layout. For example, turning off scale and then scaling some shells up manually will allow you to layout and preserve the custom edit you just did to those shells.\\n\\n\";\n\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"LAYOUT ALL CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn off the layout all checkbox if want to layout selected UV shells instead of all UV shells. To save time you only need to select one component of each shell you want to be considered for layout selected.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"KEEP TD CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on the keep TD checkbox if you want to maintain the current texel density of UV shells during layout. Keeping the current texel density can result in layout UVs producing a pack which extends outside the 0-1 UV space. If this is the case shells are packed into a square shape from bottom left to top right.\\n\\n\";\n\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"STACK CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on the stack checkbox if you want all similar UV shells to stack on top of each other during layout. This is much worse than using UV shell grouping because you can't choose which shells should stack and which shouldn't. It also seems to produce a lot of wasted UV space with certain shaped shells.\\n\\n\";\n\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"MAP SIZE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The map size drop down allows you to control how padding works relative to what the final texture size is you're going to apply to the model. Set map size to the final resolution you plan to use on your model.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"PADDING\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Padding controls the amount of space between each UV shell and is relative to what you set the map size to. UV tile boundary spacing will automatically be half of whatever you set padding to.\\n\\n\";\n\n\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"LAYOUT UVS\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Lays out UV shells into the 0-1 UV space using the checkboxes you set above..\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"TEXEL DENSITY\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The map size field stores the current texture resolution used to calculate the pixels per unit below.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The pix per unit field stores the current texel density the paste TD button uses. The value can be manually changed or will auto update if a face is selected and the copy TD button is pressed.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"COPY TD\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Copies the current texel density from a selected face and updates the pix per unit field. Texel density is displayed in pixels per unit and will be relative to what map size is currently set before copying.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"PASTE TD\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Applies the current texel density from the pix per unit field to selected UVs, objects, or faces. The paste TD button is significantly faster than the set TD button found in the Maya default UV Toolkit.\\n\\n\";\n\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"YOUTUBE VIDEOS HERE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/xWLcVflYANg?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/xWLcVflYANg?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br>\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/KTxT8o2Rm9A?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/KTxT8o2Rm9A?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br>\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/8fS4KAL8NrI?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/8fS4KAL8NrI?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br>\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/U99mwMb-F2U?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/U99mwMb-F2U?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br>\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/4ZmpE65txVI?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/4ZmpE65txVI?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br>\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/HyFFmwf3b7E?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/HyFFmwf3b7E?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br><br>\";\n\t\n\t\n\tshowWindow $m341_uvMapper_HelpWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Help uvGrouper\nglobal proc m341_uvMapper_uvGrouper_help()\n{\n\tglobal string $m341_uvMapper_uvGrouper_HelpWindow;\n\n\tif (`window -exists $m341_uvMapper_uvGrouper_HelpWindow`)\n\t{\n\t\tglobal string $m341_uvMapper_uvGrouper_HelpWindow;\n\t\tdeleteUI $m341_uvMapper_uvGrouper_HelpWindow;\n\t}\n\t\n\tglobal string $m341_uvMapper_uvGrouperVersion;\n\t$m341_uvMapper_uvGrouper_HelpWindow = `window -title (\"Help \" + $m341_uvMapper_uvGrouperVersion) -leftEdge 900 -topEdge 115 -toolbox true -sizeable false -resizeToFitChildren false -width 800 -height 385`;\n\tscrollLayout;\n\trowColumnLayout -numberOfColumns 1;\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"ON TOP OF UV EDITOR CHECKBOX\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Turn on if you want the toolbox to stay on top of the UV editor when the UV editor is undocked. If you close the UV editor with the checkbox on, the toolbox will also close which is a limitation of how Maya works. If you're primarily working with a docked UV editor I recommend turning this checkbox off.\\n\\n\";\n\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"UV GROUPER\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Grouping UV shells allows you to manually choose which UV shells stack on top of each other during UV layout. To create a UV shell group, select two or more UV shells and click one of the 1-50 buttons to assign them to that group. Faces are selected to show you what shells the current group consists of, but component mode is left in whatever mode it was in before before clicking the 1-50 buttons so you don't have to switch back out of face mode each time.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-You only need to select one component on each shell to assign them to a group which can save time.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-Shell groups are exclusive so if you assign something from group 1 to group 2 those shells are automatically removed from gorup 1. If you forget which shells are assigned to which groups, click the corresponding sel button above the group number button to select the components assigned to that group.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-The clear button will clear all shells belonging to that particular group, you only need to select one component from that group on one shell to clear that whole group. The clear all button will clear all UV shell groups.\\n\";\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"-If you get an error trying to create a group it may be caused by old group data from a different mesh, try clearing all if the grouping won't work on a new scene or different mesh.\\n\\n\";\n\t\n\t\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -font \"boldLabelFont\" -label \"YOUTUBE VIDEOS HERE\";\n\ttext -align \"left\" -wordWrap 1 -width 780 -hl 1 -label \"<a href=\\\"https://youtu.be/HyFFmwf3b7E?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6\\\"style=\\\"color:rgb(187,187,187)\\;\\\">https://youtu.be/HyFFmwf3b7E?list=PLAUgGUDpaMENfz8Nd7Zw-LxDK_v5ZflY6</a><br><br>\";\n\t\n\t\n\tshowWindow $m341_uvMapper_uvGrouper_HelpWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Reset \nglobal proc m341_uvMapper_reset()\n{\n\t//image dimming\n\tcheckBox -e -value 0 uvMapper_imageDimming_checkBoxName;\n\tglobal int $m341_uvMapper_imageDimming_userInput;\n\t$m341_uvMapper_imageDimming_userInput = 1;\n\tm341_uvMapper_imageDimming_valueChanged();\n\n\n\t//Keep w/h ratio\n\tcheckBox -e -value 1 uvMapper_keepWidthHeightRatio_CheckBoxName;\n\tglobal int $m341_uvMapper_keepWidthHeightRatio_userInput;\n\t$m341_uvMapper_keepWidthHeightRatio_userInput = `checkBox -q -value uvMapper_keepWidthHeightRatio_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_keepWidthHeightRatioCheckBox_VarName\" $m341_uvMapper_keepWidthHeightRatio_userInput;\n\t\n\t\n\t//proj w/h\n\tcheckBox -e -value 1 uvMapper_projWidthHeight_CheckBoxName;\n\tglobal int $m341_uvMapper_projWidthHeight_userInput;\n\t$m341_uvMapper_projWidthHeight_userInput = `checkBox -q -value uvMapper_projWidthHeight_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_projWidthHeightCheckBox_VarName\" $m341_uvMapper_projWidthHeight_userInput;\t\n\n\n\t//proj w/h float field\n\tfloatField -e -value 400 uvMapper_planarProjWidthHeight_FloatFieldName;\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t$m341_uvMapper_planarProjWidthHeight_UserInput = `floatField -q -value uvMapper_planarProjWidthHeight_FloatFieldName`;\n\toptionVar -floatValue \"m341_uvMapper_planarProjWidthHeightFloatField_VarName\" $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\n\t\n\t//align\n\tcheckBox -e -value 0 uvMapper_align_CheckBoxName;\n\tglobal int $m341_uvMapper_align_userInput;\n\t$m341_uvMapper_align_userInput = `checkBox -q -value uvMapper_align_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_alignCheckBox_VarName\" $m341_uvMapper_align_userInput;\n\t\n\t\n\t//orient\n\tcheckBox -e -value 0 uvMapper_orient_CheckBoxName;\n\tglobal int $m341_uvMapper_orient_userInput;\n\t$m341_uvMapper_orient_userInput = `checkBox -q -value uvMapper_orient_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_orientCheckBox_VarName\" $m341_uvMapper_orient_userInput;\n\t\n\t\n\t//select\n\t//checkBox -e -value 0 uvMapper_select_CheckBoxName;\n\t//global int $m341_uvMapper_select_userInput;\n\t//$m341_uvMapper_select_userInput = `checkBox -q -value uvMapper_select_CheckBoxName`;\n\t//optionVar -intValue \"m341_uvMapper_selectCheckBox_VarName\" $m341_uvMapper_select_userInput;\n\n\n\t//find shells < % float field\n\tfloatField -e -value 5 uvMapper_findShells_FloatFieldName;\n\tglobal float $m341_uvMapper_findShells_UserInput;\n\t$m341_uvMapper_findShells_UserInput = `floatField -q -value uvMapper_findShells_FloatFieldName`;\n\toptionVar -floatValue \"m341_uvMapper_findShellsFloatField_VarName\" $m341_uvMapper_findShells_UserInput;\n\n\n\t//flip\n\tcheckBox -e -value 1 uvMapper_flip_CheckBoxName;\n\tglobal int $m341_uvMapper_flip_userInput;\n\t$m341_uvMapper_flip_userInput = `checkBox -q -value uvMapper_flip_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_flipCheckBox_VarName\" $m341_uvMapper_flip_userInput;\n\t\n\t\n\t//spin\n\tcheckBox -e -value 1 uvMapper_spin_checkBoxName;\n\tglobal int $m341_uvMapper_spin_userInput;\n\t$m341_uvMapper_spin_userInput = `checkBox -q -value uvMapper_spin_checkBoxName`;\n\toptionVar -intValue \"m341_uvMapper_spinCheckBox_VarName\" $m341_uvMapper_spin_userInput;\n\t\n\t\n\t//scale\n\tcheckBox -e -value 1 uvMapper_scale_CheckBoxName;\n\tglobal int $m341_uvMapper_scale_userInput;\n\t$m341_uvMapper_scale_userInput = `checkBox -q -value uvMapper_scale_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_scaleCheckBox_VarName\" $m341_uvMapper_scale_userInput;\n\t\n\t\n\t//move\n\tcheckBox -e -value 1 uvMapper_move_CheckBoxName;\n\tglobal int $m341_uvMapper_move_userInput;\n\t$m341_uvMapper_move_userInput = `checkBox -q -value uvMapper_move_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_moveCheckBox_VarName\" $m341_uvMapper_move_userInput;\n\t\n\t\n\t//stack\n\tcheckBox -e -value 0 uvMapper_stack_CheckBoxName;\n\tglobal int $m341_uvMapper_stack_userInput;\n\t$m341_uvMapper_stack_userInput = `checkBox -q -value uvMapper_stack_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_stackCheckBox_VarName\" $m341_uvMapper_stack_userInput;\n\t\n\t\n\t//all\n\tcheckBox -e -value 1 uvMapper_all_CheckBoxName;\n\tglobal int $m341_uvMapper_all_userInput;\n\t$m341_uvMapper_all_userInput = `checkBox -q -value uvMapper_all_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_allCheckBox_VarName\" $m341_uvMapper_all_userInput;\n\n\n\t//map size dropdown\n\toptionMenu -e -select 2 uvMapper_mapSize_DropDownName;\n\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 2;\n\t\n\t\n\t//Padding float field\n\tfloatField -e -value 8 uvMapper_padding_floatFieldName;\t\n\tglobal float $m341_uvMapper_padding_userInput;\n\t$m341_uvMapper_padding_userInput = `floatField -query -value uvMapper_padding_floatFieldName`;\n\toptionVar -floatValue \"m341_uvMapper_paddingFloatField_varName\" $m341_uvMapper_padding_userInput;\n\t\n\n\t//map size int field\n\tintField -e -value 2048 uvMapper_mapSize_IntFieldName;\n\tglobal int $m341_uvMapper_mapSize_UserInput;\n\t$m341_uvMapper_mapSize_UserInput = `intField -query -value uvMapper_mapSize_IntFieldName`;\n\toptionVar -intValue \"m341_uvMapper_mapSizeIntField_VarName\" $m341_uvMapper_mapSize_UserInput;\n\t//Update UV toolkit so it doesn't get out of sync with uvMapper UI\n\tintField -e -v $m341_uvMapper_mapSize_UserInput uvTkTexelDensityMapSizeField;\n\t\n\t\n\t//pix per unit\n\tfloatField -e -value 5.12 uvMapper_pixPerUnit_FloatFieldName;\n\tglobal float $m341_uvMapper_pixPerUnit_UserInput;\n\t$m341_uvMapper_pixPerUnit_UserInput = `floatField -query -value uvMapper_pixPerUnit_FloatFieldName`;\n\toptionVar -floatValue \"m341_uvMapper_pixPerUnitFloatField_VarName\" $m341_uvMapper_pixPerUnit_UserInput;\n\t//Update UV toolkit so it doesn't get out of sync with uvMapper UI\n\tfloatField -e -v $m341_uvMapper_pixPerUnit_UserInput uvTkTexelDensityField;\n\t\n\n\t//Print\n\tglobal string $m341_uvMapperVersion;\n\tprint ($m341_uvMapperVersion + \" reset to default\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Update Image Dimming Checkbox Value\nglobal proc m341_uvMapper_imageDimming_valueChanged()\n{\n\t//Query the value of the checkbox and store it in a variable\n\tglobal int $m341_uvMapper_imageDimming_userInput;\n\t$m341_uvMapper_imageDimming_userInput = `checkBox -q -value uvMapper_imageDimming_checkBoxName`;\n\toptionVar -intValue \"m341_uvMapper_imageDimmingCheckBox_varName\" $m341_uvMapper_imageDimming_userInput;\n\t\n\tstring $currentMayaYear = `about -product`;\n\tif ($m341_uvMapper_imageDimming_userInput == 0)\n\t{\n\t\tif(`gmatch $currentMayaYear \"*202*\"`)\n\t\t{\n\t\t\t//TURN OFF DIM IMAGE 2020\n\t\t\ttextureWindowImageDimming(1,0);\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2019*\"`)\n\t\t{\n\t\t\t//TURN OFF DIM IMAGE 2019\n\t\t\ttextureWindowImageDimming(1,0);\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2018*\"`)\n\t\t{\n\t\t\t//TURN OFF DIM IMAGE 2018\n\t\t\ttextureWindow -e -imageDim 0 polyTexturePlacementPanel1;\n\t\t\tperformTextureViewDimImageOptions 0;\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2017*\"`)\n\t\t{\t\n\t\t\t//TURN OFF DIM IMAGE 2017\n\t\t\ttextureWindow -e -imageDim 0 polyTexturePlacementPanel1;\n\t\t\tperformTextureViewDimImageOptions 0;\n\t\t}\n\t\tprint \"Image dimming checkbox off\\n\";\n\t}\n\t\n\telse\n\t{\n\t\tif(`gmatch $currentMayaYear \"*202*\"`)\n\t\t{\n\t\t\t//Set optionVar\n\t\t\tfloat $dimAmount[] = `textureWindow -q -ibc polyTexturePlacementPanel1`;\n\t\t\toptionVar -floatValue \"m341_uvMapper_imageDimmingAmount_varName\" $dimAmount[0];\n\t\t\t$uvMapper_imageDimming_AmountValue = `optionVar -q \"m341_uvMapper_imageDimmingAmount_varName\"`;\n\n\t\t\t//DIM IMAGE 2020\n\t\t\ttextureWindowImageDimming(1,1);\n\t\t\ttextureWindow -edit -ibc $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue polyTexturePlacementPanel1;\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2019*\"`)\n\t\t{\n\t\t\t//Set optionVar\n\t\t\tfloat $dimAmount[] = `textureWindow -q -ibc polyTexturePlacementPanel1`;\n\t\t\toptionVar -floatValue \"m341_uvMapper_imageDimmingAmount_varName\" $dimAmount[0];\n\t\t\t$uvMapper_imageDimming_AmountValue = `optionVar -q \"m341_uvMapper_imageDimmingAmount_varName\"`;\n\t\t\n\t\t\t//DIM IMAGE 2019\n\t\t\ttextureWindowImageDimming(1,1);\n\t\t\ttextureWindow -edit -ibc $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue polyTexturePlacementPanel1;\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2018*\"`)\n\t\t{\n\t\t\t//Set optionVar\n\t\t\tfloat $dimAmount[] = `textureWindow -q -ibc polyTexturePlacementPanel1`;\n\t\t\toptionVar -floatValue \"m341_uvMapper_imageDimmingAmount_varName\" $dimAmount[0];\n\t\t\t$uvMapper_imageDimming_AmountValue = `optionVar -q \"m341_uvMapper_imageDimmingAmount_varName\"`;\n\t\t\n\t\t\t//DIM IMAGE 2018\n\t\t\ttextureWindow -e -imageDim 1 polyTexturePlacementPanel1;\n\t\t\tperformTextureViewDimImageOptions 0;\n\t\t\ttextureWindow -edit -ibc $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue polyTexturePlacementPanel1;\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2017*\"`)\n\t\t{\n\t\t\t//Set optionVar\n\t\t\tfloat $dimAmount[] = `textureWindow -q -ibc polyTexturePlacementPanel1`;\n\t\t\toptionVar -floatValue \"m341_uvMapper_imageDimmingAmount_varName\" $dimAmount[0];\n\t\t\t$uvMapper_imageDimming_AmountValue = `optionVar -q \"m341_uvMapper_imageDimmingAmount_varName\"`;\n\t\t\n\t\t\t//DIM IMAGE 2017\n\t\t\ttextureWindow -e -imageDim 1 polyTexturePlacementPanel1;\n\t\t\tperformTextureViewDimImageOptions 0;\n\t\t\ttextureWindow -edit -ibc $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue polyTexturePlacementPanel1;\n\t\t}\n\t\tprint \"Image dimming checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update load with UV editor Checkbox Value\nglobal proc m341_uvMapper_loadWithUVEditor_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_loadWithUVEditor_userInput;\n\t$m341_uvMapper_loadWithUVEditor_userInput = `checkBox -q -value uvMapper_loadWithUVEditor_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_loadWithUVEditorCheckBox_VarName\" $m341_uvMapper_loadWithUVEditor_userInput;\n\n\t//Print value\n\tif ($m341_uvMapper_loadWithUVEditor_userInput == 0)\n\t{\n\t\tint $unfold3dPluginLoaded = `pluginInfo -q -loaded \"Unfold3D.mll\"`;\n\t\tif ($unfold3dPluginLoaded == 1)\n\t\t{\n\t\t\tm341_launchUVMapperInterface();\n\t\t}\n\t\n\t\telse\n\t\t{\n\t\t\tloadPlugin \"Unfold3D.mll\";\n\t\t\tpluginInfo -edit -autoload true \"Unfold3D.mll\";\n\t\t\tm341_launchUVMapperInterface();\n\t\t}\n\t\tprint \"On top of UV editor checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tint $unfold3dPluginLoaded = `pluginInfo -q -loaded \"Unfold3D.mll\"`;\n\t\tif ($unfold3dPluginLoaded == 1)\n\t\t{\n\t\t\tm341_launchUVMapperInterface();\n\t\t}\n\t\n\t\telse\n\t\t{\n\t\t\tloadPlugin \"Unfold3D.mll\";\n\t\t\tpluginInfo -edit -autoload true \"Unfold3D.mll\";\n\t\t\tm341_launchUVMapperInterface();\n\t\t}\n\t\tprint \"On top of UV editor checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update uvGrouper On Top of UV Editor Checkbox Value\nglobal proc m341_uvMapper_uvGrouper_onTop_CheckboxValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_uvGrouper_loadWithUVEditor_userInput;\n\t$m341_uvMapper_uvGrouper_loadWithUVEditor_userInput = `checkBox -q -value uvMapper_uvGrouper_loadWithUVEditor_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_uvGrouper_loadWithUVEditorCheckBox_VarName\" $m341_uvMapper_uvGrouper_loadWithUVEditor_userInput;\n\n\t//Print value\n\tif ($m341_uvMapper_uvGrouper_loadWithUVEditor_userInput == 0)\n\t{\n\t\tm341_uvMapper_launchUVGrouperInterface();\n\t\tprint \"On top of UV editor checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tm341_uvMapper_launchUVGrouperInterface();\n\t\tprint \"On top of UV editor checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Save Image Dimming on Close\nglobal proc m341_uvMapper_dimmingPref()\n{\n\t//Set optionVar\n\tfloat $dimAmount[] = `textureWindow -q -ibc polyTexturePlacementPanel1`;\n\toptionVar -floatValue \"m341_uvMapper_imageDimmingAmount_varName\" $dimAmount[0];\n\t$uvMapper_imageDimming_AmountValue = `optionVar -q \"m341_uvMapper_imageDimmingAmount_varName\"`;\n}\n\n\n//***********************************************************************************************************************************************************\n//Toggle checker map on/off\nglobal proc m341_uvMapper_toggleChecker()\n{\n\tif ((size(`textureWindow -query -parent polyTexturePlacementPanel1`)) == 0)\n\t{\n\t\tprint \"Please open UV editor first\\n\";\n\t}\n\t\n\telse\n\t{\n\t\tint $toggleCheck = `textureWindow -q -displayCheckered polyTexturePlacementPanel1`;\n\t\tif ($toggleCheck == 0)\n\t\t{\n\t\t\t//Turn on UV editor image options so you can see wireframe\n\t\t\tstring $currentMayaYear = `about -product`;\n\t\t\tif(`gmatch $currentMayaYear \"*202*\"`)\n\t\t\t{\n\t\t\t\t//TURN ON CHECKERS 2020\n\t\t\t\ttextureWindowDisplayCheckered(1,1);\n\t\t\t\tperformTextureViewCheckerMapOptions 0;\n\t\t\t\ttxtWndUpdateEditor(\"polyTexturePlacementPanel1\", \"textureWindow\", \"null\", 101);\n\t\t\t\t//TURN ON IMAGE 2020\n\t\t\t\t$maCheckIfImageOn2020 = `textureWindow -q -imageDisplay polyTexturePlacementPanel1`;\n\t\t\t\tif ($maCheckIfImageOn2020 == 0)\n\t\t\t\t{\n\t\t\t\t\tToggleUVTextureImage;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(`gmatch $currentMayaYear \"*2019*\"`)\n\t\t\t{\n\t\t\t\t//TURN ON CHECKERS 2019\n\t\t\t\ttextureWindowDisplayCheckered(1,1);\n\t\t\t\tperformTextureViewCheckerMapOptions 0;\n\t\t\t\ttxtWndUpdateEditor(\"polyTexturePlacementPanel1\", \"textureWindow\", \"null\", 101);\n\t\t\t\t//TURN ON IMAGE 2019\n\t\t\t\t$maCheckIfImageOn2019 = `textureWindow -q -imageDisplay polyTexturePlacementPanel1`;\n\t\t\t\tif ($maCheckIfImageOn2019 == 0)\n\t\t\t\t{\n\t\t\t\t\tToggleUVTextureImage;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(`gmatch $currentMayaYear \"*2018*\"`)\n\t\t\t{\n\t\t\t\t//TURN ON CHECKER 2018\n\t\t\t\ttextureWindow -edit -displayCheckered 1 -checkerColorMode 0  -checkerColor1 1 1 1  -checkerColor2 0 0 0  -cgo 1  -checkerGradient1 1 1 1  -checkerGradient2 0 0 0 -checkerDrawTileLabels 1 polyTexturePlacementPanel1;\n\t\t\t\t//TURN ON IMAGE 2018\n\t\t\t\ttextureWindow -edit -imageDisplay 1 polyTexturePlacementPanel1;\n\t\t\t\tstring $texWinName[] = `getPanel -sty polyTexturePlacementPanel`;\n\t\t\t\ttxtWndUpdateEditor( $texWinName[0], \"textureWindow\", \"null\", 101 );\n\t\t\t}\n\t\t\t\n\t\t\tif(`gmatch $currentMayaYear \"*2017*\"`)\n\t\t\t{\n\t\t\t\t//TURN ON CHECKER 2017\n\t\t\t\ttextureWindow -edit -displayCheckered 1 -checkerColorMode 0  -checkerColor1 1 1 1  -checkerColor2 0 0 0  -cgo 1  -checkerGradient1 1 1 1  -checkerGradient2 0 0 0 -checkerDrawTileLabels 1 polyTexturePlacementPanel1;\n\t\t\t\t//TURN ON IMAGE 2017\n\t\t\t\ttextureWindow -edit -imageDisplay 1 polyTexturePlacementPanel1;\n\t\t\t\tstring $texWinName[] = `getPanel -sty polyTexturePlacementPanel`;\n\t\t\t\ttxtWndUpdateEditor( $texWinName[0], \"textureWindow\", \"null\", 101 );\n\t\t\t}\n\t\t\tprint \"UV checker map ON\\n\";\n\t\t}\n\t\t\n\t\telse if ($toggleCheck == 1)\n\t\t{\n\t\t\t//Turn off UV editor image options so you don't see checker\n\t\t\tstring $currentMayaYear = `about -product`;\n\t\t\tif(`gmatch $currentMayaYear \"*202*\"`)\n\t\t\t{\n\t\t\t\t//TURN OFF CHECKER 2020\n\t\t\t\ttextureWindowDisplayCheckered(1,0);\n\t\t\t\ttxtWndUpdateEditor(\"polyTexturePlacementPanel1\", \"textureWindow\", \"null\", 101);\n\t\t\t}\n\t\t\tif(`gmatch $currentMayaYear \"*2019*\"`)\n\t\t\t{\n\t\t\t\t//TURN OFF CHECKER 2019\n\t\t\t\ttextureWindowDisplayCheckered(1,0);\n\t\t\t\ttxtWndUpdateEditor(\"polyTexturePlacementPanel1\", \"textureWindow\", \"null\", 101);\n\t\t\t}\n\t\t\tif(`gmatch $currentMayaYear \"*2018*\"`)\n\t\t\t{\n\t\t\t\t//TURN OFF CHECKER 2018\n\t\t\t\ttextureWindow -edit -solidMapPerShell 0 -displaySolidMap 0 polyTexturePlacementPanel1;\n\t\t\t\ttxtWndUpdateEditor(\"polyTexturePlacementPanel1\", \"textureWindow\", \"null\", 101);\n\t\t\t}\n\t\t\tif(`gmatch $currentMayaYear \"*2017*\"`)\n\t\t\t{\t\n\t\t\t\t//TURN OFF CHECKER 2017\n\t\t\t\ttextureWindow -edit -displayCheckered 0 -checkerColorMode 0 polyTexturePlacementPanel1;\n\t\t\t\ttxtWndUpdateEditor(\"polyTexturePlacementPanel1\", \"textureWindow\", \"null\", 101);\n\t\t\t}\n\t\t\tprint (\"UV checker map OFF\\n\");\n\t\t}\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n//***********************************************************************************************************************************************************\n//Checker map density up\nglobal proc m341_uvMapper_checkerUp()\n{\n\tglobal int $checkerDensityUp;\n\tglobal string $texWinName[];\n\t$texWinName = `getPanel -sty polyTexturePlacementPanel`;\n\t$checkerDensityUp = `textureWindow -q -checkerDensity $texWinName`;\n\t\n\tif ($checkerDensityUp > 2048)\n\t{\n\t\ttextureWindow -e -checkerDensity 2048 $texWinName;\n\t\tprint \"Checker map set to 2048\\n\";\n\t}\n\n\tif ($checkerDensityUp <= 1024)\n\t{\n\t\ttextureWindow -e -checkerDensity 2048 $texWinName[0];\n\t\tprint \"Checker map set to 2048\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 512)\n\t{\n\t\ttextureWindow -e -checkerDensity 1024 $texWinName[0];\n\t\tprint \"Checker map set to 1024\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 256)\n\t{\n\t\ttextureWindow -e -checkerDensity 512 $texWinName[0];\n\t\tprint \"Checker map set to 512\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 128)\n\t{\n\t\ttextureWindow -e -checkerDensity 256 $texWinName[0];\n\t\tprint \"Checker map set to 256\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 64)\n\t{\n\t\ttextureWindow -e -checkerDensity 128 $texWinName[0];\n\t\tprint \"Checker map set to 128\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 32)\n\t{\n\t\ttextureWindow -e -checkerDensity 64 $texWinName[0];\n\t\tprint \"Checker map set to 64\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 16)\n\t{\n\t\ttextureWindow -e -checkerDensity 32 $texWinName[0];\n\t\tprint \"Checker map set to 32\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 8)\n\t{\n\t\ttextureWindow -e -checkerDensity 16 $texWinName[0];\n\t\tprint \"Checker map set to 16\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 4)\n\t{\n\t\ttextureWindow -e -checkerDensity 8 $texWinName[0];\n\t\tprint \"Checker map set to 8\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 2)\n\t{\n\t\ttextureWindow -e -checkerDensity 4 $texWinName[0];\n\t\tprint \"Checker map set to 4\\n\";\n\t}\n\t\n\tif ($checkerDensityUp <= 1)\n\t{\n\t\ttextureWindow -e -checkerDensity 2 $texWinName[0];\n\t\tprint \"Checker map set to 2\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Checker map density down\nglobal proc m341_uvMapper_checkerDown()\n{\n\tglobal int $checkerDensityDown;\n\tglobal string $texWinName[];\n\t$texWinName = `getPanel -sty polyTexturePlacementPanel`;\n\t$checkerDensityDown = `textureWindow -q -checkerDensity $texWinName`;\n\n\tif ($checkerDensityDown > 2048)\n\t{\n\t\ttextureWindow -e -checkerDensity 2048 $texWinName[0];\n\t\tprint \"Checker map set to 2048\\n\";\n\t}\n\t\n\tif ($checkerDensityDown <= 2048)\n    {\n        textureWindow -e -checkerDensity 1024 $texWinName[0];\n        print \"Checker map set to 1024\\n\";\n    }\n\t\n\tif ($checkerDensityDown <= 1024)\n    {\n\t\ttextureWindow -e -checkerDensity 512 $texWinName[0];\n        print \"Checker map set to 512\\n\";\n    }\n\n\tif ($checkerDensityDown <= 512)\n    {\n        textureWindow -e -checkerDensity 256 $texWinName[0];\n        print \"Checker map set to 256\\n\";\n    }\n\n\tif ($checkerDensityDown <= 256)\n    {\n        textureWindow -e -checkerDensity 128 $texWinName[0];\n        print \"Checker map set to 128\\n\";\n    }\n\n\tif ($checkerDensityDown <= 128)\n    {\n        textureWindow -e -checkerDensity 64 $texWinName[0];\n        print \"Checker map set to 64\\n\";\n    }\n\n\tif ($checkerDensityDown <= 64)\n    {\n        textureWindow -e -checkerDensity 32 $texWinName[0];\n        print \"Checker map set to 32\\n\";\n    }\n\n\tif ($checkerDensityDown <= 32)\n    {\n        textureWindow -e -checkerDensity 16 $texWinName[0];\n        print \"Checker map set to 16\\n\";\n    }\n\n\tif ($checkerDensityDown <= 16)\n\t{\n\t\ttextureWindow -e -checkerDensity 8 $texWinName[0];\n\t\tprint \"Checker map set to 8\\n\";\n\t}\n\n\tif ($checkerDensityDown <= 8)\n\t{\n\t\ttextureWindow -e -checkerDensity 4 $texWinName[0];\n\t\tprint \"Checker map set to 4\\n\";\n\t}\n\n\tif ($checkerDensityDown <= 4)\n\t{\n\t\ttextureWindow -e -checkerDensity 2 $texWinName[0];\n\t\tprint \"Checker map set to 2\\n\";\n\t}\n\n\tif ($checkerDensityDown <= 2)\n\t{\n\t\ttextureWindow -e -checkerDensity 1 $texWinName[0];\n\t\tprint \"Checker map set to 1\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//UV Shaded Toggle\nglobal proc m341_uvMapper_toggleShaded()\n{\n\tint $toggleCheck = `textureWindow -q -displaySolidMap polyTexturePlacementPanel1`;\n\tif ($toggleCheck == 0)\n\t{\n\t\tDisplayUVShaded;\t\n\t\tprint \"UV shaded on\\n\";\n\t}\n\t\n\telse\n\t{\n\t\tDisplayUVWireframe;\n\t\tprint \"UV shaded off\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//UV Borders Toggle\nglobal proc m341_uvMapper_toggleBorder()\n{\n\tUVEditorToggleTextureBorderDisplay;\n\tint $toggleCheck = `textureWindow -q -displayTextureBorder polyTexturePlacementPanel1`;\n\tif ($toggleCheck == 1)\n\t{\n\t\tprint \"UV borders on\\n\";\n\t}\n\t\n\telse\n\t{\n\t\tprint \"UV borders off\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Show Mesh Edges\nglobal proc m341_uvMapper_showMeshEdges()\n{\n\tstring $mode = `displayPref -q -wsa`;\n\tif ($mode == \"full\")\n\t{\n\t\tdisplayPref -wsa \"none\";\n\t\tprint  (\"Edge display set to NONE\\n\");\n\t}\n\t\n\telse if ($mode == \"none\")\n\t{\n\t\tdisplayPref -wsa \"full\";\n\t\tprint  (\"Edge display set to FULL\\n\");\n\t}\n\t\n\telse\n\t{\n\t\tdisplayPref -wsa \"full\";\n\t\tprint  (\"Edge display set to FULL\\n\");\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Used UV Space HUD\nglobal proc m341_uvMapper_uvSpaceUsed()\n{\n\tint $uvSpaceHUD = `textureWindow -q -displayUsedPercentageHUD polyTexturePlacementPanel1`;\n\tif ($uvSpaceHUD == 0)\n\t{\n\t\ttextureWindow -e -displayUsedPercentageHUD 1 -usedPercentageHUDRange 0 0 1 1 -displayUVShellCountHUD 0 -displayOverlappingUVCountHUD 0 -displayReversedUVCountHUD 0 polyTexturePlacementPanel1;\n\t\tprint \"UV efficency HUD on\\n\";\n\t}\n\t\n\telse\n\t{\n\t\ttextureWindow -e -displayUsedPercentageHUD 0 -usedPercentageHUDRange 0 0 1 1 polyTexturePlacementPanel1;\n\t\tprint \"UV efficency HUD off\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Tile Lines\nglobal proc m341_uvMapper_tileLines()\n{\n\t//Show grid if it's turned off\n\tint $gridVisible = `textureWindow -q -toggle polyTexturePlacementPanel1`;\n\tif ($gridVisible == 0)\n\t{\n\t\ttextureWindowDisplayGrid(1,1);\t\n\t\t//textureWindowToggleGrid (\"polyTexturePlacementPanel1\",\"textureWindow\" ); txtWndUpdateEditor(\"polyTexturePlacementPanel1\", \"textureWindow\", \"null\", 101);\n\t}\n\n\t//Toggle tile lines\n\tint $tileLinesVisible = `textureWindow -q -drawSubregions polyTexturePlacementPanel1`;\n\tif ($tileLinesVisible == 0)\n\t{\n\t\t//Turn on tile lines\n\t\ttextureWindow -edit -drawSubregions 1 polyTexturePlacementPanel1;\n\t\t//Change tile lines to red\n\t\ttextureWindow -edit -tileLinesColor 1 0 0 polyTexturePlacementPanel1;\n\t\ttextureWindow -edit -refresh polyTexturePlacementPanel1;\n\t\tprint \"Grid tile lines on\\n\";\n\t}\n\t\n\telse\n\t{\n\t\ttextureWindow -edit -drawSubregions 0 polyTexturePlacementPanel1;\n\t\ttextureWindow -edit -refresh polyTexturePlacementPanel1;\n\t\tprint \"Grid tile lines off\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Tile Labels\nglobal proc m341_uvMapper_tileLabels()\n{\n\t//Show grid if it's turned off\n\tint $gridVisible = `textureWindow -q -toggle polyTexturePlacementPanel1`;\n\tif ($gridVisible == 0)\n\t{\n\t\ttextureWindowDisplayGrid(1,1);\t\n\t\t//textureWindowToggleGrid (\"polyTexturePlacementPanel1\",\"textureWindow\" ); txtWndUpdateEditor(\"polyTexturePlacementPanel1\", \"textureWindow\", \"null\", 101);\n\t}\n\n\t//Toggle tile labels\n\tint $tileLabelsVisible = `textureWindow -q -tileLabels polyTexturePlacementPanel1`;\n\tif ($tileLabelsVisible == 0)\n\t{\n\t\t//Turn on tile lines\n\t\ttextureWindow -edit -tileLabels 1 polyTexturePlacementPanel1;\n\t\ttextureWindow -edit -refresh polyTexturePlacementPanel1;\n\t\tprint \"Grid tile labels on\\n\";\n\t}\n\t\n\telse\n\t{\n\t\ttextureWindow -edit -tileLabels 0 polyTexturePlacementPanel1;\n\t\ttextureWindow -edit -refresh polyTexturePlacementPanel1;\n\t\tprint \"Grid tile labels off\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Shell Count\nglobal proc m341_uvMapper_shellCount()\n{\n\tint $shellCountHUD = `textureWindow -q -displayUVShellCountHUD polyTexturePlacementPanel1`;\n\tif ($shellCountHUD == 0)\n\t{\n\t\ttextureWindow -e -displayUsedPercentageHUD 0 -usedPercentageHUDRange 0 0 1 1 -displayUVShellCountHUD 1 -displayOverlappingUVCountHUD 0 -displayReversedUVCountHUD 0 polyTexturePlacementPanel1;\n\t\tprint \"Shell count HUD on\\n\";\t\n\t}\n\t\n\telse\n\t{\n\t\ttextureWindow -e -displayUsedPercentageHUD 0 -usedPercentageHUDRange 0 0 1 1 -displayUVShellCountHUD 0 -displayOverlappingUVCountHUD 0 -displayReversedUVCountHUD 0 polyTexturePlacementPanel1;\n\t\tprint \"Shell count HUD off\\n\";\t\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//planar map x\nglobal proc m341_uvMapper_planarMapX()\n{  \n\tm341_uvMapper_planarProjWidthHeight_ValueChanged();\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\tint $keepWHCheckMarkValue = `checkBox -query -value uvMapper_keepWidthHeightRatio_CheckBoxName`;\n\tint $projWHCheckMarkValue = `checkBox -query -value uvMapper_projWidthHeight_CheckBoxName`;\n\t\n\tif ($projWHCheckMarkValue == 1) \n\t{\t\n\t\tConvertSelectionToFaces;\n\t\t$malcolmPlanarXArray = `polyProjection -ch 1 -type Planar -ibd on -kir  -md x`;\n\t\tfor ($malcolmPlanarX in $malcolmPlanarXArray)\n\t\t\t{\n\t\t\t\tsetAttr ($malcolmPlanarX + \".projectionHeight\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tsetAttr ($malcolmPlanarX + \".projectionWidth\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tprint (\"Planar map X applied, projection width/height set to \" + $m341_uvMapper_planarProjWidthHeight_UserInput + \"\\n\");\n\t\t\t}\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 1)\n\t{\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -kir  -md x;\n\t\tprint \"Planar map X applied, keep width/height ratio on\\n\";\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 0)\n\t{\t\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -md x;\n\t\tprint \"Planar map X applied, keep width/height ratio off\\n\";\n\t}\n\t\n\tSelectFacetMask;\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//planar map y\nglobal proc m341_uvMapper_planarMapY() \n{  \n\tm341_uvMapper_planarProjWidthHeight_ValueChanged();\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\tint $keepWHCheckMarkValue = `checkBox -query -value uvMapper_keepWidthHeightRatio_CheckBoxName`;\n\tint $projWHCheckMarkValue = `checkBox -query -value uvMapper_projWidthHeight_CheckBoxName`;\n\t\n\tif ($projWHCheckMarkValue == 1) \n\t{\t\n\t\tConvertSelectionToFaces;\n\t\t$malcolmPlanarYArray = `polyProjection -ch 1 -type Planar -ibd on -kir  -md y`;\n\t\tfor ($malcolmPlanarY in $malcolmPlanarYArray)\n\t\t\t{\n\t\t\t\tsetAttr ($malcolmPlanarY + \".projectionHeight\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tsetAttr ($malcolmPlanarY + \".projectionWidth\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tprint (\"Planar map Y applied, projection width/height set to \" + $m341_uvMapper_planarProjWidthHeight_UserInput + \"\\n\");\n\t\t\t}\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 1)\n\t{\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -kir  -md y;\n\t\tprint \"Planar map Y applied, keep width/height ratio on\\n\";\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 0)\n\t{\t\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -md y;\n\t\tprint \"Planar map Y applied, keep width/height ratio off\\n\";\n\t}\n\t\n\tSelectFacetMask;\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//planar map z\nglobal proc m341_uvMapper_planarMapZ()\n{  \n\tm341_uvMapper_planarProjWidthHeight_ValueChanged();\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\tint $keepWHCheckMarkValue = `checkBox -query -value uvMapper_keepWidthHeightRatio_CheckBoxName`;\n\tint $projWHCheckMarkValue = `checkBox -query -value uvMapper_projWidthHeight_CheckBoxName`;\n\t\n\tif ($projWHCheckMarkValue == 1) \n\t{\t\n\t\tConvertSelectionToFaces;\n\t\t$malcolmPlanarZArray = `polyProjection -ch 1 -type Planar -ibd on -kir  -md z`;\n\t\tfor ($malcolmPlanarZ in $malcolmPlanarZArray)\n\t\t\t{\n\t\t\t\tsetAttr ($malcolmPlanarZ + \".projectionHeight\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tsetAttr ($malcolmPlanarZ + \".projectionWidth\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tprint (\"Planar map Z applied, projection width/height set to \" + $m341_uvMapper_planarProjWidthHeight_UserInput + \"\\n\");\n\t\t\t}\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 1)\n\t{\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -kir  -md z;\n\t\tprint \"Planar map Z applied, keep width/height ratio on\\n\";\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 0)\n\t{\t\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -md z;\n\t\tprint \"Planar map Z applied, keep width/height ratio off\\n\";\n\t}\n\t\n\tSelectFacetMask;\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//planar map camera\nglobal proc m341_uvMapper_planarMapCamera()\n{  \n\tm341_uvMapper_planarProjWidthHeight_ValueChanged();\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\tint $keepWHCheckMarkValue = `checkBox -query -value uvMapper_keepWidthHeightRatio_CheckBoxName`;\n\tint $projWHCheckMarkValue = `checkBox -query -value uvMapper_projWidthHeight_CheckBoxName`;\n\t\n\tif ($projWHCheckMarkValue == 1) \n\t{\t\n\t\tConvertSelectionToFaces;\n\t\t$malcolmPlanarCArray = `polyProjection -ch 1 -type Planar -ibd on -kir  -md c`;\n\t\tfor ($malcolmPlanarC in $malcolmPlanarCArray)\n\t\t\t{\n\t\t\t\tsetAttr ($malcolmPlanarC + \".projectionHeight\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tsetAttr ($malcolmPlanarC + \".projectionWidth\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tprint (\"Planar map Camera applied, projection width/height set to \" + $m341_uvMapper_planarProjWidthHeight_UserInput + \"\\n\");\n\t\t\t}\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 1)\n\t{\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -kir  -md c;\n\t\tprint \"Planar map Camera applied, keep width/height ratio on\\n\";\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 0)\n\t{\t\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -md c;\n\t\tprint \"Planar map Camera applied, keep width/height ratio off\\n\";\n\t}\n\t\n\tSelectFacetMask;\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//best plane mapping\nglobal proc m341_uvMapper_planarMapBestPlane()\n{  \n\tm341_uvMapper_planarProjWidthHeight_ValueChanged();\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\tint $keepWHCheckMarkValue = `checkBox -query -value uvMapper_keepWidthHeightRatio_CheckBoxName`;\n\tint $projWHCheckMarkValue = `checkBox -query -value uvMapper_projWidthHeight_CheckBoxName`;\n\t\n\tif ($projWHCheckMarkValue == 1) \n\t{\t\n\t\tConvertSelectionToFaces;\n\t\t$malcolmPlanarBArray = `polyProjection -ch 1 -type Planar -ibd on -kir  -md b`;\n\t\tfor ($malcolmPlanarB in $malcolmPlanarBArray)\n\t\t\t{\n\t\t\t\tsetAttr ($malcolmPlanarB + \".projectionHeight\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tsetAttr ($malcolmPlanarB + \".projectionWidth\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\t\tprint (\"Best Plane map applied, projection width/height set to \" + $m341_uvMapper_planarProjWidthHeight_UserInput + \"\\n\");\n\t\t\t}\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 1)\n\t{\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -kir  -md b;\n\t\tprint \"Best Plane map applied, keep width/height ratio on\\n\";\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 0)\n\t{\t\n\t\tConvertSelectionToFaces;\n\t\tpolyProjection -ch 1 -type Planar -ibd on -md b;\n\t\tprint \"Best Plane map applied, keep width/height ratio off\\n\";\n\t}\n\t\n\tSelectFacetMask;\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Automatic Map\nglobal proc m341_uvMapper_automaticMap() \n{  \n\tm341_uvMapper_planarProjWidthHeight_ValueChanged();\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\tint $keepWHCheckMarkValue = `checkBox -query -value uvMapper_keepWidthHeightRatio_CheckBoxName`;\n\tint $projWHCheckMarkValue = `checkBox -query -value uvMapper_projWidthHeight_CheckBoxName`;\n\n\t//Fix for error if planar map applied before running automatic map, need to deselect projection node\t\n\tstring $automaticCurrentSelected[] = `ls -sl`; \n\tfor ($Item in $automaticCurrentSelected)\n\t{\n\t\tif ( `gmatch $Item \"*polyPlanarProj*\"`)\n\t\t{\n\t\t\tselect -deselect \"polyPlanarProj*\";\n\t\t}\n\t}\n\t\t\t\n\tif ($projWHCheckMarkValue == 1) \n\t{\t\n\t\t$uvMapperSelectAfter = `ls -sl`;\n\t\tstring $uvMapperNameArray[];\n\t\tint $uvMapperIndex = 0;\n\t\tfor($uvMapperBlah in $uvMapperSelectAfter)\n\t\t{\n\t\t\tstring $uvMapperBlahstring = string($uvMapperBlah);\n\t\t\tstring $uvMapperBuffer[];\n\t\t\t$uvMapperNum = `tokenize $uvMapperBlahstring \".\" $uvMapperBuffer`;\n\t\t\t$uvMapperNameArray[$uvMapperIndex] = $uvMapperBuffer[0];\n\t\t\t$uvMapperIndex += 1;\n\t\t}\n\t\n\t\t$uvMapperHash = stringArrayRemoveDuplicates($uvMapperNameArray);\n\t\tselect -clear;\n\t\tfor($uvMapperObj in $uvMapperHash)\n\t\t{\n\t\t\tstring $uvMapperObjfaces[];\n\t\t\t$uvMapperIndex = 0;\n\t\t\tfor($uvMapperElement in $uvMapperSelectAfter)\n\t\t\t{\n\t\t\t\tif(startsWith($uvMapperElement, $uvMapperObj))\n\t\t\t\t{\n\t\t\t\t\t$uvMapperObjfaces[$uvMapperIndex] = $uvMapperElement;\n\t\t\t\t\t$uvMapperIndex += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tselect $uvMapperObjfaces;\n\t\t\t$malcolmAutomaticMap = `polyAutoProjection -lm 0 -pb 0 -ibd 1 -cm 0 -l 3 -sc 0 -o 1 -p 6 -ps 0.2 -ws 1`;\n\t\t\tsetAttr ($malcolmAutomaticMap [0] + \".scaleX\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\tsetAttr ($malcolmAutomaticMap [0] + \".scaleY\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t\tsetAttr ($malcolmAutomaticMap [0] + \".scaleZ\") $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t\t}\n\t\tselect $uvMapperSelectAfter;\n\t\tConvertSelectionToFaces;\n\t\tprint (\"Automatic map applied, projection scale set to \" + $m341_uvMapper_planarProjWidthHeight_UserInput + \"\\n\");\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 1)\n\t{\t\n\t\t$uvMapperSelectAfter = `ls -sl`;\n\t\tstring $uvMapperNameArray[];\n\t\tint $uvMapperIndex = 0;\n\t\tfor($uvMapperBlah in $uvMapperSelectAfter)\n\t\t{\n\t\t\tstring $uvMapperBlahstring = string($uvMapperBlah);\n\t\t\tstring $uvMapperBuffer[];\n\t\t\t$uvMapperNum = `tokenize $uvMapperBlahstring \".\" $uvMapperBuffer`;\n\t\t\t$uvMapperNameArray[$uvMapperIndex] = $uvMapperBuffer[0];\n\t\t\t$uvMapperIndex += 1;\n\t\t}\n\t\n\t\t$uvMapperHash = stringArrayRemoveDuplicates($uvMapperNameArray);\n\t\tselect -clear;\n\t\tfor($uvMapperObj in $uvMapperHash)\n\t\t{\n\t\t\tstring $uvMapperObjfaces[];\n\t\t\t$uvMapperIndex = 0;\n\t\t\tfor($uvMapperElement in $uvMapperSelectAfter)\n\t\t\t{\n\t\t\t\tif(startsWith($uvMapperElement, $uvMapperObj))\n\t\t\t\t{\n\t\t\t\t\t$uvMapperObjfaces[$uvMapperIndex] = $uvMapperElement;\n\t\t\t\t\t$uvMapperIndex += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tselect $uvMapperObjfaces;\n\t\t\t$malcolmAutomaticMap = `polyAutoProjection -lm 0 -pb 0 -ibd 1 -cm 0 -l 1 -sc 1 -o 1 -p 6 -ps 0.2 -ws 1`;\n\t\t}\n\t\tselect $uvMapperSelectAfter;\n\t\tConvertSelectionToFaces;\n\t\tprint \"Automatic map applied, keep width/height ratio on\\n\";\n\t}\n\t\n\telse if ($keepWHCheckMarkValue == 0)\n\t{\t\n\t\t$uvMapperSelectAfter = `ls -sl`;\n\t\tstring $uvMapperNameArray[];\n\t\tint $uvMapperIndex = 0;\n\t\tfor($uvMapperBlah in $uvMapperSelectAfter)\n\t\t{\n\t\t\tstring $uvMapperBlahstring = string($uvMapperBlah);\n\t\t\tstring $uvMapperBuffer[];\n\t\t\t$uvMapperNum = `tokenize $uvMapperBlahstring \".\" $uvMapperBuffer`;\n\t\t\t$uvMapperNameArray[$uvMapperIndex] = $uvMapperBuffer[0];\n\t\t\t$uvMapperIndex += 1;\n\t\t}\n\t\n\t\t$uvMapperHash = stringArrayRemoveDuplicates($uvMapperNameArray);\n\t\tselect -clear;\n\t\tfor($uvMapperObj in $uvMapperHash)\n\t\t{\n\t\t\tstring $uvMapperObjfaces[];\n\t\t\t$uvMapperIndex = 0;\n\t\t\tfor($uvMapperElement in $uvMapperSelectAfter)\n\t\t\t{\n\t\t\t\tif(startsWith($uvMapperElement, $uvMapperObj))\n\t\t\t\t{\n\t\t\t\t\t$uvMapperObjfaces[$uvMapperIndex] = $uvMapperElement;\n\t\t\t\t\t$uvMapperIndex += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tselect $uvMapperObjfaces;\n\t\t\t$malcolmAutomaticMap = `polyAutoProjection -lm 0 -pb 0 -ibd 1 -cm 0 -l 1 -sc 1 -o 1 -p 6 -ps 0.2 -ws 1`;\n\t\t\tpolyNormalizeUV -normalizeType 1 -preserveAspectRatio off -centerOnTile off -normalizeDirection 0;\n\t\t}\n\t\tselect $uvMapperSelectAfter;\n\t\tConvertSelectionToFaces;\n\t\tprint \"Automatic map applied, keep width/height ratio off\\n\";\n\t}\n\t\n\tSelectFacetMask;\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Gridify UVs v1.7\nglobal proc m341_gridUVs()\n{\n\t//Change pix per unit to whatever texel density you want to hard code\n\tfloat $pixPerUnit = 5.1200;\n\t\n\t//Set to one if you are using the gridUV single script button on the shelf\n\tint $forceTexelDensity = 0;\n\n\t\n\tundoInfo -openChunk;\n\t\n\t//Store current tool\n\tstring $currentToolActive = `currentCtx`;\n\t\n\t//Error\n\t$originalComponents = `ls -sl`;\n\t$originalComponentsSize = `size $originalComponents`;\n\tif ($originalComponentsSize == 0)\n\t{\n\t\terror \"Nothing selected\\n\";\n\t}\n\t\n\t//Single face selected\n\tstring $faceTest[] = `filterExpand -ex 1 -sm 34`;\n\t$sizeFaceTest = `size $faceTest`;\n\tif ($sizeFaceTest == 1)\n\t{\n\t\terror \"Please select at least two connected faces\\n\";\n\t}\n\t\n\t\n\t//Gridify best guess axis\n\tstring $uvGridEdgeSel[] = `filterExpand -ex 1 -sm 32`;\n\tstring $uvGridFaceSel[] = `filterExpand -ex 1 -sm 34`;\n\t\n\tint $sizeUVGridFaceSel = `size $uvGridFaceSel`;\n\tif ($sizeUVGridFaceSel == 0)\n\t{\n\t\tConvertSelectionToFaces;\n\t\tConvertSelectionToShell;\n\t}\n\t$uvGridFaceSel = `filterExpand -ex 1 -sm 34`;\n\t\n\t\n\t//Switch to move tool and reset pivot\n\tMoveTool;\n\tperformResetPivot;\n\t\n\t//Get shape name\n\tstring $getShapeName[] = `ls -o -sl`;\n\n\t//Get U and V pivot location\n\tselect -deselect $uvGridEdgeSel;\n\tfloat $selectionUVPivot[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\tselect -add $uvGridEdgeSel;\n\t\n\t//Update U and V pivot location\n\tselect -deselect $uvGridEdgeSel;\n\t$selectionUVPivot = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\tselect -add $uvGridEdgeSel;\n\t\n\t//Gridify\n\tpolyForceUV -unitize;\n\tConvertSelectionToContainedEdges;\n\tConvertSelectionToEdges;\n\tstring $selectedEdges[] = `ls -sl -fl`;\n\tselect -deselect $uvGridEdgeSel;\n   \tpolyMapSewMove -nf 10 -lps 0 -ch 0;\n\n\t//Check if UVs overlap\n\tselect $uvGridFaceSel;\n\tConvertSelectionToUVs;\n    invertSelection;\n    string $tempBadUVs[] = `ls -sl -fl`;\n\tSelectUVBackFacingComponents;\n\tstring $tempBackFaceUVs[] = `ls -sl -fl`;\n\tSelectUVOverlappingComponents;\n\tselect -add $tempBackFaceUVs;\n\tselect -deselect $tempBadUVs;\n\tstring $overlapFaces[] = `ls -sl -fl`;\n\t$sizeOverlapFaces = `size $overlapFaces`;\n\tif ($sizeOverlapFaces > 0)\n\t{\n\t\tselect $uvGridFaceSel;\n\t\t//Select auto seam edge to cut\n\t\tu3dAutoSeam -s 0 -p 1;\n\t\tselect $uvGridFaceSel;\n\t\t//u3dAutoSeam -s 0 -p 1;\n\t\t//select cut edges\n\t\tSelectEdgeMask;\n\t\tSelectUVBorderComponents;\n\t\tglobal string $m341_gridUVs_autoEdge[];\n\t\t$m341_gridUVs_autoEdge = `filterExpand -ex 1 -sm 32`;\n\t\t\n\t\tSelectMultiComponentMask;\n\t\tselect $uvGridFaceSel;\n\t\tselect -add $m341_gridUVs_autoEdge;\n\t\t\n\t\t//Gridify again\n\t\tpolyForceUV -unitize;\n\t\tConvertSelectionToContainedEdges;\n\t\tConvertSelectionToEdges;\n\t\t$selectedEdges = `ls -sl -fl`;\n\t\tselect -deselect $m341_gridUVs_autoEdge;\n\t\tpolyMapSewMove -nf 10 -lps 0 -ch 0;\n\t}\n\n\tselect $uvGridFaceSel;\n\tConvertSelectionToUVs;\n\t\n\t//Paste texel density\n\tif ($forceTexelDensity == 1)\n\t{\n\t\t//Copy texel density\n\t\tuvTkTexelDensityChangeCB();\n\t\tint $mapSize = `optionVar -q polyUVTexelDensityMapSize`;\n\t\t\n\t\t//Texel density divided by map size to get fast TD trick\n\t\tfloat $texelDensity = $pixPerUnit / $mapSize;\n\t\t\n\t\t//Paste texel density and move back\n\t\tunfold -i 0 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps  0 -oa  0 -useScale on -scale $texelDensity;\n\t}\n\telse\n\t{\n\t\tm341_uvMapper_pasteTexelDensity();\n\t}\n\t\n\t//Move back to original location\n\tperformResetPivot;\n    //Layout tile 0-1\n    u3dLayout -mutations 1 -resolution 512 -translate 1 -shellSpacing 0.05 -tileMargin 0.05 -layoutScaleMode 1 -box 0 1 0 1;\n    performResetPivot;\n\n    //Get U and V pivot location\n    float $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\n    //Calculate distance to move shells\n    float $moveAmountU = $selectionUVPivot[0] - $selectionUVPivot2[0];\n    float $moveAmountV = $selectionUVPivot[1] - $selectionUVPivot2[1];\n    polyEditUV -u $moveAmountU -v $moveAmountV;\n    performResetPivot;\n\n\n\tglobal int $m341_gridUVRotatorSquare;\n\tif ($m341_gridUVRotatorSquare == 0)\n\t{\n\t\t$m341_gridUVRotatorSquare = -90;\n\t}\n\n\telse if ($m341_gridUVRotatorSquare == -90)\n\t{\n\t\t$m341_gridUVRotatorSquare = 0;\n\t}\n\t\n\t//Rotate shell\n\tfloat $uvRotatePivot[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\tpolyEditUV -pu $uvRotatePivot[0] -pv $uvRotatePivot[1] -a $m341_gridUVRotatorSquare -rr 1;\n\t\n\t//Delete history\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\t\n\t//Change select mode to face so you can select something new in the UV editor and press G to repeat\n\tSelectFacetMask;\n\t//SelectMultiComponentMask;\n\tselect $uvGridFaceSel;\n\tselect -add $uvGridEdgeSel;\n\t\n\t//Bring back user tool\n\tsetToolTo $currentToolActive;\n\n\tprint \"Gridify UVs complete\\n\";\n\t\n\tundoInfo -closeChunk;\n}\n\n\n//***********************************************************************************************************************************************************\n//Rectangularize UVs v2.3\n//***********************************************************************************************************************************************************\n\n\n//***********************************************************************************************************************************************************\n//Local UV Settings\n//Set to one if you're using the recUV single script button on the shelf\nglobal int $m341_recUVs_forceTexelDensity;\n$m341_recUVs_forceTexelDensity = 0;\n\n//Change pix per unit to whatever texel density you want the resulting grid of UVs to be hard coded to\nglobal float $m341_recUVs_pixPerUnit;\n$m341_recUVs_pixPerUnit = 5.12;\n\n//Set to one if you want the resulting grid of UVs to keep the texel density from the existing UV shell before gridification and ignore the hard coded texel density from above\nglobal float $m341_recUVs_keepExistingShellTD;\n$m341_recUVs_keepExistingShellTD = 0;\n\n//Set to one if you want the resulting grid of UVs to fill the 0-1 UV space\nglobal float $m341_recUVs_normalizeShell;\n$m341_recUVs_normalizeShell = 0;\n\n//***********************************************************************************************************************************************************\n//Special Global Proc to Find UV Shells\nglobal proc string[] texGetShells()\n{\n\tstring $result[];\n\n\tstring $selectedObjs[] = `ls -o -sl`;\n\tfor ($o in $selectedObjs)\n\t{\n\t\tif(`nodeType $o` != \"mesh\" )\n\t\t\tcontinue;\n\t\tint $activeUVShells[] = `polyEvaluate -aus $o`;\n\t\tfor ($s in $activeUVShells)\n\t\t{\n\t\t\tstring $uvsInShell[] = `polyEvaluate -uis $s $o`;\n\t\t\t$result[size($result)] = stringArrayToString($uvsInShell, \" \");\n\t\t}\n\t}\n\n\treturn $result;\n}\n\n\n//***********************************************************************************************************************************************************\n//Find Shell Border Edges\nglobal proc m341_findBorderEdgesUVShell()\n{\n\t//Store corner points\n\tstring $uvEndPoints[] = `ls -sl -fl`;\n\n\t//Store UV bounding box of two corner points to compare below\n\tfloat $uvBoundingBox_Corner[] = `polyEvaluate -boundingBoxComponent2d`;\n\tfloat $widthCorner_U = $uvBoundingBox_Corner[1] - $uvBoundingBox_Corner[0];\n\tfloat $heightCorner_V = $uvBoundingBox_Corner[3] - $uvBoundingBox_Corner[2];\n\n\t//Select edge path between two points\n\tstring $selectionArray[];\n\t$selectionArray = `ls -sl -fl`;\n\tstring $newArray[];\n\n\ttokenize $selectionArray[0] \"[]\" $newArray;\n\tint $uv1 = $newArray[1];\n\n\ttokenize $selectionArray[1] \"[]\" $newArray;\n\tint $uv2 = $newArray[1];\n\n\tpolySelect -shortestEdgePathUV $uv1 $uv2;\n\tConvertSelectionToUVs;\n\t\n\t//Store all UVs to loop through\n\tselect -deselect $uvEndPoints;\n\tstring $allBorderUVs[] = `ls -sl -fl`;\n\t\n\t//Compare each point in border UVs to see if it's in a line with the end points to get rid of additional edge selected by crappy edge path tool\t\n\tselect $uvEndPoints;\n\tif ($widthCorner_U > $heightCorner_V)\n\t{\n\t\tfor ($item in $allBorderUVs)\n\t\t{\n\t\t\tselect -add $item;\n\t\t\tfloat $uvBoundingBox[] = `polyEvaluate -boundingBoxComponent2d`;\n\t\t\tfloat $widthU = $uvBoundingBox[1] - $uvBoundingBox[0];\n\t\t\tfloat $heightV = $uvBoundingBox[3] - $uvBoundingBox[2];\n\t\t\tif ($heightV == $heightCorner_V)\n\t\t\t{\n\t\t\t\t//Do nothing\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tselect -deselect $item;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ($heightCorner_V > $widthCorner_U)\n\t{\n\t\tfor ($item in $allBorderUVs)\n\t\t{\n\t\t\tselect -add $item;\n\t\t\tfloat $uvBoundingBox[] = `polyEvaluate -boundingBoxComponent2d`;\n\t\t\tfloat $widthU = $uvBoundingBox[1] - $uvBoundingBox[0];\n\t\t\tfloat $heightV = $uvBoundingBox[3] - $uvBoundingBox[2];\n\t\t\tif ($widthU == $widthCorner_U)\n\t\t\t{\n\t\t\t\t//Do nothing\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tselect -deselect $item;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Rectangularize UVs\nglobal proc m341_rectangularizeUVs()\n{\n\tundoInfo -openChunk;\n\n\t//Store current tool\n\tstring $currentToolActive = `currentCtx`;\n\n\t//Error\n\t$originalComponents = `ls -sl`;\n\t$originalComponentsSize = `size $originalComponents`;\n\tif ($originalComponentsSize == 0)\n\t{\n\t\terror \"Nothing selected\\n\";\n\t}\n\t\n\t//Single face selected\n\tstring $faceTest[] = `filterExpand -ex 1 -sm 34`;\n\t$sizeFaceTest = `size $faceTest`;\n\tif ($sizeFaceTest == 1)\n\t{\n\t\terror \"Please select at least two connected faces\\n\";\n\t}\n\t\n\tglobal string $m341_gridUVs_autoEdge[];\n\t$m341_gridUVs_autoEdge = {};\n\t\n\t//Gridify best guess axis\n\tstring $uvGridEdgeSel[] = `filterExpand -ex 1 -sm 32`;\n\tstring $uvGridFaceSel[] = `filterExpand -ex 1 -sm 34`;\n\t\n\tint $sizeUVGridFaceSel = `size $uvGridFaceSel`;\n\tif ($sizeUVGridFaceSel == 0)\n\t{\n\t\tConvertSelectionToFaces;\n\t\tConvertSelectionToShell;\n\t}\n\t$uvGridFaceSel = `filterExpand -ex 1 -sm 34`;\n\t\n\t//Get current texel density for keep shell TD option at start of script\n\tglobal float $m341_recUVs_capturedShellTD;\n\t$m341_recUVs_capturedShellTD = 1;\n\tglobal float $m341_recUVs_keepExistingShellTD;\n    if ($m341_recUVs_keepExistingShellTD == 1)\n\t{\n\t\t//Copy texel density from faces\n\t\tuvTkDoGetTexelDensity;\n\t\t//Query the value of the MTK TD tool\n    \tfloat $mtk_pixPerUnit = `floatField -q -v uvTkTexelDensityField`;\n\t\tint $mtk_mapSize = `optionVar -q polyUVTexelDensityMapSize`;\n\t\t\n\t\t//Texel density divided by map size to get fast TD trick\n\t\tglobal float $m341_recUVs_capturedShellTD;\n\t\t$m341_recUVs_capturedShellTD = $mtk_pixPerUnit / $mtk_mapSize;\n\t}\n\t\n\t//Switch to move tool and reset pivot\n\tMoveTool;\n\tperformResetPivot;\n\t\n\t//Get shape name\n\tstring $getShapeName[] = `ls -o -sl`;\n\n\t//Get U and V pivot location\n\tfloat $selectionUVPivot[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\t\n\n\t//Gridify special\n\tpolyForceUV -unitize;\n\tConvertSelectionToContainedEdges;\n\tConvertSelectionToEdges;\n\tstring $selectedEdges[] = `ls -sl -fl`;\n\tselect -deselect $uvGridEdgeSel;\n\tpolyMapSewMove -nf 10 -lps 0 -ch 0;\n\n\t//Check if UVs overlap\n\tselect $uvGridFaceSel;\n\tConvertSelectionToUVs;\n    invertSelection;\n    string $tempBadUVs[] = `ls -sl -fl`;\n\tSelectUVBackFacingComponents;\n\tstring $tempBackFaceUVs[] = `ls -sl -fl`;\n\tSelectUVOverlappingComponents;\n\tselect -add $tempBackFaceUVs;\n\tselect -deselect $tempBadUVs;\n\tstring $overlapFaces[] = `ls -sl -fl`;\n\t$sizeOverlapFaces = `size $overlapFaces`;\n\tif ($sizeOverlapFaces > 0)\n\t{\n\t\tselect $uvGridFaceSel;\n\t\t//Select auto seam edge to cut\n\t\tu3dAutoSeam -s 0 -p 1;\n\t\tselect $uvGridFaceSel;\n\t\t//u3dAutoSeam -s 0 -p 1;\n\t\t//select cut edges\n\t\tSelectEdgeMask;\n\t\tSelectUVBorderComponents;\n\t\tglobal string $m341_gridUVs_autoEdge[];\n\t\t$m341_gridUVs_autoEdge = `filterExpand -ex 1 -sm 32`;\n\t\t\n\t\tSelectMultiComponentMask;\n\t\tselect $uvGridFaceSel;\n\t\tselect -add $m341_gridUVs_autoEdge;\n\t\t\n\t\t//Gridify again\n\t\tpolyForceUV -unitize;\n\t\tConvertSelectionToContainedEdges;\n\t\tConvertSelectionToEdges;\n\t\t$selectedEdges = `ls -sl -fl`;\n\t\tselect -deselect $m341_gridUVs_autoEdge;\n\t\tpolyMapSewMove -nf 10 -lps 0 -ch 0;\n\t}\n\n    //Store all UVs for shell\n    select $uvGridFaceSel;\n    ConvertSelectionToUVs;\n\tConvertSelectionToUVShell;\n\tstring $allUVs[] = `ls -sl -fl`;\n    ConvertSelectionToShellBorder;\n\tstring $borderUVs[] = `ls -sl -fl`;\n\tselect $allUVs;\n\t//Move shell away from 0 so edge finding works below\n\tpolyEditUV -u 0.1 -v 0.1;\n\t\n\t\n\t//MAGIC HAPPENS HERE\n\t\n\t//Get all edges\n\tConvertSelectionToEdges;\n\tstring $allEdgesTemp[] = `ls -sl -fl`;\n\tselect $allUVs;\n\t\n\t//Get boarder edges\n\tConvertSelectionToEdgePerimeter;\n\tselect -add $uvGridEdgeSel;\n\tglobal string $m341_gridUVs_autoEdge[];\n\tselect -add $m341_gridUVs_autoEdge;\n\tstring $borderEdges[] = `ls -sl -fl`;\n\t\n\t//Get all edges minus other annoying connected shells\n\tselect $allEdgesTemp;\n\tselect -deselect $borderEdges;\n\tstring $allEdges[] = `ls -sl -fl`;\n\t//Get bad edges\n\tInvertSelection;\n\tstring $badEdges[] = `ls -sl -fl`;\n\t\n\n\t//Get UVs to deselect to keep from erroring later in script\n\tselect $allUVs;\n\tInvertSelection;\n\tstring $badUVs[] = `ls -sl -fl`;\n\t\t\n\t//Get 4 corner UVs\n\tselect $allEdges;\n\tConvertSelectionToUVs;\n\tInvertSelection;\n\tselect -deselect $badUVs;\n\tstring $cornerVerts[] = `ls -sl -fl`;\n\t\n\t//Store position for corner UVs\n\tselect $cornerVerts[0];\n\tfloat $uvPoint0[] = `polyEditUV -q`;\n\tselect $cornerVerts[1];\n\tfloat $uvPoint1[] = `polyEditUV -q`;\n\tselect $cornerVerts[2];\n\tfloat $uvPoint2[] = `polyEditUV -q`;\n\tselect $cornerVerts[3];\n\tfloat $uvPoint3[] = `polyEditUV -q`;\n\t\n\t//FIND BORDER EDGE VERTICAL 1\n\t//0 and 1 vertical\n\tif ($uvPoint0[0] == $uvPoint1[0])\n\t{\n\t\tprint \"Found vertical\";\n\t\tselect $cornerVerts[0];\n\t\tselect -add $cornerVerts[1];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeVertical_1[];\n\t\t$m341_borderEdgeVertical_1 = `ls -sl -fl`;\n\t}\n\t\n\t//0 and 2 vertical\n\tif ($uvPoint0[0] == $uvPoint2[0])\n\t{\n\t\tprint \"Found vertical\";\n\t\tselect $cornerVerts[0];\n\t\tselect -add $cornerVerts[2];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeVertical_1[];\n\t\t$m341_borderEdgeVertical_1 = `ls -sl -fl`;\n\t}\n\t\n\t//0 and 3 vertical\n\tif ($uvPoint0[0] == $uvPoint3[0])\n\t{\n\t\tprint \"Found vertical\";\n\t\tselect $cornerVerts[0];\n\t\tselect -add $cornerVerts[3];\n\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeVertical_1[];\n\t\t$m341_borderEdgeVertical_1 = `ls -sl -fl`;\n\t}\n\t\n\t//FIND BORDER EDGE VERTICAL 2\n\t//1 and 2 vertical\n\tif ($uvPoint1[0] == $uvPoint2[0])\n\t{\n\t\tprint \"Found vertical\";\n\t\tselect $cornerVerts[1];\n\t\tselect -add $cornerVerts[2];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeVertical_2[];\n\t\t$m341_borderEdgeVertical_2 = `ls -sl -fl`;\n\t}\n\t\n\t//1 and 3 vertical\n\tif ($uvPoint1[0] == $uvPoint3[0])\n\t{\n\t\tprint \"Found vertical\";\n\t\tselect $cornerVerts[1];\n\t\tselect -add $cornerVerts[3];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeVertical_2[];\n\t\t$m341_borderEdgeVertical_2 = `ls -sl -fl`;\n\t}\n\t\n\t//2 and 3 vertical\n\tif ($uvPoint2[0] == $uvPoint3[0])\n\t{\n\t\tprint \"Found vertical\";\n\t\tselect $cornerVerts[2];\n\t\tselect -add $cornerVerts[3];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeVertical_2[];\n\t\t$m341_borderEdgeVertical_2 = `ls -sl -fl`;\n\t}\n\t\n\t\n\t//FIND BORDER EDGE HORIZONTAL 1\n\t//0 and 1 horizontal\n\tif ($uvPoint0[1] == $uvPoint1[1])\n\t{\n\t\tprint \"Found horizontal\";\n\t\tselect $cornerVerts[0];\n\t\tselect -add $cornerVerts[1];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeHorizontal_1[];\n\t\t$m341_borderEdgeHorizontal_1 = `ls -sl -fl`;\n\t}\n\t\n\t//0 and 2 horizontal\n\tif ($uvPoint0[1] == $uvPoint2[1])\n\t{\n\t\tprint \"Found horizontal\";\n\t\tselect $cornerVerts[0];\n\t\tselect -add $cornerVerts[2];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeHorizontal_1[];\n\t\t$m341_borderEdgeHorizontal_1 = `ls -sl -fl`;\n\t}\n\t\n\t//0 and 3 horizontal\n\tif ($uvPoint0[1] == $uvPoint3[1])\n\t{\n\t\tprint \"Found horizontal\";\n\t\tselect $cornerVerts[0];\n\t\tselect -add $cornerVerts[3];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeHorizontal_1[];\n\t\t$m341_borderEdgeHorizontal_1 = `ls -sl -fl`;\n\t}\n\t\n\t\n\t//FIND BORDER EDGE HORIZONTAL 2\n\t//1 and 2 horizontal\n\tif ($uvPoint1[1] == $uvPoint2[1])\n\t{\n\t\tprint \"Found horizontal\";\n\t\tselect $cornerVerts[1];\n\t\tselect -add $cornerVerts[2];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeHorizontal_2[];\n\t\t$m341_borderEdgeHorizontal_2 = `ls -sl -fl`;\n\t}\n\t\n\t//1 and 3 horizontal\n\tif ($uvPoint1[1] == $uvPoint3[1])\n\t{\n\t\tprint \"Found horizontal\";\n\t\tselect $cornerVerts[1];\n\t\tselect -add $cornerVerts[3];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeHorizontal_2[];\n\t\t$m341_borderEdgeHorizontal_2 = `ls -sl -fl`;\n\t}\n\t\n\t//2 and 3 horizontal\n\tif ($uvPoint2[1] == $uvPoint3[1])\n\t{\n\t\tprint \"Found horizontal\";\n\t\tselect $cornerVerts[2];\n\t\tselect -add $cornerVerts[3];\n\t\t\n\t\tm341_findBorderEdgesUVShell();\n\t\tselect -deselect $badUVs;\n\t\t\n\t\tglobal string $m341_borderEdgeHorizontal_2[];\n\t\t$m341_borderEdgeHorizontal_2 = `ls -sl -fl`;\n\t}\n\t\n\tstring $stripUVs[] = `ls -sl -fl`;\n\t\n\t//Get ring edges\n    ConvertSelectionToEdges;\n   \tselect -deselect $badEdges;\n    string $ringEdges[] = `ls -sl -fl`;\n    //select $ringEdges[0];\n\t//select $borderEdges[0];\n\t//SelectEdgeRingSp;\n\t//select -deselect $badEdges;\n\n\t//Check for strip selection\n\tstring $edgeCounter1[] = `ls -sl -fl`;\n\tint $sizeEdgeCounter1 = `size $edgeCounter1`;\n\tif ($sizeEdgeCounter1 == 0)\n\t{\n\t\tselect $stripUVs;\n        ConvertSelectionToUVShell;\n\t\tselect -deselect $cornerVerts;\n        ConvertSelectionToEdges;\n       \tselect -deselect $badEdges;\n        string $tempEdges[] = `ls -sl -fl`;\n        select $tempEdges[0];\n\t\t//select $borderEdges[0];\n\t}\n\n\t//Store internal edges for straighten\n\tstring $edgesHorizontal[] = `ls -sl -fl`;\n\tselect $edgesHorizontal[0];\n\tConvertSelectionToUVEdgeLoop;\n\n\t\n\t//Figure out if unfold U or V should be used\n\tConvertSelectionToUVs;\n\tselect -deselect $badUVs;\n\tselect -deselect $cornerVerts;\n\t\n\t//Strip fix if no edge selected\n\tint $sizeSelection = size(`ls -sl`);\n\tif ($sizeSelection == 0)\n\t{\n\t    select $stripUVs;\n\t    select -deselect $badUVs;\n    \tselect -deselect $cornerVerts;\n\t}\n\n\tfloat $uvBoundingBox[] = `polyEvaluate -boundingBoxComponent2d`;\n\tfloat $widthU = $uvBoundingBox[1] - $uvBoundingBox[0];\n\tfloat $heightV = $uvBoundingBox[3] - $uvBoundingBox[2];\n\t\n\tif ($sizeSelection == 0)\n\t{\n        ConvertSelectionToEdges;\n        select -deselect $badEdges;\n\t}\n\t\n\t\n\t//Unfold U and V in different orders depending on which way the shell is longer\n\tselect $allUVs;\n\t\n\tfloat $shellBoundingBox[] = `polyEvaluate -boundingBoxComponent2d`;\n\tfloat $shellWidthU = $shellBoundingBox[1] - $shellBoundingBox[0];\n\tfloat $shellHeightV = $shellBoundingBox[3] - $shellBoundingBox[2];\n\t\n\tif ($shellWidthU > $shellHeightV)\n\t{\n\t\tunfold -i 5000 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps 0 -oa 2 -us off;\n\t\tunfold -i 5000 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps 0 -oa 1 -us off;\n\t\t//print \"Width greater\\n\";\n\t}\n\t\tif ($shellHeightV > $shellWidthU)\n\t{\n\t\tunfold -i 5000 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps 0 -oa 1 -us off;\n\t\tunfold -i 5000 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps 0 -oa 2 -us off;\n\t\t//print \"Height greater\\n\";\n\t} \n\t\n\t//Straighten border edges\n\tglobal string $m341_borderEdgeVertical_1[];\n\tselect $m341_borderEdgeVertical_1;\n\talignUV(\"avgU\");\n\t//texStraightenUVs \"V\" 100;\n\tglobal string $m341_borderEdgeVertical_2[];\n\tselect $m341_borderEdgeVertical_2;\n\t//texStraightenUVs \"V\" 100;\n\talignUV(\"avgU\");\n\t\n\tglobal string $m341_borderEdgeHorizontal_1[];\n\tselect $m341_borderEdgeHorizontal_1;\n\t//texStraightenUVs \"U\" 100;\n\talignUV(\"avgV\");\n\tglobal string $m341_borderEdgeHorizontal_2[];\n\tselect $m341_borderEdgeHorizontal_2;\n\t//texStraightenUVs \"U\" 100;\n\talignUV(\"avgV\");\n\t\n\t//select $edgesHorizontal;\n\t\n\t//Straighten internal horizontal edges\n\tint $eCounter = 0;\n\tif ($sizeSelection > 0)\n\t{\n    \tfor ($item in $edgesHorizontal)\n\t    {\n            select $edgesHorizontal[$eCounter];\n\t    \tConvertSelectionToUVEdgeLoop;\n\t    \tselect -deselect $badEdges;\n    \t\tConvertSelectionToUVs;\n\t    \tselect -deselect $badUVs;\n    \t\tselect -deselect $cornerVerts;\n\t    \tif ($widthU > $heightV)\n    \t\t{\n\t\t\t    alignUV(\"avgV\");\n\t\t    }\n\t    \telse\n    \t\t{\n\t\t    \talignUV(\"avgU\");\n\t    \t}\n\t    \t$eCounter = $eCounter + 1;\n    \t}\n\t}\n\n\t\n\t//Get vertical edges internal\n\tselect $edgesHorizontal;\n\tConvertSelectionToUVEdgeLoop;\n\tstring $tempEdges[] = `ls -sl -fl`;\n\tselect $allEdges;\n\tselect -deselect $badEdges;\n\tselect -deselect $tempEdges;\n\t//Check for strip selection\n\t//string $edgeCounter1[] = `ls -sl -fl`;\n\t$edgeCounter1 = `ls -sl -fl`;\n\t$sizeEdgeCounter1 = `size $edgeCounter1`;\n\t//int $sizeEdgeCounter1 = `size $edgeCounter1`;\n\tif ($sizeEdgeCounter1 == 0)\n\t{\n\t\tselect $allEdges[0];\n\t}\n\tstring $internalEdges[] = `ls -sl -fl`;\n\t\n\t//Get size for vertical expansion loop\n\tselect $internalEdges[0];\n\tConvertSelectionToUVEdgeLoop;\n\tselect -deselect $badEdges;\n\t{\n\t\t//Figure out if unfold U or V should be used\n\t\tConvertSelectionToUVs;\n\t\tselect -deselect $badUVs;\n\t\tselect -deselect $cornerVerts;\n\t\tfloat $uvBoundingBox[] = `polyEvaluate -boundingBoxComponent2d`;\n\t\tfloat $widthU = $uvBoundingBox[1] - $uvBoundingBox[0];\n\t\tfloat $heightV = $uvBoundingBox[3] - $uvBoundingBox[2];\n\t\n\t\t//Straighten internal vertical edges\n\t\tselect $internalEdges[0];\n\t\tSelectEdgeRingSp;\n\t\tselect -deselect $badEdges;\n\t\tstring $edgesVertical[] = `ls -sl -fl`;\n\t\n\t    int $evCounter = 0;\n\t\tfor ($item in $edgesVertical)\n\t\t{\n\t\t\tselect $edgesVertical[$evCounter];\n\t\t\tConvertSelectionToUVEdgeLoop;\n\t\t\tselect -deselect $badEdges;\n\t\t\tConvertSelectionToUVs;\n\t\t\tselect -deselect $badUVs;\n\t\t\tselect -deselect $cornerVerts;\n\t\t\tif ($widthU > $heightV)\n\t\t\t{\n\t\t\t\talignUV(\"avgV\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\talignUV(\"avgU\");\n\t\t\t}\n\t\t\t$evCounter = $evCounter + 1;\n\t\t}\n\t}\n\t\n    select $allUVs;\n\n\t//Paste texel density\n\tglobal int $m341_recUVs_forceTexelDensity;\n\tglobal float $m341_recUVs_pixPerUnit;\n\tglobal float $m341_recUVs_keepExistingShellTD;\n\tif ($m341_recUVs_forceTexelDensity == 1)\n\t{\n\t\t//Copy texel density\n\t\tuvTkTexelDensityChangeCB();\n\t\tint $mapSize = `optionVar -q polyUVTexelDensityMapSize`;\n\t\t\n\t\t//Texel density divided by map size to get fast TD trick\n\t\tfloat $texelDensity = $m341_recUVs_pixPerUnit / $mapSize;\n\t\t\n\t\t//Paste texel density and move back\n\t\tunfold -i 0 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps  0 -oa  0 -useScale on -scale $texelDensity;\n\t}\n\t\n\tif ($m341_recUVs_keepExistingShellTD == 1)\n\t{\n\t\tglobal float $m341_recUVs_capturedShellTD;\n        if ($m341_recUVs_capturedShellTD > 0)\n        {\n\t    \t//Paste texel density and move back\n    \t\tunfold -i 0 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps  0 -oa  0 -useScale on -scale $m341_recUVs_capturedShellTD;            \n        }\n\t}\n\t\n\tif ($m341_recUVs_forceTexelDensity == 0)\n\t{\n\t\tm341_uvMapper_pasteTexelDensity();\n\t}\n\n\t//Move back to original location\n\tperformResetPivot;\n    //Layout tile 0-1\n    u3dLayout -mutations 1 -resolution 512 -translate 1 -shellSpacing 0.05 -tileMargin 0.05 -layoutScaleMode 1 -box 0 1 0 1;\n    performResetPivot;\n\n    //Get U and V pivot location\n    float $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\n    //Calculate distance to move shells\n    float $moveAmountU = $selectionUVPivot[0] - $selectionUVPivot2[0];\n    float $moveAmountV = $selectionUVPivot[1] - $selectionUVPivot2[1];\n    polyEditUV -u $moveAmountU -v $moveAmountV;\n    performResetPivot;\n\n    //Normalize shell if option set at top of script\n\tglobal float $m341_recUVs_normalizeShell;\n\tglobal float $m341_recUVs_capturedShellTD;\n    if ($m341_recUVs_normalizeShell == 1 || $m341_recUVs_capturedShellTD == 0)\n    {\n        polyNormalizeUV -normalizeType 1 -preserveAspectRatio on -centerOnTile off -normalizeDirection 0;\n    }\n\n\n\t//Rotate 90 each time the script is run\n\tglobal int $m341_gridUVRotatorRectangular;\n\tif ($m341_gridUVRotatorRectangular == 0)\n\t{\n\t\t$m341_gridUVRotatorRectangular = -90;\n\t}\n\n\telse if ($m341_gridUVRotatorRectangular == -90)\n\t{\n\t\t$m341_gridUVRotatorRectangular = 0;\n\t}\n\tselect $allUVs;\n    float $selectionUVPivot3[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\tpolyEditUV -pu $selectionUVPivot3[0] -pv $selectionUVPivot3[1] -a $m341_gridUVRotatorRectangular -rr 1;\n\n\t//Delete history\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\t\n\t//Change to face mode so pressing G in UV editor works\n\tSelectFacetMask;\n\t//SelectMultiComponentMask;\n\tselect $uvGridFaceSel;\n\tselect -add $uvGridEdgeSel;\n\t\n\t//Bring back user tool\n\tsetToolTo $currentToolActive;\n\tprint \"Rectangularize UVs complete\\n\";\n\n\tundoInfo -closeChunk;\n}\n\n\n//***********************************************************************************************************************************************************\n//Spin Left\nglobal proc m341_uvMapper_spinLeft()\n{\n\tglobal int $m341_uvMapper_uvSpinAmount;\n\tglobal int $m341_uvMapper_uvSpinWholeShell;\n\tglobal int $m341_uvMapper_uvSpinCreateNewShell;\n\t\n\tstring $checkIfObjectModeActive[] = `ls -sl -exactType transform`;\n\tint $sizeCheckIfObjectModeActive = `size $checkIfObjectModeActive`;\n\tif ($sizeCheckIfObjectModeActive > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\tpolyRotateUVs ($m341_uvMapper_uvSpinAmount) 1;\n\t\t//Change select mask to UVs\n\t\tSelectUVMask;\n\t\tprint \"Rotated UVs -90\\n\";\n\t}\n\t\n\telse\n\t{\n\t\tif ($m341_uvMapper_uvSpinWholeShell == 0 && $m341_uvMapper_uvSpinCreateNewShell == 0)\n\t\t{\n\t\t\tpolyRotateUVs ($m341_uvMapper_uvSpinAmount) 1;\n\t\t\tprint \"Rotated UVs -90\\n\";\t\n\t\t}\n\t\t\n\t\tif ($m341_uvMapper_uvSpinWholeShell == 1 || $m341_uvMapper_uvSpinWholeShell == 1 && $m341_uvMapper_uvSpinCreateNewShell == 1)\n\t\t{\n\t\t\t//Select whole shell before spin\n\t\t\tConvertSelectionToUVs;\n\t\t\tConvertSelectionToUVShell;\n\t\t\tpolyRotateUVs ($m341_uvMapper_uvSpinAmount) 1;\n\t\t\tConvertSelectionToFaces;\n\t\t\tprint \"Selected whole shell rotated UVs -90\\n\";\n\t\t}\n\t\t\n\t\tif ($m341_uvMapper_uvSpinWholeShell == 0 && $m341_uvMapper_uvSpinCreateNewShell == 1)\n\t\t{\n\t\t\t//Create new shell before spin\n\t\t\tCreateUVShellAlongBorder;\n\t\t\tstring $selection[] = `ls -sl -fl`;\n\t\t\tpolyRotateUVs ($m341_uvMapper_uvSpinAmount) 1;\n\t\t\t\n\t\t\ttoggleSelMode;\n\t\t\ttoggleSelMode;\n\t\t\tselectMode -object;\n\t\t\tDeleteHistory;\n\t\t\t\n\t\t\tSelectFacetMask;\n\t\t\tselect $selection;\n\t\t\t\n\t\t\tprint \"Created new shell rotated UVs -90\\n\";\n\t\t}\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Spin Right\nglobal proc m341_uvMapper_spinRight()\n{\n\tglobal int $m341_uvMapper_uvSpinAmount;\n\tglobal int $m341_uvMapper_uvSpinWholeShell;\n\tglobal int $m341_uvMapper_uvSpinCreateNewShell;\n\t\n\tstring $checkIfObjectModeActive[] = `ls -sl -exactType transform`;\n\tint $sizeCheckIfObjectModeActive = `size $checkIfObjectModeActive`;\n\tif ($sizeCheckIfObjectModeActive > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\tpolyRotateUVs (\"-\" + $m341_uvMapper_uvSpinAmount) 1;\n\t\t//Change select mask to UVs\n\t\tSelectUVMask;\n\t\tprint \"Rotated UVs +90\\n\";\n\t}\n\t\n\telse\n\t{\n\t\tif ($m341_uvMapper_uvSpinWholeShell == 0 && $m341_uvMapper_uvSpinCreateNewShell == 0)\n\t\t{\n\t\t\tpolyRotateUVs (\"-\" + $m341_uvMapper_uvSpinAmount) 1;\n\t\t\tprint \"Rotated UVs +90\\n\";\t\n\t\t}\n\t\t\n\t\tif ($m341_uvMapper_uvSpinWholeShell == 1 || $m341_uvMapper_uvSpinWholeShell == 1 && $m341_uvMapper_uvSpinCreateNewShell == 1)\n\t\t{\n\t\t\t//Select whole shell before spin\n\t\t\tConvertSelectionToUVs;\n\t\t\tConvertSelectionToUVShell;\n\t\t\tpolyRotateUVs (\"-\" + $m341_uvMapper_uvSpinAmount) 1;\n\t\t\tConvertSelectionToFaces;\n\t\t\tprint \"Selected whole shell rotated UVs +90\\n\";\n\t\t}\n\t\t\n\t\tif ($m341_uvMapper_uvSpinWholeShell == 0 && $m341_uvMapper_uvSpinCreateNewShell == 1)\n\t\t{\n\t\t\t//Create new shell before spin\n\t\t\tCreateUVShellAlongBorder;\n\t\t\tstring $selection[] = `ls -sl -fl`;\n\t\t\tpolyRotateUVs (\"-\" + $m341_uvMapper_uvSpinAmount) 1;\n\t\t\t\n\t\t\ttoggleSelMode;\n\t\t\ttoggleSelMode;\n\t\t\tselectMode -object;\n\t\t\tDeleteHistory;\n\t\t\t\n\t\t\tSelectFacetMask;\n\t\t\tselect $selection;\n\t\t\t\n\t\t\tprint \"Created new shell rotated UVs +90\\n\";\n\t\t}\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Flip U\nglobal proc m341_uvMapper_flipU()\n{\n\t//Switch to move tool if selection tool is active to prevent wrong pivot flip\n\tglobal int $m341_uvMapper_flipUSwitch;\n\t$m341_uvMapper_flipUSwitch = 0;\n\tstring $currentToolActive = `currentCtx`;\n\tif(`gmatch $currentToolActive \"*selectSuperContext*\"`)\n\t{\n\t\tMoveTool;\n\t\tglobal int $m341_uvMapper_flipUSwitch;\n\t\t$m341_uvMapper_flipUSwitch = 1;\n\t}\n\t\n\tstring $checkIfObjectModeActive[] = `ls -sl -exactType transform`;\n\tint $sizeCheckIfObjectModeActive = `size $checkIfObjectModeActive`;\n\tif ($sizeCheckIfObjectModeActive > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Get name of shape to perform flip UVs on\n\t\tstring $getShapeName[] = `ls -o -sl`;\n\t\t//Get U and V pivot location\n\t\t$selectionUVPivot = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\t\t//polyFlipUV -flipType 1 -local on -usePivot true -pivotU $selectionUVPivot[0] -pivotV $selectionUVPivot[1];\n\t\tpolyEditUV -pu $selectionUVPivot[0] -pv $selectionUVPivot[1] -su -1 -sv 1;\n\t\t//Change select mask to UVs\n\t\tSelectUVMask;\n\t\t\n\t\tglobal int $m341_uvMapper_flipUSwitch;\n\t\tif ($m341_uvMapper_flipUSwitch == 1)\n\t\t{\n\t\t\tSelectTool;\n\t\t}\n\t\tprint \"Flipped UVs on U\\n\";\t\n\t}\n\n\telse\n\t{\n\t\t//Get name of shape to perform flip UVs on\n\t\tstring $getShapeName[] = `ls -o -sl`;\n\t\t//Get U and V pivot location\n\t\t$selectionUVPivot = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\t\t//polyFlipUV -flipType 1 -local on -usePivot true -pivotU $selectionUVPivot[0] -pivotV $selectionUVPivot[1];\n\t\tpolyEditUV -pu $selectionUVPivot[0] -pv $selectionUVPivot[1] -su -1 -sv 1;\n\t\t\n\t\tglobal int $m341_uvMapper_flipUSwitch;\n\t\tif ($m341_uvMapper_flipUSwitch == 1)\n\t\t{\n\t\t\tSelectTool;\n\t\t}\n\t\tprint \"Flipped UVs on U\\n\";\t\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Flip V\nglobal proc m341_uvMapper_flipV()\n{\n\t//Switch to move tool if selection tool is active to prevent wrong pivot flip\n\tglobal int $m341_uvMapper_flipVSwitch;\n\t$m341_uvMapper_flipVSwitch = 0;\n\tstring $currentToolActive = `currentCtx`;\n\tif(`gmatch $currentToolActive \"*selectSuperContext*\"`)\n\t{\n\t\tMoveTool;\n\t\tglobal int $m341_uvMapper_flipVSwitch;\n\t\t$m341_uvMapper_flipVSwitch = 1;\n\t}\n\n\tstring $checkIfObjectModeActive[] = `ls -sl -exactType transform`;\n\tint $sizeCheckIfObjectModeActive = `size $checkIfObjectModeActive`;\n\tif ($sizeCheckIfObjectModeActive > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Get name of shape to perform flip UVs on\n\t\tstring $getShapeName[] = `ls -o -sl`;\n\t\t//Get U and V pivot location\n\t\t$selectionUVPivot = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\t\t//polyFlipUV -flipType 1 -local on -usePivot true -pivotU $selectionUVPivot[0] -pivotV $selectionUVPivot[1];\n\t\tpolyEditUV -pu $selectionUVPivot[0] -pv $selectionUVPivot[1] -su 1 -sv -1;\n\t\t//Change select mask to UVs\n\t\tSelectUVMask;\n\t\t\n\t\tglobal int $m341_uvMapper_flipVSwitch;\n\t\tif ($m341_uvMapper_flipVSwitch == 1)\n\t\t{\n\t\t\tSelectTool;\n\t\t}\n\t\tprint \"Flipped UVs on V\\n\";\n\t}\n\t\n\telse\n\t{\n\t\t//Get name of shape to perform flip UVs on\n\t\tstring $getShapeName[] = `ls -o -sl`;\n\t\t//Get U and V pivot location\n\t\t$selectionUVPivot = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\t\t//polyFlipUV -flipType 1 -local on -usePivot true -pivotU $selectionUVPivot[0] -pivotV $selectionUVPivot[1];\n\t\tpolyEditUV -pu $selectionUVPivot[0] -pv $selectionUVPivot[1] -su 1 -sv -1;\n\t\t\n\t\tglobal int $m341_uvMapper_flipVSwitch;\n\t\tif ($m341_uvMapper_flipVSwitch == 1)\n\t\t{\n\t\t\tSelectTool;\n\t\t}\n\t\tprint \"Flipped UVs on V\\n\";\t\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Move UVs Left\nglobal proc m341_uvMapper_moveUVLeft()\n{\n\t//Get name of shape to perform scale UVs on\n\t//string $getShapeName[] = `ls -o -sl`;\n\t//Get U and V pivot location\n\t//$selectionUVPivot = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\n\t//Scale value\n\t//float $ScaleValue = 1;\t\n\t\n\t//if ($ScaleValue => 1)\n\t//{\n\t//\t$ScaleValue = $ScaleValue + 0.5\n\t//\tpolyEditUV -pu $selectionUVPivot[0] -pv $selectionUVPivot[1] -su 2 -sv 2;\n\t//}\n\t\n\t$component_Shell = `selectType -q -meshUVShell`; \n\tint $moveAlignCheckMarkValue = `checkBox -query -value uvMapper_align_CheckBoxName`;\n\t\n\tif ($moveAlignCheckMarkValue == 1)\n\t{\n\t\tif ($component_Shell == 1)\n\t\t{\n\t\t\ttexAlignShells minU {} \"\";\n\t\t\tprint \"Aligned UV shells Left\\n\";\t\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\talignUV minU;\n\t\t\tchangeSelectMode -component;\n\t\t\tprint \"Aligned UVs Left\\n\";\t\n\t\t}\n\t}\n\t\n\telse\n\t{\n\t\tstring $checkIfObjectModeActive[] = `ls -sl -exactType transform`;\n\t\tint $sizeCheckIfObjectModeActive = `size $checkIfObjectModeActive`;\n\t\tif ($sizeCheckIfObjectModeActive > 0)\n\t\t{\n\t\t\tConvertSelectionToUVs;\n\t\t\tConvertSelectionToUVShell;\n\t\t\t$resetUVPivot = `ls -sl`;\n\t\t\t//performPolyNudgeUVs left;\n\t\t\tpolyEditUV -u -1.0 -v 0;\n\t\t\tselect $resetUVPivot;\n\t\t\t//Change select mask to UVs\n\t\t\tSelectUVMask;\n\t\t\tprint \"Moved UVs Left\\n\";\t\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\tConvertSelectionToUVShell;\n\t\t\t$resetUVPivot = `ls -sl`;\n\t\t\t//performPolyNudgeUVs left;\n\t\t\tpolyEditUV -u -1.0 -v 0;\n\t\t\tselect $resetUVPivot;\n\t\t\tprint \"Moved UVs Left\\n\";\t\t\t\n\t\t}\n\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Move UVs Right\nglobal proc m341_uvMapper_moveUVRight()\n{\n\t$component_Shell = `selectType -q -meshUVShell`; \n\tint $moveAlignCheckMarkValue = `checkBox -query -value uvMapper_align_CheckBoxName`;\n\t\n\tif ($moveAlignCheckMarkValue == 1)\n\t{\n\t\tif ($component_Shell == 1)\n\t\t{\n\t\t\ttexAlignShells maxU {} \"\";\n\t\t\tprint \"Aligned UV shells Right\\n\";\t\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\talignUV maxU;\n\t\t\tprint \"Aligned UVs Right\\n\";\t\n\t\t}\n\t}\n\t\n\telse\n\t{\n\t\tstring $checkIfObjectModeActive[] = `ls -sl -exactType transform`;\n\t\tint $sizeCheckIfObjectModeActive = `size $checkIfObjectModeActive`;\n\t\tif ($sizeCheckIfObjectModeActive > 0)\n\t\t{\n\t\t\tConvertSelectionToUVs;\n\t\t\tConvertSelectionToUVShell;\n\t\t\t$resetUVPivot = `ls -sl`;\n\t\t\t//performPolyNudgeUVs right;\n\t\t\tpolyEditUV -u 1 -v 0;\n\t\t\tselect $resetUVPivot;\n\t\t\t//Change select mask to UVs\n\t\t\tSelectUVMask;\n\t\t\tprint \"Moved UVs Right\\n\";\t\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\tConvertSelectionToUVShell;\n\t\t\t$resetUVPivot = `ls -sl`;\n\t\t\t//performPolyNudgeUVs right;\n\t\t\tpolyEditUV -u 1 -v 0;\n\t\t\tselect $resetUVPivot;\n\t\t\tprint \"Moved UVs Right\\n\";\t\t\t\n\t\t}\n\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Move UVs Up\nglobal proc m341_uvMapper_moveUVUp()\n{\n\t$component_Shell = `selectType -q -meshUVShell`; \n\tint $moveAlignCheckMarkValue = `checkBox -query -value uvMapper_align_CheckBoxName`;\n\t\n\tif ($moveAlignCheckMarkValue == 1)\n\t{\n\t\tif ($component_Shell == 1)\n\t\t{\n\t\t\ttexAlignShells maxV {} \"\";\n\t\t\tprint \"Aligned UV shells Up\\n\";\t\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\talignUV maxV;\n\t\t\tprint \"Aligned UVs Up\\n\";\t\n\t\t}\n\t}\n\t\n\telse\n\t{\n\t\tstring $checkIfObjectModeActive[] = `ls -sl -exactType transform`;\n\t\tint $sizeCheckIfObjectModeActive = `size $checkIfObjectModeActive`;\n\t\tif ($sizeCheckIfObjectModeActive > 0)\n\t\t{\n\t\t\tConvertSelectionToUVs;\n\t\t\tConvertSelectionToUVShell;\n\t\t\t$resetUVPivot = `ls -sl`;\n\t\t\t//performPolyNudgeUVs up;\n\t\t\tpolyEditUV -u 0 -v 1;\n\t\t\tselect $resetUVPivot;\n\t\t\t//Change select mask to UVs\n\t\t\tSelectUVMask;\n\t\t\tprint \"Moved UVs Up\\n\";\t\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tConvertSelectionToUVShell;\n\t\t\t$resetUVPivot = `ls -sl`;\n\t\t\t//performPolyNudgeUVs up;\n\t\t\tpolyEditUV -u 0 -v 1;\n\t\t\tselect $resetUVPivot;\n\t\t\tprint \"Moved UVs Up\\n\";\t\t\t\n\t\t}\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Move UVs Down\nglobal proc m341_uvMapper_moveUVDown()\n{\n\t$component_Shell = `selectType -q -meshUVShell`; \n\tint $moveAlignCheckMarkValue = `checkBox -query -value uvMapper_align_CheckBoxName`;\n\t\n\tif ($moveAlignCheckMarkValue == 1)\n\t{\n\t\tif ($component_Shell == 1)\n\t\t{\n\t\t\ttexAlignShells minV {} \"\";\n\t\t\tprint \"Aligned UV shells Down\\n\";\t\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\talignUV minV;\n\t\t\tprint \"Aligned UVs Down\\n\";\t\n\t\t}\n\t}\n\t\n\telse\n\t{\n\t\tstring $checkIfObjectModeActive[] = `ls -sl -exactType transform`;\n\t\tint $sizeCheckIfObjectModeActive = `size $checkIfObjectModeActive`;\n\t\tif ($sizeCheckIfObjectModeActive > 0)\n\t\t{\n\t\t\tConvertSelectionToUVs;\n\t\t\tConvertSelectionToUVShell;\n\t\t\t$resetUVPivot = `ls -sl`;\n\t\t\t//performPolyNudgeUVs down;\n\t\t\tpolyEditUV -u 0 -v -1;\n\t\t\tselect $resetUVPivot;\n\t\t\t//Change select mask to UVs\n\t\t\tSelectUVMask;\n\t\t\tprint \"Moved UVs Down\\n\";\t\n\t\t}\n\t\t\n\t\telse\n\t\t{\n\t\t\tConvertSelectionToUVShell;\n\t\t\t$resetUVPivot = `ls -sl`;\n\t\t\t//performPolyNudgeUVs down;\n\t\t\tpolyEditUV -u 0 -v -1;\n\t\t\tselect $resetUVPivot;\n\t\t\tprint \"Moved UVs Down\\n\";\t\t\t\n\t\t}\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Unfold UVs U and V\nglobal proc m341_uvMapper_unfoldUVs()\n{  \n\tint $unfoldOrientCheckMarkValue = `checkBox -query -value uvMapper_orient_CheckBoxName`;\n\tif ($unfoldOrientCheckMarkValue == 1)\n\t{\n\t\t//Convert to UVs first so orient works\n\t\tConvertSelectionToUVs;\n\t\t\n\t\t//Unfold UVs special with orient to longest edge\n\t\t//Unfold selection\n\t\t$maUVMapperSelectedUVs = `ls -sl`;\n\t\tu3dUnfold -ite 1 -p 0 -bi 1 -tf 1 -ms 2048 -rs 8;\n\t\n\t\t//Convert to UV shells and loop through them one at a time\n\t\tConvertSelectionToUVShell;\n\t\t$shellUVs = `ls -sl`;\n\t\t$findShells = texGetShells();\n\t\t$numbShells = `size $findShells`;\n\t\t$shellIndex = 0;\n\t\n\t\tfor ($Item = 0; $Item < $numbShells; ++$Item)\n\t\t{\n\t\t\tselect $shellUVs;\n\t\t\t$findShells = `texGetShells`;\n\t\t\ttokenize($findShells[$shellIndex], $findShells);\n\t\t\t// [\"xx.map[0] xx.map[1]\",] -> [\"xx.map[0]\",\"xx.map[1]\"]\n\t\t\tselect $findShells;\n\t\t\t\n\t\t\t//Find longest edge and then orient shell to it\t\n\t\t\tConvertSelectionToEdges;\n\t\t\tstring $selectedEdges[] = `ls -fl  -sl`;\n\t\t\n\t\t\t//Store number of edges and set counter to zero\n\t\t\tint $edgeNumber = 0;\n\t\t\tfloat $highValue = 0;\n\t\t\tfloat $distance = 0;\n\t\t\t$sizeSelectedEdges = `size $selectedEdges`;\n\t\n\t\t\tfor ($Edges = 0; $Edges < $sizeSelectedEdges; ++$Edges)\n\t\t\t{\n\t\t\t\tglobal string $m341_finalEdge[];\n\t\t\t\n\t\t\t\t//Select first edge in array\n\t\t\t\tselect $selectedEdges[$edgeNumber];\n\t\t\n\t\t\t\t//Convert to verts and store in array\n\t\t\t\tConvertSelectionToVertices;\n\t\t\t\tstring $selectedVerts[] = `ls -fl -sl`;\n\t\t\n\t\t\t\t//Select first vert in array\n\t\t\t\tselect $selectedVerts[0];\n\t\t\n\t\t\t\t//Get XYZ of first vert\n\t\t\t\tfloat $vtx1[] = `xform -q -ws -t `;\n\t\t\n\t\t\t\t//Select second vert\n\t\t\t\tselect $selectedVerts[1];\n\t\t\t\n\t\t\t\t//Get XYZ of second vert\n\t\t\t\tfloat $vtx2[] = `xform -q -ws -t `;\n\t\t\t\n\t\t\t\tfloat $distance = sqrt( pow(($vtx2[0] - $vtx1[0]) , 2) + pow(($vtx2[1] - $vtx1[1]) , 2) + pow(($vtx2[2] - $vtx1[2]) , 2));\n\t\t\n\t\t\t\n\t\t\t\t//Check to see if distance greater than current high value\n\t\t\t\tif ($distance >= $highValue)\n\t\t\t\t{\n\t\t\t\t\tselect $selectedEdges[$edgeNumber];\n\t\t\t\t\t//Store final edge\n\t\t\t\t\t$m341_finalEdge = `ls -sl`;\n\t\t\t\n\t\t\t\t\t//Update high value if distance is longer than high value\n\t\t\t\t\t$highValue = $distance;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Add one to edge number for next loop to select next edge in array\n\t\t\t\t$edgeNumber = $edgeNumber + 1;\n\t\t\t\tselect $m341_finalEdge;\n\t\t\t}\n\t\t\t\n\t\t\t//Orient shells and one to shell index for next loop to select next shell in array\n\t\t\ttexOrientEdge;\t\n\t\t\t$shellIndex = $shellIndex + 1;\n\t\t}\n\n\t\t//Delete history select original user selection and print success\t\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\tm341_uvMapper_deleteHistory();\n\t\tConvertSelectionToUVs;\n\t\t\n\t\t//Change select mode to UV mask\n\t\tSelectUVMask;\n\t\t\n\t\tselect $maUVMapperSelectedUVs;\n\t\tprint \"Unfold UV and orient shells to edges complete\\n\";\n\t}\n\t\n\telse\n\t{\n\t\t//Unfold UVs regular\n\t\t//If transform selected convert to UVs first\n\t\tstring $xformSelected[] = `ls -sl -exactType transform`;\n\t\tint $sizeXformSelected = `size $xformSelected`;\n\t\tif ($sizeXformSelected > 0)\n\t\t{\n\t\t\tConvertSelectionToUVs;\n\t\t\t//Change select mode to UV mask\n\t\t\tSelectUVMask;\n\t\t}\n\n\t\t//Query what component mode the user is in\n\t\tint $component_Face = `selectType -q -facet`;\n\t\tint $component_Shell = `selectType -q -meshUVShell`;\n\t\tint $component_Vert = `selectType -q -vertex`;\n\t\tint $component_Edge = `selectType -q -edge`;\n\t\tint $component_UV = `selectType -q -polymeshUV`;\n\t\tint $component_Multi = `selectType -q -meshComponents`;\n\t\n\t\t$maUVMapperSelectedUVs = `ls -sl`;\n\t\tu3dUnfold -ite 1 -p 0 -bi 1 -tf 1 -ms 2048 -rs 8;\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\tm341_uvMapper_deleteHistory();\n\t\tConvertSelectionToUVs;\n\t\t\n\t\t//Bring back original component mode user was in\n\t\tif ($component_Face > 0)\n\t\t{\n\t\t\tSelectFacetMask;\n\t\t}\n\t\t\n\t\tif ($component_Shell > 0)\n\t\t{\n\t\t\tSelectMeshUVShell;\n\t\t}\n\t\t\t\n\t\tif ($component_Vert > 0)\n\t\t{\n\t\t\tSelectVertexMask;\n\t\t}\n\t\t\n\t\tif ($component_Edge > 0)\n\t\t{\n\t\t\tSelectEdgeMask;\n\t\t}\n\t\t\n\t\tif ($component_UV > 0)\n\t\t{\n\t\t\tSelectUVMask;\n\t\t}\n\t\tif ($component_Multi > 0)\n\t\t{\n\t\t\tSelectUVMask;\n\t\t}\n\t\t\t\n\t\tselect $maUVMapperSelectedUVs;\n\t\tprint \"Unfold UV complete\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Unfold UVs U\nglobal proc m341_uvMapper_unfoldU()\n{  \n\t//Unfold U\n\t//If transform selected convert to UVs first\n\tstring $xformSelected[] = `ls -sl -exactType transform`;\n\tint $sizeXformSelected = `size $xformSelected`;\n\tif ($sizeXformSelected > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Change select mode to UV mask\n\t\tSelectUVMask;\n\t}\n\n\t//Query what component mode the user is in\n\t$component_Face = `selectType -q -facet`;\n\t$component_Shell = `selectType -q -meshUVShell`;\n\t$component_Vert = `selectType -q -vertex`;\n\t$component_Edge = `selectType -q -edge`;\n\t$component_UV = `selectType -q -polymeshUV`;\n\t$component_Multi = `selectType -q -meshComponents`;\n\t\n\t$maUVMapperSelectedUVs = `ls -sl`;\n\tConvertSelectionToUVs;\n\tunfold -i 5000 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps 0 -oa 2 -us off;\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tm341_uvMapper_deleteHistory();\n\tConvertSelectionToUVs;\n\t\n\t//Bring back original component mode user was in\n\tif ($component_Face > 0)\n\t{\n\t\tSelectFacetMask;\n\t}\n\t\n\tif ($component_Shell > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\n\t\t\n\tif ($component_Vert > 0)\n\t{\n\t\tSelectVertexMask;\n\t}\n\t\n\tif ($component_Edge > 0)\n\t{\n\t\tSelectEdgeMask;\n\t}\n\t\n\tif ($component_UV > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\tif ($component_Multi > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\t\t\n\tselect $maUVMapperSelectedUVs;\n\tprint \"Unfold U complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Unfold UVs V\nglobal proc m341_uvMapper_unfoldV()\n{  \n\t//Unfold V\n\t//If transform selected convert to UVs first\n\tstring $xformSelected[] = `ls -sl -exactType transform`;\n\tint $sizeXformSelected = `size $xformSelected`;\n\tif ($sizeXformSelected > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Change select mode to UV mask\n\t\tSelectUVMask;\n\t}\n\n\t//Query what component mode the user is in\n\t$component_Face = `selectType -q -facet`;\n\t$component_Shell = `selectType -q -meshUVShell`;\n\t$component_Vert = `selectType -q -vertex`;\n\t$component_Edge = `selectType -q -edge`;\n\t$component_UV = `selectType -q -polymeshUV`;\n\t$component_Multi = `selectType -q -meshComponents`;\n\t\n\t$maUVMapperSelectedUVs = `ls -sl`;\n\tConvertSelectionToUVs;\n\tunfold -i 5000 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps 0 -oa 1 -us off;\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tm341_uvMapper_deleteHistory();\n\tConvertSelectionToUVs;\n\t\n\t//Bring back original component mode user was in\n\tif ($component_Face > 0)\n\t{\n\t\tSelectFacetMask;\n\t}\n\t\n\tif ($component_Shell > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\n\t\t\n\tif ($component_Vert > 0)\n\t{\n\t\tSelectVertexMask;\n\t}\n\t\n\tif ($component_Edge > 0)\n\t{\n\t\tSelectEdgeMask;\n\t}\n\t\n\tif ($component_UV > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\tif ($component_Multi > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\t\n\tselect $maUVMapperSelectedUVs;\n\tprint \"Unfold V complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Straighten UV angle 30\nglobal proc m341_uvMapper_straightenUV()\n{\n\t//If transform selected convert to UVs first\n\tstring $xformSelected[] = `ls -sl -exactType transform`;\n\tint $sizeXformSelected = `size $xformSelected`;\n\tif ($sizeXformSelected > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Change select mode to UV mask\n\t\tSelectUVMask;\n\t}\n\n\t//Query what component mode the user is in\n\t$component_Face = `selectType -q -facet`;\n\t$component_Shell = `selectType -q -meshUVShell`;\n\t$component_Vert = `selectType -q -vertex`;\n\t$component_Edge = `selectType -q -edge`;\n\t$component_UV = `selectType -q -polymeshUV`;\n\t$component_Multi = `selectType -q -meshComponents`;\n\n\t$maUVMapperSelectedUVs = `ls -sl`;\n\ttexStraightenUVs \"UV\" 30;\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tm341_uvMapper_deleteHistory();\n\tConvertSelectionToUVs;\n\t\n\t//Bring back original component mode user was in\n\tif ($component_Face > 0)\n\t{\n\t\tSelectFacetMask;\n\t}\n\t\n\tif ($component_Shell > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\n\t\t\n\tif ($component_Vert > 0)\n\t{\n\t\tSelectVertexMask;\n\t}\n\t\n\tif ($component_Edge > 0)\n\t{\n\t\tSelectEdgeMask;\n\t}\n\t\n\tif ($component_UV > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\tif ($component_Multi > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\t\t\n\tselect $maUVMapperSelectedUVs;\n\tprint \"Straighten UV complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Straighten UV shell\nglobal proc m341_uvMapper_straightenShell()\n{\n\tstring $UVs[] = `filterExpand -expand true -sm 35`;\n\tint $sizeUVs = `size $UVs`;\n\t\n\t$maUVMapperSelectedEdges = `ls -sl`;\n\ttexStraightenShell;\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tm341_uvMapper_deleteHistory();\n\tConvertSelectionToEdges;\n\tSelectEdgeMask;\n\tif ($sizeUVs > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\t\n\tselect $maUVMapperSelectedEdges;\n\tprint(\"Straighten UV shell complete\\n\");\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Straighten U angle 30\nglobal proc m341_uvMapper_straightenU()\n{  \n\t//If transform selected convert to UVs first\n\tstring $xformSelected[] = `ls -sl -exactType transform`;\n\tint $sizeXformSelected = `size $xformSelected`;\n\tif ($sizeXformSelected > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Change select mode to UV mask\n\t\tSelectUVMask;\n\t}\n\n\t//Query what component mode the user is in\n\t$component_Face = `selectType -q -facet`;\n\t$component_Shell = `selectType -q -meshUVShell`;\n\t$component_Vert = `selectType -q -vertex`;\n\t$component_Edge = `selectType -q -edge`;\n\t$component_UV = `selectType -q -polymeshUV`;\n\t$component_Multi = `selectType -q -meshComponents`;\n\n\t$maUVMapperSelectedUVs = `ls -sl`;\n\ttexStraightenUVs \"U\" 30;\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tm341_uvMapper_deleteHistory();\n\tConvertSelectionToUVs;\n\n\t//Bring back original component mode user was in\n\tif ($component_Face > 0)\n\t{\n\t\tSelectFacetMask;\n\t}\n\t\n\tif ($component_Shell > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\n\t\t\n\tif ($component_Vert > 0)\n\t{\n\t\tSelectVertexMask;\n\t}\n\t\n\tif ($component_Edge > 0)\n\t{\n\t\tSelectEdgeMask;\n\t}\n\t\n\tif ($component_UV > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\tif ($component_Multi > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\t\n\tselect $maUVMapperSelectedUVs;\n\tprint \"Straighten U complete\\n\";\n}\n\n\n//***********************************************************************************************************************************************************\n//Straighten V angle 30\nglobal proc m341_uvMapper_straightenV()\n{  \n\t//If transform selected convert to UVs first\n\tstring $xformSelected[] = `ls -sl -exactType transform`;\n\tint $sizeXformSelected = `size $xformSelected`;\n\tif ($sizeXformSelected > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Change select mode to UV mask\n\t\tSelectUVMask;\n\t}\n\n\t//Query what component mode the user is in\n\t$component_Face = `selectType -q -facet`;\n\t$component_Shell = `selectType -q -meshUVShell`;\n\t$component_Vert = `selectType -q -vertex`;\n\t$component_Edge = `selectType -q -edge`;\n\t$component_UV = `selectType -q -polymeshUV`;\n\t$component_Multi = `selectType -q -meshComponents`;\n\n\t$maUVMapperSelectedUVs = `ls -sl`;\n\ttexStraightenUVs \"V\" 30;\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tm341_uvMapper_deleteHistory();\n\tConvertSelectionToUVs;\n\t\n\t//Bring back original component mode user was in\n\tif ($component_Face > 0)\n\t{\n\t\tSelectFacetMask;\n\t}\n\t\n\tif ($component_Shell > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\n\t\t\n\tif ($component_Vert > 0)\n\t{\n\t\tSelectVertexMask;\n\t}\n\t\n\tif ($component_Edge > 0)\n\t{\n\t\tSelectEdgeMask;\n\t}\n\t\n\tif ($component_UV > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\tif ($component_Multi > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\t\n\tselect $maUVMapperSelectedUVs;\n\tprint \"Straighten V complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Orient shells to edges\nglobal proc m341_uvMapper_orientShells()\n{  \n\tstring $UVs[] = `filterExpand -expand true -sm 35`;\n\tint $sizeUVs = `size $UVs`;\n\n\t$edges = `ls -sl -fl`;\n\ttexOrientEdge;\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\tConvertSelectionToEdges;\n\tSelectEdgeMask;\n\tif ($sizeUVs > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\t\n\tselect $edges;\n\tprint \"Orient shells to edges complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Orient X\nglobal proc m341_uvMapper_orientX()\n{\n\tglobal int $m341_uvMapper_orientToggleX;\n\t\n\t//Get U and V pivot location\n\tConvertSelectionToUVShell;\n\tperformResetPivot;\n\tstring $getShapeName[] = `ls -o -sl`;\n\tfloat $selectionUVPivot1[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Orient Y\n\tu3dLayout -res 64 -rot 3 -trs 1 -spc 0.0078125 -mar 0.00390625 -box 0 1 0 1 -ls 1;\n\t\n\t//Get new pivot location\n\tperformResetPivot;\n\tfloat $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Calculate distance to move shells\n\tfloat $moveAmountU = $selectionUVPivot1[0] - $selectionUVPivot2[0];\n\tfloat $moveAmountV = $selectionUVPivot1[1] - $selectionUVPivot2[1];\n\t//Move to center\n\tpolyEditUV -u $moveAmountU -v $moveAmountV;\n\tperformResetPivot;\n\t\n\tif ($m341_uvMapper_orientToggleX == 1)\n\t{\n\t\tm341_uvMapper_flipU();\n\t\tm341_uvMapper_flipV();\n\t}\t\t\n\n\t$m341_uvMapper_orientToggleX = !$m341_uvMapper_orientToggleX;\n\tprint \"Orient X complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Orient Y\nglobal proc m341_uvMapper_orientY()\n{\n\tglobal int $m341_uvMapper_orientToggleY;\n\n\n\t//Get U and V pivot location\n\tConvertSelectionToUVShell;\n\tperformResetPivot;\n\tstring $getShapeName[] = `ls -o -sl`;\n\tfloat $selectionUVPivot1[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Orient Y\n\tu3dLayout -res 64 -rot 4 -trs 1 -spc 0.0078125 -mar 0.00390625 -box 0 1 0 1 -ls 1;\n\t\n\t//Get new pivot location\n\tperformResetPivot;\n\tfloat $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Calculate distance to move shells\n\tfloat $moveAmountU = $selectionUVPivot1[0] - $selectionUVPivot2[0];\n\tfloat $moveAmountV = $selectionUVPivot1[1] - $selectionUVPivot2[1];\n\t//Move to center\n\tpolyEditUV -u $moveAmountU -v $moveAmountV;\n\tperformResetPivot;\n\t\n\tif ($m341_uvMapper_orientToggleY == 1)\n\t{\n\t\tm341_uvMapper_flipU();\n\t\tm341_uvMapper_flipV();\n\t}\t\t\n\n\t$m341_uvMapper_orientToggleY = !$m341_uvMapper_orientToggleY;\n\tprint \"Orient Y complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Orient Z\nglobal proc m341_uvMapper_orientZ()\n{\n\tglobal int $m341_uvMapper_orientToggleZ;\n\n\t//Get U and V pivot location\n\tConvertSelectionToUVShell;\n\tperformResetPivot;\n\tstring $getShapeName[] = `ls -o -sl`;\n\tfloat $selectionUVPivot1[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Orient Y\n\tu3dLayout -res 64 -rot 5 -trs 1 -spc 0.0078125 -mar 0.00390625 -box 0 1 0 1 -ls 1;\n\t\n\t//Get new pivot location\n\tperformResetPivot;\n\tfloat $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Calculate distance to move shells\n\tfloat $moveAmountU = $selectionUVPivot1[0] - $selectionUVPivot2[0];\n\tfloat $moveAmountV = $selectionUVPivot1[1] - $selectionUVPivot2[1];\n\t//Move to center\n\tpolyEditUV -u $moveAmountU -v $moveAmountV;\n\tperformResetPivot;\n\t\n\tif ($m341_uvMapper_orientToggleZ == 1)\n\t{\n\t\tm341_uvMapper_flipU();\n\t\tm341_uvMapper_flipV();\n\t}\t\t\n\n\t$m341_uvMapper_orientToggleZ = !$m341_uvMapper_orientToggleZ;\n\tprint \"Orient Z complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Orient H\nglobal proc m341_uvMapper_orientH()\n{\n\tglobal int $m341_uvMapper_orientToggleH;\n\n\t//Get U and V pivot location\n\tConvertSelectionToUVShell;\n\tperformResetPivot;\n\tstring $getShapeName[] = `ls -o -sl`;\n\tfloat $selectionUVPivot1[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Orient H\n\tu3dLayout -res 64 -rot 1 -trs 1 -spc 0.0078125 -mar 0.00390625 -box 0 1 0 1 -ls 1;\n\t\t\n\t//Get new pivot location\n\tperformResetPivot;\n\tfloat $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Calculate distance to move shells\n\tfloat $moveAmountU = $selectionUVPivot1[0] - $selectionUVPivot2[0];\n\tfloat $moveAmountV = $selectionUVPivot1[1] - $selectionUVPivot2[1];\n\t//Move to center\n\tpolyEditUV -u $moveAmountU -v $moveAmountV;\n\tperformResetPivot;\n\t\n\tif ($m341_uvMapper_orientToggleH == 1)\n\t{\n\t\tm341_uvMapper_flipU();\n\t\tm341_uvMapper_flipV();\n\t}\t\t\n\n\t$m341_uvMapper_orientToggleH = !$m341_uvMapper_orientToggleH;\n\tprint \"Orient H complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Orient V\nglobal proc m341_uvMapper_orientV()\n{\n\tglobal int $m341_uvMapper_orientToggleV;\n\n\t//Get U and V pivot location\n\tConvertSelectionToUVShell;\n\tperformResetPivot;\n\tstring $getShapeName[] = `ls -o -sl`;\n\tfloat $selectionUVPivot1[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Orient V\n\tu3dLayout -res 64 -rot 2 -trs 1 -spc 0.0078125 -mar 0.00390625 -box 0 1 0 1 -ls 1;\n\t\n\t//Get new pivot location\n\tperformResetPivot;\n\tfloat $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\t\n\t\n\t//Calculate distance to move shells\n\tfloat $moveAmountU = $selectionUVPivot1[0] - $selectionUVPivot2[0];\n\tfloat $moveAmountV = $selectionUVPivot1[1] - $selectionUVPivot2[1];\n\t//Move to center\n\tpolyEditUV -u $moveAmountU -v $moveAmountV;\n\tperformResetPivot;\n\t\n\tif ($m341_uvMapper_orientToggleV == 1)\n\t{\n\t\tm341_uvMapper_flipU();\n\t\tm341_uvMapper_flipV();\n\t}\t\t\n\n\t$m341_uvMapper_orientToggleV = !$m341_uvMapper_orientToggleV;\n\tprint \"Orient V complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Stack shells\nglobal proc m341_uvMapper_stackShells()\n{  \n\t//If transform selected convert to UVs first\n\tstring $xformSelected[] = `ls -sl -exactType transform`;\n\tint $sizeXformSelected = `size $xformSelected`;\n\tif ($sizeXformSelected > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Change select mode to UV mask\n\t\tSelectUVMask;\n\t}\n\n\ttexStackShells({});\n\tprint \"Stack shells complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Measure\nglobal proc m341_uvMapper_measure()\n{  \n\tstring $selection[] = `ls -sl -fl`;\n\tint $selectionSize = `size $selection`;\n\n\tif ($selectionSize == 0)\n\t{\n\t\t//Measure tool nothing selected window open\n\t\tif (`window -exists windowCalculatePixelDistance`)\n\t\t{\n\t\t\tdeleteUI windowCalculatePixelDistance;\n\t\t\tprint \"Measure tool closed\\n\";\n\t\t}\n\t\t\n\t\t//Measure tool nothing selected window closed\n\t\telse\n\t\t{\n\t\t\tstring $deleteTempPlane[] = `polyPlane -w 1 -h 1 -sx 1 -sy 1 -ax 0 1 0 -cuv 2 -ch 0`;\n\t\t\ttexCalculatePixelDistance;\n\t\t\tdelete $deleteTempPlane;\n\t\t\tprint \"Measure tool opened\\n\";\t\t\n\t\t}\n\t}\n\n\tif ($selectionSize > 0)\n\t{\n\t\tstring $selection[] = `ls -sl`;\n\t\tstring $shapeName[] = `listRelatives -s $selection[0]`;\n\t\tint $shapeNameSize = `size $shapeName`;\n\t\n\t\t//Measure tool object selected\n\t\tif ($shapeNameSize > 0)\n\t\t{\n\t\t\ttexCalculatePixelDistance;\n\t\t\tConvertSelectionToUVs;\n\t\t\tSelectUVMask;\n\t\t\ttexCalculatePixelDistance;\n\t\t\tprint \"Measure tool opened\\n\";\n\t\t}\n\t\t\n\t\t//Measure tool UVs selected\n\t\telse\n\t\t{\n\t\t\ttexCalculatePixelDistance;\n\t\t\tprint \"Measure tool opened\\n\";\n\t\t}\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Group Shells Window\nglobal proc m341_uvMapper_launchUVGrouperInterface()\n{\n\tglobal string $m341_uvMapper_uvGrouperVersion;\n\t$m341_uvMapper_uvGrouperVersion = \"uvGrouper v1.1\";\n\n\t//Colours\n\tfloat $r[] = {0.698, 0.259, 0.263};\n\tfloat $g[] = {0.282, 0.675, 0.282};\n\tfloat $b[] = {0.145, 0.463, 0.737};\n\tfloat $grey[] = {0.51, 0.51, 0.51};\n\tfloat $red[] = {0.70, 0.39, 0.34};\n\tfloat $orange[] = {0.772, 0.521, 0.302};\n\tfloat $yellow[] = {0.72, 0.68, 0.39};\n\tfloat $green[] = {0.34, 0.59, 0.47};\n\tfloat $greenYellow[] = {0.50, 0.67, 0.37};\n\tfloat $blue[] = {0.32, 0.59, 0.72};\n\tfloat $seafoam[] = {0.427, 0.643, 0.643};\n\tfloat $purple[] = {0.596, 0.529, 0.769};\n\tfloat $purpleDrank[] = {0.451, 0.529, 0.78};\n\n\tif (`window -exists m341_uvMapper_uvGrouper_toolboxName`)\n\t{\n\t\tdeleteUI m341_uvMapper_uvGrouper_toolboxName;\n\t}\n\t\n\t\n\t//If on top checkbox is on attach uvGrouper to UV Editor\n\tglobal int $m341_uvMapper_uvGrouper_yes_textureEditor;\n\t$m341_uvMapper_uvGrouper_yes_textureEditor = `optionVar -q \"m341_uvMapper_uvGrouper_loadWithUVEditorCheckBox_VarName\"`;\n\t\n\tif ($m341_uvMapper_uvGrouper_yes_textureEditor == 1)\n\t{\n\t\t//Yes texture editor\n\t\twindow -parent \"polyTexturePlacementPanel1Window\" -title $m341_uvMapper_uvGrouperVersion -toolbox true -sizeable true -resizeToFitChildren true m341_uvMapper_uvGrouper_toolboxName;\n\t}\n\t\n\telse\n\t{\n\t\t//No texture editor\n\t\twindow -title $m341_uvMapper_uvGrouperVersion -toolbox true -sizeable true -resizeToFitChildren true m341_uvMapper_uvGrouper_toolboxName;\n\t}\n\t\n\t\n\tcolumnLayout -adjustableColumn true;\n\ttext -label \"by Malcolm341\";\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-labelOffset 30\n\t\t-label \"click for help\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 124\n\t\t-height 15\n\t\t-command \"m341_uvMapper_uvGrouper_help;\";\n\t\t\n\t\n\t//Save preferences on top of UV editor checkbox\n\tint $uvMapper_uvGrouper_loadWithUVEditor_checkBoxValue;\n\tglobal int $m341_uvMapper_uvGrouper_loadWithUVEditor_userInput;\n\tstring $uvMapper_uvGrouper_loadWithUVEditor_OptionVar = `optionVar -exists \"m341_uvMapper_uvGrouper_loadWithUVEditorCheckBox_VarName\"`;\n\tif ($uvMapper_uvGrouper_loadWithUVEditor_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_uvGrouper_loadWithUVEditorCheckBox_VarName\" 1;\n\t\t$uvMapper_uvGrouper_loadWithUVEditor_checkBoxValue = `optionVar -q \"m341_uvMapper_uvGrouper_loadWithUVEditorCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_uvGrouper_loadWithUVEditor_checkBoxValue = `optionVar -q \"m341_uvMapper_uvGrouper_loadWithUVEditorCheckBox_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -height 15;\n\tcheckBox -label \"\" -value $uvMapper_uvGrouper_loadWithUVEditor_checkBoxValue -changeCommand \"m341_uvMapper_uvGrouper_onTop_CheckboxValueChanged();\" uvMapper_uvGrouper_loadWithUVEditor_CheckBoxName;\n\ttext -label \" on top of UV editor\";\t\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -height 15;\n\ttext -label \"         Group Shells\";\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs1;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs2;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs3;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs4;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs5;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $seafoam[0] $seafoam[1] $seafoam[2]\n\t\t-width 19\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs6;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"1\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs1;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"2\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs2;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"3\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs3;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"4\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs4;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"5\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs5;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"6\"\n\t\t-backgroundColor $seafoam[0] $seafoam[1] $seafoam[2]\n\t\t-width 19\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs6;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs7;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs8;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs9;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs10;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs11;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 19\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs12;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"7\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs7;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"8\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs8;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"9\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs9;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"10\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs10;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"11\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs11;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"12\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 19\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs12;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs13;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs14;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs15;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $seafoam[0] $seafoam[1] $seafoam[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs16;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs17;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 19\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs18;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"13\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs13;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"14\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs14;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"15\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs15;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"16\"\n\t\t-backgroundColor $seafoam[0] $seafoam[1] $seafoam[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs16;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"17\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs17;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"18\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 19\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs18;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs19;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs20;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs21;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs22;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs23;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 19\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs24;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"19\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs19;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"20\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs20;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"21\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs21;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"22\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs22;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"23\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs23;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"24\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 19\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs24;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $seafoam[0] $seafoam[1] $seafoam[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs25;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs26;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs27;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs28;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs29;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 19\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs30;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"25\"\n\t\t-backgroundColor $seafoam[0] $seafoam[1] $seafoam[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs25;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"26\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs26;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"27\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs27;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"28\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs28;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"29\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs29;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"30\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 19\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs30;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs31;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs32;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs33;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs34;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs35;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 19\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs36;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"31\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs31;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"32\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs32;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"33\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs33;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"34\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs34;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"35\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs35;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"36\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 19\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs36;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs37;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $seafoam[0] $seafoam[1] $seafoam[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs38;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs39;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs40;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs41;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 19\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs42;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"37\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs37;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"38\"\n\t\t-backgroundColor $seafoam[0] $seafoam[1] $seafoam[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs38;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"39\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs39;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"40\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs40;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"41\"\n\t\t-backgroundColor $greenYellow[0] $greenYellow[1] $greenYellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs41;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"42\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 19\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs42;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs43;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs44;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs45;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs46;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs47;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 19\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs48;\"\n\t\t-commandRepeatable 1;\n\n//***********************************************************************************************************************************************************\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 11;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"43\"\n\t\t-backgroundColor $yellow[0] $yellow[1] $yellow[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs43;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"44\"\n\t\t-backgroundColor $green[0] $green[1] $green[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs44;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"45\"\n\t\t-backgroundColor $purpleDrank[0] $purpleDrank[1] $purpleDrank[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs45;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"46\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs46;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"47\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs47;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"48\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 19\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs48;\"\n\t\t-commandRepeatable 1;\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 4;\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs49;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"sel\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 20\n\t\t-height 13\n\t\t-command \"m341_uvMapper_SelectGroupUVs50;\"\n\t\t-commandRepeatable 1;\n\t\t\n\ttext -label \"Clear Groups\";\n\t\n//***********************************************************************************************************************************************************\t\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 7;\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"49\"\n\t\t-backgroundColor $orange[0] $orange[1] $orange[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs49;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"50\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 20\n\t\t-height 16\n\t\t-command \"m341_uvMapper_GroupUVs50;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"clear\"\n\t\t-backgroundColor $grey[0] $grey[1] $grey[2]\n\t\t-width 35\n\t\t-height 16\n\t\t-command \"m341_uvMapper_Clear;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"clear all\"\n\t\t-backgroundColor $red[0] $red[1] $red[2]\n\t\t-width 46\n\t\t-height 16\n\t\t-command \"m341_uvMapper_ClearAll;\"\n\t\t-commandRepeatable 1;\n\n\tshowWindow;\n\twindow -edit -width 128 -height 194 m341_uvMapper_uvGrouper_toolboxName;\n}\n\n\n//***********************************************************************************************************************************************************\n//Gather\nglobal proc m341_uvMapper_gather()\n{\n\t//Check if any components selected\n\tstring $areComponentsSelected_UVs[] = `filterExpand -selectionMask 35`;\n\t$areComponentsSelected_UVs_Size = `size $areComponentsSelected_UVs`;\n\t\n\tstring $areComponentsSelected_Faces[] = `filterExpand -selectionMask 34`;\n\t$areComponentsSelected_Faces_Size = `size $areComponentsSelected_Faces`;\n\t\n\tstring $areComponentsSelected_Verts[] = `filterExpand -selectionMask 31`;\n\t$areComponentsSelected_Verts_Size = `size $areComponentsSelected_Verts`;\n\t\n\tstring $areComponentsSelected_Edges[] = `filterExpand -selectionMask 32`;\n\t$areComponentsSelected_Edges_Size = `size $areComponentsSelected_Edges`;\n\n\tif ($areComponentsSelected_UVs_Size > 0)\n\t{\n\t\ttexGatherShells;\n\t\tselect -clear;\n\t\tprint \"Selected UVs gathered\\n\";\n\t}\n\t\n\telse if ($areComponentsSelected_Faces_Size > 0)\n\t{\n\t\ttexGatherShells;\n\t\tselect -clear;\n\t\tprint \"Selected Faces gathered\\n\";\n\t}\n\t\n\telse if ($areComponentsSelected_Verts_Size > 0)\n\t{\n\t\ttexGatherShells;\n\t\tselect -clear;\n\t\tprint \"Selected Verts gathered\\n\";\n\t}\n\t\n\telse if ($areComponentsSelected_Edges_Size > 0)\n\t{\n\t\ttexGatherShells;\n\t\tselect -clear;\n\t\tprint \"Selected Edges gathered\\n\";\n\t}\n\t\n\t//No components selected gather all UV shells\n\telse\n\t{\n\t\ttoggleSelMode;\n\t\ttoggleSelMode;\n\t\tselectMode -object;\n\t\ttexGatherShells;\n\t\tsetSelectMode components Components;\n\t\tselectType -polymeshUV 1;\n\t\tselect -clear;\n\t\tprint \"All UVs gathered\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Ungather\nglobal proc m341_uvMapper_ungather()\n{\n\t//Check if any components selected\n\tstring $areComponentsSelected_UVs[] = `filterExpand -selectionMask 35`;\n\t$areComponentsSelected_UVs_Size = `size $areComponentsSelected_UVs`;\n\t\n\tstring $areComponentsSelected_Faces[] = `filterExpand -selectionMask 34`;\n\t$areComponentsSelected_Faces_Size = `size $areComponentsSelected_Faces`;\n\t\n\tstring $areComponentsSelected_Verts[] = `filterExpand -selectionMask 31`;\n\t$areComponentsSelected_Verts_Size = `size $areComponentsSelected_Verts`;\n\t\n\tstring $areComponentsSelected_Edges[] = `filterExpand -selectionMask 32`;\n\t$areComponentsSelected_Edges_Size = `size $areComponentsSelected_Edges`;\n\t\n\tif ($areComponentsSelected_UVs_Size > 0)\n\t{\n\t\t\n\t\tif ($areComponentsSelected_UVs_Size == 1)\n\t\t{\n\t\t\terror \"Select at least two overlapping components\";\n\t\t}\n\t\n\t\tConvertSelectionToUVs;\n\t\tConvertSelectionToUVShell;\n\t\t$moveUVsCounter = 1;\n\t\t$shellUVs = `ls -sl`;\n\t\t$findShells = `texGetShells`;\n\t\t$numbShells = `size $findShells`;\n\t\t$shellIndex = 0;\n\t\t\t\n\t\tfor ($Item = 1; $Item < $numbShells; ++$Item)\n\t\t{\n\t\t\tselect $shellUVs;\n\t\t\t$findShells = `texGetShells`;\n\t\t\ttokenize($findShells[$shellIndex], $findShells); // [\"xx.map[0] xx.map[1]\",] -> [\"xx.map[0]\",\"xx.map[1]\"]\n\t\t\tselect $findShells;\n\t\t\n\t\t\t$shellIndex = $shellIndex + 1;\n\t\t\t$moveUVsRight = `polyEditUV -uValue $moveUVsCounter`;\n\t\t\t$moveUVsCounter = $moveUVsCounter + 1; \n\t\t\tperformResetPivot;\n\t\t}\n\t\t\n\t\tsetSelectMode components Components;\n\t\tselectType -polymeshUV 1;\n\t\tselect -clear;\n\t\tprint \"Selected UVs ungathered\\n\";\n\t}\n\t\n\telse if ($areComponentsSelected_Faces_Size > 0)\n\t{\n\t\n\t\tif ($areComponentsSelected_Faces_Size == 1)\n\t\t{\n\t\t\terror \"Select at least two overlapping components\";\n\t\t}\n\t\n\t\tConvertSelectionToUVs;\n\t\tConvertSelectionToUVShell;\n\t\t$moveUVsCounter = 1;\n\t\t$shellUVs = `ls -sl`;\n\t\t$findShells = `texGetShells`;\n\t\t$numbShells = `size $findShells`;\n\t\t$shellIndex = 0;\n\t\t\t\n\t\tfor ($Item = 1; $Item < $numbShells; ++$Item)\n\t\t{\n\t\t\tselect $shellUVs;\n\t\t\t$findShells = `texGetShells`;\n\t\t\ttokenize($findShells[$shellIndex], $findShells); // [\"xx.map[0] xx.map[1]\",] -> [\"xx.map[0]\",\"xx.map[1]\"]\n\t\t\tselect $findShells;\n\t\t\n\t\t\t$shellIndex = $shellIndex + 1;\n\t\t\t$moveUVsRight = `polyEditUV -uValue $moveUVsCounter`;\n\t\t\t$moveUVsCounter = $moveUVsCounter + 1; \n\t\t\tperformResetPivot;\n\t\t}\n\t\t\n\t\tsetSelectMode components Components;\n\t\tselectType -polymeshFace 1;\n\t\tselect -clear;\n\t\tprint \"Selected faces ungathered\\n\";\n\t}\n\t\n\telse if ($areComponentsSelected_Verts_Size > 0)\n\t{\n\t\tif ($areComponentsSelected_Verts_Size == 1)\n\t\t{\n\t\t\terror \"Select at least two overlapping components\";\n\t\t}\t\n\n\t\tConvertSelectionToUVs;\n\t\tConvertSelectionToUVShell;\n\t\t$moveUVsCounter = 1;\n\t\t$shellUVs = `ls -sl`;\n\t\t$findShells = `texGetShells`;\n\t\t$numbShells = `size $findShells`;\n\t\t$shellIndex = 0;\n\t\t\t\n\t\tfor ($Item = 1; $Item < $numbShells; ++$Item)\n\t\t{\n\t\t\tselect $shellUVs;\n\t\t\t$findShells = `texGetShells`;\n\t\t\ttokenize($findShells[$shellIndex], $findShells); // [\"xx.map[0] xx.map[1]\",] -> [\"xx.map[0]\",\"xx.map[1]\"]\n\t\t\tselect $findShells;\n\t\t\n\t\t\t$shellIndex = $shellIndex + 1;\n\t\t\t$moveUVsRight = `polyEditUV -uValue $moveUVsCounter`;\n\t\t\t$moveUVsCounter = $moveUVsCounter + 1; \n\t\t\tperformResetPivot;\n\t\t}\n\n\t\tsetSelectMode components Components;\n\t\tselectType -polymeshVertex 1;\n\t\tselect -clear;\n\t\tprint \"Selected verts ungathered\\n\";\n\t}\n\t\n\telse if ($areComponentsSelected_Edges_Size > 0)\n\t{\n\t\tif ($areComponentsSelected_Edges_Size == 1)\n\t\t{\n\t\t\terror \"Select at least two overlapping components\";\n\t\t}\n\t\t\n\t\tConvertSelectionToUVs;\n\t\tConvertSelectionToUVShell;\n\t\t$moveUVsCounter = 1;\n\t\t$shellUVs = `ls -sl`;\n\t\t$findShells = `texGetShells`;\n\t\t$numbShells = `size $findShells`;\n\t\t$shellIndex = 0;\n\t\t\t\n\t\tfor ($Item = 1; $Item < $numbShells; ++$Item)\n\t\t{\n\t\t\tselect $shellUVs;\n\t\t\t$findShells = `texGetShells`;\n\t\t\ttokenize($findShells[$shellIndex], $findShells); // [\"xx.map[0] xx.map[1]\",] -> [\"xx.map[0]\",\"xx.map[1]\"]\n\t\t\tselect $findShells;\n\t\t\n\t\t\t$shellIndex = $shellIndex + 1;\n\t\t\t$moveUVsRight = `polyEditUV -uValue $moveUVsCounter`;\n\t\t\t$moveUVsCounter = $moveUVsCounter + 1; \n\t\t\tperformResetPivot;\n\t\t}\n\t\t\n\t\tsetSelectMode components Components;\n\t\tselectType -polymeshEdge 1;\n\t\tselect -clear;\n\t\tprint \"Selected edges ungathered\\n\";\n\t}\n\t\n\t//No components selected ungather all UV shells\n\telse\n\t{\n\t\tConvertSelectionToUVs;\n\t\tConvertSelectionToUVShell;\n\t\t$moveUVsCounter = 1;\n\t\tselectType -meshUVShell 1;\n\t\tselectUVOverlappingComponents 1 0;\n\t\t\n\t\t$shellUVs = `ls -sl`;\n\t\t$findShells = `texGetShells`;\n\t\t$numbShells = `size $findShells`;\n\t\t$shellIndex = 0;\n\t\t\t\n\t\tfor ($Item = 0; $Item < $numbShells; ++$Item)\n\t\t{\n\t\t\tselect $shellUVs;\n\t\t\t$findShells = `texGetShells`;\n\t\t\ttokenize($findShells[$shellIndex], $findShells); // [\"xx.map[0] xx.map[1]\",] -> [\"xx.map[0]\",\"xx.map[1]\"]\n\t\t\tselect $findShells;\n\t\t\n\t\t\t$shellIndex = $shellIndex + 1;\n\t\t\t$moveUVsRight = `polyEditUV -uValue $moveUVsCounter`;\n\t\t\t$moveUVsCounter = $moveUVsCounter + 1; \n\t\t}\n\t\t\n\t\tsetSelectMode components Components;\n\t\tselectType -polymeshUV 1;\n\t\tselect -clear;\n\t\tprint \"All UVs ungathered\\n\";\n\t}\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Transfer UVs Meshes\nglobal proc m341_uvMapper_transferUVMesh()\n{\n\tstring $objects[] = `ls -sl`;\n\tselect $objects[0];\n\tm341_uvMapper_deleteHistory();\n\tselect $objects;\n\tint $sizeObjects = `size $objects`;\n\tint $sizeLoop = $sizeObjects - 1;\n\tint $objectsCounter = 1;\n\n\tfor ($Item = 0; $Item < $sizeLoop; ++$Item)\n\t{\n\t\t//Select first object and then second and then UV transfer\n\t\tselect $objects[0];\n\t\t//Store number of verts in first object\n\t\tint $numbVerts1[] = `polyEvaluate -vertex`;\n\t\t//Store number of verts in second object\n\t\tselect $objects[$objectsCounter];\n\t\tint $numbVerts2[] = `polyEvaluate -vertex`;\n\t\t\n\t\t//Warning dialog if number of verts different between objects\n\t\tif ($numbVerts1[0] != $numbVerts2[0])\n\t\t{\n\t\t\tstring $result = `confirmDialog -title \"WARNING\" -message \"Number of verts is different on source and target meshes, UV transfer may produce unexpected results.\\n\\nFor best results transfer between meshes that are identical. For meshes that are not identical, move the target meshes to the same spot in the world as the source meshes.\\n\\nAre you sure you want to continue?\\n\" -button \"Yes\" -button \"No\" -defaultButton \"Yes\" -cancelButton \"No\" -dismissString \"No\"`;\n\t\t\tif ($result == \"Yes\")\n\t\t\t{\n\t\t\t\tselect $objects[0];\n\t\t\t\tselect -add $objects[$objectsCounter];\n\t\t\t\t\n\t\t\t\t//Different vert count use world space and meshes need to be on top of each other\n\t\t\t\ttransferAttributes -transferPositions 0 -transferNormals 0 -transferUVs 1 -transferColors 0 -sampleSpace 0 -sourceUvSpace \"map1\" -targetUvSpace \"map1\" -searchMethod 3 -flipUVs 0 -colorBorders 1;\n\t\t\t\t$objectsCounter = $objectsCounter + 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tselect $objects;\n\t\t\t\terror \"Process cancelled\\n\";\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tselect $objects[0];\n\t\t\tselect -add $objects[$objectsCounter];\n\t\t\t//Same vert count transfer topology sample space so meshes don't need to be on top of each other\n\t\t\ttransferAttributes -transferPositions 0 -transferNormals 0 -transferUVs 1 -sourceUvSet \"map1\" -targetUvSet \"map1\" -transferColors 0 -sampleSpace 5 -sourceUvSpace \"map1\" -targetUvSpace \"map1\" -searchMethod 3 -flipUVs 0 -colorBorders 1;\n\t\t\t$objectsCounter = $objectsCounter + 1;\n\t\t\n\t\t}\n\t}\n\n\tselect $objects;\n\t\n\t//Find shape and query connections for skinCluster\n\tglobal string $m341_skinnedItems2[];\n\tstring $tempNode[] = `ls -sl`;\n\tint $sizeTempNode = `size $tempNode`;\n\tint $gmatchCounter = 0;\n\t\n\tfor ($Item = 0; $Item < $sizeTempNode; ++$Item)\n\t{\n\t\tselect $tempNode[$gmatchCounter];\n\t\tstring $shapeName[] = `listRelatives -shapes -fullPath $tempNode[$gmatchCounter]`;\n\t\tstring $connections[] = `listConnections $shapeName[0]`;\n\t\tstring $skinnedItems1[];\n\t\tglobal string $m341_skinnedItems2[];\n\t\tfor ($itemGM in $connections)\n\t\t{\n\t\t\tif (`gmatch $itemGM \"*skinCluster*\"`)\n\t\t\t{\n\t\t\t\tglobal string $m341_skinnedItems2[];\n\t\t\t\t$skinnedItems1 = `ls -sl`;\n\t\t\t\tselect -add $m341_skinnedItems2;\n\t\t\t\t$m341_skinnedItems2 = `ls -sl`;\n\t\t\t\t//print \"Found cluster\";\n\t\t\t}\n\t\t}\n\t\t$gmatchCounter = $gmatchCounter + 1;\n\t}\n\t\n\t//Delete history on non-skinned items\n\tselect $objects;\n\tselect -deselect $m341_skinnedItems2;\n\tm341_uvMapper_deleteHistory();\n\t\n\tselect $objects;\n\tprint \"Transfer UVs complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Transfer UVs Groups\nglobal proc m341_uvMapper_transferUVGroup()\n{\n\t//Store group 1 and 2\n\tstring $bothGroups[] = `ls -sl`;\n\n\t//Clear skinned items\t\n\tglobal string $m341_skinnedItems2[];\n\tselect -clear;\n\t$m341_skinnedItems2 = `ls -sl`;\n\n\t//Select group 1 and find its children\n\tselect $bothGroups[0];\n\tstring $checkForChildren1[] = `listRelatives -type transform -fullPath`;\n\tint $sizeCheckForChildren1 = `size $checkForChildren1`;\n\t//Select group 2 and find its children\n\tselect $bothGroups[1];\n\tstring $checkForChildren2[] = `listRelatives -type transform -fullPath`;\n\tint $sizeCheckForChildren2 = `size $checkForChildren2`;\n\t\n\t//Error if number of objects in hierarchy not the same in both groups\n\tif ($sizeCheckForChildren1 != $sizeCheckForChildren2)\n\t{\n\t\tselect $bothGroups;\n\t\terror \"Hiarchy order must be the same in both groups, transfer UVs failed\";\n\t}\n\n\t//Transfer UVs from each object separately in groups\n\tint $counter = 0;\n\tfor ($Item = 0; $Item < $sizeCheckForChildren1; ++$Item)\n\t{\n\t\t//Store number of verts in first object\n\t\tselect $checkForChildren1[$counter];\n\t\tint $numbVerts1[] = `polyEvaluate -vertex`;\n\t\t//Store number of verts in second object\n\t\tselect $checkForChildren2[$counter];\n\t\tint $numbVerts2[] = `polyEvaluate -vertex`;\n\t\t//Error if number of verts different between objects\n\t\tif ($numbVerts1[0] != $numbVerts2[0])\n\t\t{\n\t\t\tselect $bothGroups;\n\t\t\terror \"Number of verts must be the same on each set of objects, transfer UVs failed\";\n\t\t}\n\t\t\n\t\t\t\t\n\t\t\n\t\tselect $checkForChildren1[$counter];\n\t\tselect -add $checkForChildren2[$counter];\n\t\ttransferAttributes -transferPositions 0 -transferNormals 0 -transferUVs 1 -sourceUvSet \"map1\" -targetUvSet \"map1\" -transferColors 0 -sampleSpace 5 -sourceUvSpace \"map1\" -targetUvSpace \"map1\" -searchMethod 3 -flipUVs 0 -colorBorders 1;\n\t\t$counter = $counter + 1;\n\t}\n\t\n\t//Find items that are skinned\n\tselect $checkForChildren1;\n\tselect -add $checkForChildren2;\n\n\tstring $tempNode[] = `ls -sl`;\n\tint $sizeTempNode = `size $tempNode`;\n\tint $gmatchCounter = 0;\n\t\n\tfor ($Item = 0; $Item < $sizeTempNode; ++$Item)\n\t{\n\t\tselect $tempNode[$gmatchCounter];\n\t\tstring $shapeName[] = `listRelatives -shapes -fullPath $tempNode[$gmatchCounter]`;\n\t\tstring $connections[] = `listConnections $shapeName[0]`;\n\t\tstring $skinnedItems1[];\n\t\tglobal string $m341_skinnedItems2[];\n\t\tfor ($itemGM in $connections)\n\t\t{\n\t\t\tif (`gmatch $itemGM \"*skinCluster*\"`)\n\t\t\t{\n\t\t\t\tglobal string $m341_skinnedItems2[];\n\t\t\t\t$skinnedItems1 = `ls -sl`;\n\t\t\t\tselect -add $m341_skinnedItems2;\n\t\t\t\t$m341_skinnedItems2 = `ls -sl`;\n\t\t\t\t//print \"Found cluster\";\n\t\t\t}\n\t\t}\n\t\t$gmatchCounter = $gmatchCounter + 1;\n\t}\n\t\n\t//Delete history on non-skinned items\n\tselect $checkForChildren1;\n\tselect -add $checkForChildren2;\n\tselect -deselect $m341_skinnedItems2;\n\tm341_uvMapper_deleteHistory();\n\n\tselect $bothGroups;\n\tprint \"Transfer UVs grouped objects complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Symmetry U\nglobal proc m341_uvMapper_symmetryU()\n{\n\t//Get name of shape to perform flip UVs on\n\tstring $getShapeName[] = `ls -sl -o`;\n\t//Get U and V pivot location\n\tfloat $selectionUVPivot[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\tfloat $pivotU = $selectionUVPivot[0];\n\tfloat $pivotV = $selectionUVPivot[1];\n\t\n\t//Flip U axis\n\toptionVar -iv polySymmetrizeUVAxis 0;\n\t//Flip pivot\n\toptionVar -fv polySymmetrizeUVAxisOffset $pivotU;\n\t//Increment\n\toptionVar -fv polySymmetrizeUVAxisIncrement 0.1;\n\tSymmetrizeUV;\t\n\t\n\tprint \"Symmetrize U complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Symmetry V\nglobal proc m341_uvMapper_symmetryV()\n{\n\t//Get name of shape to perform flip UVs on\n\tstring $getShapeName[] = `ls -sl -o`;\n\t//Get U and V pivot location\n\tfloat $selectionUVPivot[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\tfloat $pivotU = $selectionUVPivot[0];\n\tfloat $pivotV = $selectionUVPivot[1];\n\t\n\t//Flip V axis\n\toptionVar -iv polySymmetrizeUVAxis 1;\n\t//Flip pivot\n\toptionVar -fv polySymmetrizeUVAxisOffset $pivotV;\n\t//Increment\n\toptionVar -fv polySymmetrizeUVAxisIncrement 0.1;\n\tSymmetrizeUV;\n\t\t\n\tprint \"Symmetrize V complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Optimize UVs 0.0\nglobal proc m341_uvMapper_optimizeUVs_zero()\n{\n\tu3dOptimize -ite 1 -pow 1 -sa 0.0 -bi 1 -tf 1 -ms 2048 -rs 0;\n\tprint \"Optimize UVs complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Optimize UVs 0.5\nglobal proc m341_uvMapper_optimizeUVs_pointFive()\n{\n\tu3dOptimize -ite 1 -pow 1 -sa 0.5 -bi 1 -tf 1 -ms 2048 -rs 0;\n\tprint \"Optimize UVs complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Optimize UVs 1\nglobal proc m341_uvMapper_optimizeUVs_one()\n{\n\tu3dOptimize -ite 1 -pow 1 -sa 1.0 -bi 1 -tf 1 -ms 2048 -rs 0;\n\tprint \"Optimize UVs complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Max Groups\n//Set to the number of groups found in the UI minus one so loops work\nglobal int $m341_uvMapper_maxGroups;\n$m341_uvMapper_maxGroups = 50;\n\n\n//***********************************************************************************************************************************************************\n//Global variables for groups\nint $gCounter = 1;\nfor($i=0; $i<$m341_uvMapper_maxGroups; ++$i)\n{\n\teval (\"global string $m341_uvMapperVis\" + $gCounter + \"[];\");\n\teval (\"global string $m341_uvMapperGroup\" + $gCounter + \"[];\");\n\teval (\"global string $m341_uvMapperMaster\" + $gCounter + \"[];\");\n\t\n   \t$gCounter = $gCounter + 1;\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs Procedure\nglobal proc m341_uvMapper_GroupUVsProc(string $group)\n{\n\tstring $temp[] = {};\n\t/*\n\tstring $group = \"1\";\n\tstring $group = \"2\";\n\tstring $group = \"19\";\n\t*/\n\t\n\t//Total number of groups in the UI found defined as global variable above\n\tglobal int $m341_uvMapper_maxGroups;\n\n\t\n\t//Store vis group\n\tConvertSelectionToUVShell;\n\tConvertSelectionToUVs;\n\teval (\"$m341_uvMapperVis\" + $group + \" = `ls -sl -fl`;\");\n\t\n  \tint $counter = 1;\n\tfor($i=0; $i<$m341_uvMapper_maxGroups; ++$i)\n\t{\n\t\tif ($counter == $group)\n\t\t{\n\t\t\tprint \"Do nothing\\n\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//StringArrayRemove remove left items from group\n\t\t\t//Remove vis 19 from vis 2\n\t\t\teval (\"$uvMapper_diff_Vis\" + $counter + \" = stringArrayRemove($m341_uvMapperVis\" + $group + \", $m341_uvMapperVis\"  + $counter + \");\");\n\t\t\teval (\"select $uvMapper_diff_Vis\" + $counter + \";\");\n\t\t\tprint (\"select $uvMapper_diff_Vis\" + $counter + \";\");\n\t\t\teval (\"$m341_uvMapperVis\" + $counter + \" = `ls -sl -fl`;\");\n\t\t}\n\t\t$counter = $counter + 1;\n\t}\n\t\n\t//Select vis group\t\t\n\teval (\"select $m341_uvMapperVis\" + $group + \";\");\n\t\n\t//Create master and group\n\tstring $uvShell[] = `ls -sl -fl`;\n\tstring $findShells[] = texGetShells();\n\tint $shellIndex = 0;\n\tstring $shellToken[] = {};\n    tokenize($findShells[$shellIndex], $shellToken);\n\t\n\t$numbShells = `size $findShells`;\n    select $shellToken;\n\t//Create master19\n\teval (\"$m341_uvMapperMaster\" + $group + \" = `ls -sl -fl`;\");\n\tselect $uvShell;\n\tselect -deselect $shellToken;\n\t//Create group1\n\teval (\"$m341_uvMapperGroup\" + $group + \" = `ls -sl -fl`;\");\n\t\n\t\n\t//Remove vis19 from all other groups and masters\n    int $emptyMaster;\n    int $emptyGroup;\n\t$counter = 1;\n\tfor($i=0; $i<$m341_uvMapper_maxGroups; ++$i)\n\t{\n\t\tif ($counter == $group)\n        {\n\t\t\t//print \"Do nothing\\n\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//StringArrayRemove remove left items from group\n\t\t\t//Remove vis 19 from all other groups and masters\n\t\t\teval (\"$uvMapper_diff_Group\" + $counter + \" = stringArrayRemove($m341_uvMapperVis\" + $group + \", $m341_uvMapperGroup\"  + $counter + \");\");\n\t\t\teval (\"select $uvMapper_diff_Group\" + $counter + \";\");\n\t\t\teval (\"$m341_uvMapperGroup\" + $counter + \" = `ls -sl -fl`;\");\n\t\t    int $sizeGroup = size(`ls -sl`);\n\t\t\n\t\t\teval (\"$uvMapper_diff_Master\" + $counter + \" = stringArrayRemove($m341_uvMapperVis\" + $group + \", $m341_uvMapperMaster\"  + $counter + \");\");\n\t\t\teval (\"select $uvMapper_diff_Master\" + $counter + \";\");\n\t\t\teval (\"$m341_uvMapperMaster\" + $counter + \" = `ls -sl -fl`;\");\n    \t    int $sizeMaster = size(`ls -sl`);\n\t\t\n\t\t\t//Check if counter master empty\n\t\t\tif ($sizeMaster == 0 && $sizeGroup > 0)\n\t\t\t{\n\t\t\t\t//Create master and group\n\t\t\t\teval (\"select $m341_uvMapperGroup\" + $counter + \";\");\n\t\t\t\tstring $uvShell[] = `ls -sl -fl`;\n\t\t\t\tstring $findShells[] = texGetShells();\n\t\t\t\tint $shellIndex = 0;\n\t\t\t\tstring $shellToken[] = {};\n\t\t\t\ttokenize($findShells[$shellIndex], $shellToken);\n\t\n\t\t\t\t$numbShells = `size $findShells`;\n\t\t\t\tselect $shellToken;\n\t\t\t\t//Create master2\n\t\t\t\teval (\"$m341_uvMapperMaster\" + $counter + \" = `ls -sl -fl`;\");\n\t\t\t\tselect $uvShell;\n\t\t\t\tselect -deselect $shellToken;\n\t\t\t\t//Create group2\n\t\t\t\teval (\"$m341_uvMapperGroup\" + $counter + \" = `ls -sl -fl`;\");\n\t\t\t\t//polyCube -w 1 -h 1 -d 1 -sx 1 -sy 1 -sz 1 -ax 0 1 0 -cuv 4 -ch 1;\n\t\t\t}\n\t\t\tselect -clear;\n\t\t}\n\t\t$counter = $counter + 1;\n\t}\n\t\n\t//Select UV shells for visability\n\teval (\"select $m341_uvMapperVis\" + $group + \";\");\n\tConvertSelectionToFaces;\n\t\n\tprint (\"UV shells added to Group\" + $group + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select UVs Procedure\nglobal proc m341_uvMapper_SelectGroupUVsProc(string $group)\n{\n\teval (\"global string $m341_uvMapperVis\" + $group + \"[];\");\n\n\t//Select all UVs\n\teval (\"select $m341_uvMapperVis\" + $group + \";\");\n\tConvertSelectionToUVs;\n\tprint (\"Contents selected Group\" + $group + \"\\n\");\n\t\n\t//Group empty\n\tstring $temp[] = `ls -sl -fl`;\n\tif (size($temp) == 0)\n\t{\n\t\tselect -clear;\n\t\tprint \"Group contents empty\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 1\nglobal proc m341_uvMapper_GroupUVs1()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"1\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 1\nglobal proc m341_uvMapper_SelectGroupUVs1()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"1\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 2\nglobal proc m341_uvMapper_GroupUVs2()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"2\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 2\nglobal proc m341_uvMapper_SelectGroupUVs2()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"2\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 3\nglobal proc m341_uvMapper_GroupUVs3()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"3\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 3\nglobal proc m341_uvMapper_SelectGroupUVs3()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"3\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 4\nglobal proc m341_uvMapper_GroupUVs4()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"4\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 4\nglobal proc m341_uvMapper_SelectGroupUVs4()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"4\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 5\nglobal proc m341_uvMapper_GroupUVs5()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"5\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 5\nglobal proc m341_uvMapper_SelectGroupUVs5()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"5\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 6\nglobal proc m341_uvMapper_GroupUVs6()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"6\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 6\nglobal proc m341_uvMapper_SelectGroupUVs6()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"6\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 7\nglobal proc m341_uvMapper_GroupUVs7()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"7\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 7\nglobal proc m341_uvMapper_SelectGroupUVs7()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"7\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 8\nglobal proc m341_uvMapper_GroupUVs8()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"8\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 8\nglobal proc m341_uvMapper_SelectGroupUVs8()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"8\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 9\nglobal proc m341_uvMapper_GroupUVs9()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"9\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 9\nglobal proc m341_uvMapper_SelectGroupUVs9()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"9\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 10\nglobal proc m341_uvMapper_GroupUVs10()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"10\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 10\nglobal proc m341_uvMapper_SelectGroupUVs10()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"10\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 11\nglobal proc m341_uvMapper_GroupUVs11()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"11\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 11\nglobal proc m341_uvMapper_SelectGroupUVs11()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"11\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 12\nglobal proc m341_uvMapper_GroupUVs12()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"12\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 12\nglobal proc m341_uvMapper_SelectGroupUVs12()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"12\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 13\nglobal proc m341_uvMapper_GroupUVs13()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"13\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 13\nglobal proc m341_uvMapper_SelectGroupUVs13()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"13\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 14\nglobal proc m341_uvMapper_GroupUVs14()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"14\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 14\nglobal proc m341_uvMapper_SelectGroupUVs14()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"14\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 15\nglobal proc m341_uvMapper_GroupUVs15()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"15\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 15\nglobal proc m341_uvMapper_SelectGroupUVs15()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"15\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 16\nglobal proc m341_uvMapper_GroupUVs16()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"16\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 16\nglobal proc m341_uvMapper_SelectGroupUVs16()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"16\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 17\nglobal proc m341_uvMapper_GroupUVs17()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"17\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 17\nglobal proc m341_uvMapper_SelectGroupUVs17()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"17\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 18\nglobal proc m341_uvMapper_GroupUVs18()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"18\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 18\nglobal proc m341_uvMapper_SelectGroupUVs18()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"18\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 19\nglobal proc m341_uvMapper_GroupUVs19()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"19\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 19\nglobal proc m341_uvMapper_SelectGroupUVs19()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"19\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 20\nglobal proc m341_uvMapper_GroupUVs20()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"20\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 20\nglobal proc m341_uvMapper_SelectGroupUVs20()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"20\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 21\nglobal proc m341_uvMapper_GroupUVs21()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"21\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 21\nglobal proc m341_uvMapper_SelectGroupUVs21()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"21\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 22\nglobal proc m341_uvMapper_GroupUVs22()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"22\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 22\nglobal proc m341_uvMapper_SelectGroupUVs22()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"22\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 23\nglobal proc m341_uvMapper_GroupUVs23()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"23\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 23\nglobal proc m341_uvMapper_SelectGroupUVs23()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"23\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 24\nglobal proc m341_uvMapper_GroupUVs24()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"24\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 24\nglobal proc m341_uvMapper_SelectGroupUVs24()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"24\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 25\nglobal proc m341_uvMapper_GroupUVs25()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"25\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 25\nglobal proc m341_uvMapper_SelectGroupUVs25()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"25\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 26\nglobal proc m341_uvMapper_GroupUVs26()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"26\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 26\nglobal proc m341_uvMapper_SelectGroupUVs26()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"26\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 27\nglobal proc m341_uvMapper_GroupUVs27()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"27\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 27\nglobal proc m341_uvMapper_SelectGroupUVs27()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"27\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 28\nglobal proc m341_uvMapper_GroupUVs28()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"28\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 28\nglobal proc m341_uvMapper_SelectGroupUVs28()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"28\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 29\nglobal proc m341_uvMapper_GroupUVs29()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"29\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 29\nglobal proc m341_uvMapper_SelectGroupUVs29()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"29\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 30\nglobal proc m341_uvMapper_GroupUVs30()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"30\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 30\nglobal proc m341_uvMapper_SelectGroupUVs30()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"30\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 31\nglobal proc m341_uvMapper_GroupUVs31()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"31\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 31\nglobal proc m341_uvMapper_SelectGroupUVs31()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"31\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 32\nglobal proc m341_uvMapper_GroupUVs32()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"32\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 32\nglobal proc m341_uvMapper_SelectGroupUVs32()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"32\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 33\nglobal proc m341_uvMapper_GroupUVs33()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"33\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 33\nglobal proc m341_uvMapper_SelectGroupUVs33()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"33\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 34\nglobal proc m341_uvMapper_GroupUVs34()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"34\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 34\nglobal proc m341_uvMapper_SelectGroupUVs34()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"34\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 35\nglobal proc m341_uvMapper_GroupUVs35()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"35\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 35\nglobal proc m341_uvMapper_SelectGroupUVs35()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"35\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 36\nglobal proc m341_uvMapper_GroupUVs36()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"36\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 36\nglobal proc m341_uvMapper_SelectGroupUVs36()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"36\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 37\nglobal proc m341_uvMapper_GroupUVs37()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"37\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 37\nglobal proc m341_uvMapper_SelectGroupUVs37()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"37\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 38\nglobal proc m341_uvMapper_GroupUVs38()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"38\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 38\nglobal proc m341_uvMapper_SelectGroupUVs38()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"38\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 39\nglobal proc m341_uvMapper_GroupUVs39()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"39\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 39\nglobal proc m341_uvMapper_SelectGroupUVs39()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"39\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 40\nglobal proc m341_uvMapper_GroupUVs40()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"40\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 40\nglobal proc m341_uvMapper_SelectGroupUVs40()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"40\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 41\nglobal proc m341_uvMapper_GroupUVs41()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"41\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 41\nglobal proc m341_uvMapper_SelectGroupUVs41()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"41\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 42\nglobal proc m341_uvMapper_GroupUVs42()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"42\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 42\nglobal proc m341_uvMapper_SelectGroupUVs42()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"42\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 43\nglobal proc m341_uvMapper_GroupUVs43()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"43\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 43\nglobal proc m341_uvMapper_SelectGroupUVs43()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"43\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 44\nglobal proc m341_uvMapper_GroupUVs44()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"44\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 44\nglobal proc m341_uvMapper_SelectGroupUVs44()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"44\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 45\nglobal proc m341_uvMapper_GroupUVs45()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"45\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 45\nglobal proc m341_uvMapper_SelectGroupUVs45()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"45\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 46\nglobal proc m341_uvMapper_GroupUVs46()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"46\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 46\nglobal proc m341_uvMapper_SelectGroupUVs46()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"46\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 47\nglobal proc m341_uvMapper_GroupUVs47()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"47\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 47\nglobal proc m341_uvMapper_SelectGroupUVs47()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"47\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 48\nglobal proc m341_uvMapper_GroupUVs48()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"48\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 48\nglobal proc m341_uvMapper_SelectGroupUVs48()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"48\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 49\nglobal proc m341_uvMapper_GroupUVs49()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"49\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 49\nglobal proc m341_uvMapper_SelectGroupUVs49()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"49\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Group UVs 50\nglobal proc m341_uvMapper_GroupUVs50()\n{\n\tm341_uvMapper_GroupUVsProc($group = \"50\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Select Group UVs 50\nglobal proc m341_uvMapper_SelectGroupUVs50()\n{\n\tm341_uvMapper_SelectGroupUVsProc($group = \"50\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Clear Selected Group\nglobal proc m341_uvMapper_Clear()\n{\n\tstring $selectedObj[] = `ls -sl -fl`;\n\n\t//Store list of shells to compare\n\tConvertSelectionToUVShell;\n\tConvertSelectionToUVs;\n\tstring $selectedShells[] = `ls -sl -fl`;\n\t\n\tglobal int $m341_uvMapper_maxGroups;\n\n\t\n\t//Look through selected shells and clear\n\tint $gNumb = 1;\n\tint $foundGroupItems = 0;\n\tint $sizeVisGroup = 0;\n\tstring $visGroup[] = {};\n\n\tfor($item=0; $item<$m341_uvMapper_maxGroups; ++$item)\n\t{\n\t\t$sizeVisGroup = eval (\"$sizeVisGroup = `size $m341_uvMapperVis\" + $gNumb + \"`;\");\n\t\tint $counter = 0;\n\t\tif ($sizeVisGroup > 0)\n        {\n\t\t\t//Start Progress window\n\t\t\tint $sizeProgressBar = $sizeVisGroup;\n\t\t\tprogressWindow -title \"Progress Bar\" -isInterruptable true -status \"\" -maxValue $sizeProgressBar;\n\t\t\t\n\t    \tfor($i=0; $i<$sizeVisGroup; ++$i)\n\t    \t{\n\t\t\t\t$visGroup = eval (\"$visGroup = $m341_uvMapperVis\" + $gNumb + \";\");\n    \t\t\tint $foundGroupItems = stringArrayContains($visGroup[$counter], $selectedShells);\n\t\t\t\t\n\t    \t\tif ($foundGroupItems == 1)\n    \t\t\t{\n\t\t    \t\teval (\"global string $m341_uvMapperGroup\" + $gNumb + \"[];\");\n\t    \t\t\teval (\"global string $m341_uvMapperMaster\" + $gNumb + \"[];\");\n    \t\t\t\teval (\"global string $m341_uvMapperVis\" + $gNumb + \"[];\");\n\t\t\t\t\n\t\t    \t\teval (\"$m341_uvMapperGroup\" + $gNumb + \" = {};\");\n\t    \t\t\teval (\"$m341_uvMapperMaster\" + $gNumb + \" = {};\");\n    \t\t\t\teval (\"$m341_uvMapperVis\" + $gNumb + \" = {};\");\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t$counter = $counter + 1;\n\t\t\t\t\n\t\t\t\t//Cancel progress window\n\t\t\t\tif(`progressWindow -query -isCancelled`)\n\t\t\t\t{\n\t\t\t\t\tprogressWindow -edit -endProgress;\n\t\t\t\t\terror \"Process cancelled\\n\";\n\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t//update the progress window\n\t\t\t\tprogressWindow -edit -step 1;\n\t\t\t}\n\t\t\t//Kill the progress window\n\t\t\tprogressWindow -edit -endProgress;\n\t\t}\n    \t$gNumb = $gNumb + 1;\n\t}\n\t\n\tselect $selectedObj;\n\tprint (\"UV shells cleared from selected Groups\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Clear All Groups\nglobal proc m341_uvMapper_ClearAll()\n{\n\tglobal int $m341_uvMapper_maxGroups; \n\t\n\tint $counter = 1;\n\tfor($i=0; $i<$m341_uvMapper_maxGroups; ++$i)\n\t{\n\t\teval (\"global string $m341_uvMapperGroup\" + $counter + \"[];\");\n\t\teval (\"global string $m341_uvMapperMaster\" + $counter + \"[];\");\n\t\teval (\"global string $m341_uvMapperVis\" + $counter + \"[];\");\n\t\t\n\t\teval (\"$m341_uvMapperGroup\" + $counter + \" = {};\");\n\t\teval (\"$m341_uvMapperMaster\" + $counter + \" = {};\");\n\t\teval (\"$m341_uvMapperVis\" + $counter + \" = {};\");\n\t\t$counter = $counter + 1;\n\t}\n\t\n\tprint \"All UV shells cleared from Groups\\n\";\n}\n\n\n//***********************************************************************************************************************************************************\n//Find Shells\nglobal proc m341_uvMapper_findShells()\n{\n\t//Update the float field to the latest value the user entered so when you press enter it updates\n\tm341_uvMapper_findShells_ValueChanged();\n\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tConvertSelectionToUVs;\n\t\n\t//Convert to UV shells and loop through them one at a time\n\tstring $shellUVs[] = `ls -sl -fl`;\n\tstring $findShells[] = texGetShells();\n\tint $sizeFindShells = `size $findShells`;\n\tint $shellIndex = 0;\n\tglobal string $m341_uvMapper_findShellsList[];\n\t$m341_uvMapper_findShellsList = {};\n\tstring $tokens[] = {};\n\t\n\tfor ($item = 0; $item < $sizeFindShells; ++$item)\n\t{\n\t\t//Get shell name\n\t\ttokenize($findShells[$shellIndex], $tokens);\n\t\t\n\t\t//Store area of current UV shell\n\t\tfloat $shellFaces[] = `polyEvaluate -boundingBoxComponent2d $tokens`;\n\t\tfloat $bBoxDistanceU = $shellFaces[1] - $shellFaces[0];\n\t\tfloat $bBoxDistanceV = $shellFaces[3] - $shellFaces[2];\n\t\tfloat $bBoxUVArea = $bBoxDistanceU * $bBoxDistanceV * 100;\n\t\t\n\t\t//Add UV shell to selection list if area matches user input\n\t\tglobal float $m341_uvMapper_findShells_UserInput;\n\t\tif ($bBoxUVArea < $m341_uvMapper_findShells_UserInput)\n\t\t{\t\n\t\t\t//Add current matching UV shell to final list\n\t\t\tglobal string $m341_uvMapper_findShellsList[];\n\t\t\tappendStringArray($m341_uvMapper_findShellsList, $tokens, size($tokens));\n\t\t}\n\t\n\t\t//Add one so next loop will select nest shell in list\n\t\t$shellIndex = $shellIndex + 1;\n\t}\n\t\n\t//Select updated UV shell list for final result and print how many shells were selected\n\tselect $m341_uvMapper_findShellsList;\n\tSelectUVMask;\n\t\n\t$findShells = texGetShells();\n\t$sizeFindShells = `size $findShells`;\n\t\n\tprint (\"Shells selected \" + $sizeFindShells + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Update Padding Float Field Value\nglobal proc m341_uvMapper_padding_valueChanged()\n{\n\t//Query the value from the float field and store it in a variable\n\tglobal float $m341_uvMapper_padding_userInput;\n\t$m341_uvMapper_padding_userInput = `floatField -query -value uvMapper_padding_floatFieldName`;\n\toptionVar -floatValue \"m341_uvMapper_paddingFloatField_varName\" $m341_uvMapper_padding_userInput;\n\t\n\t\n\t//Convert padding number into shell spacing number\n\tglobal float $m341_uvMapper_shellSpacing;\n\tglobal float $m341_uvMapper_tileMargin;\n\tglobal int $m341_uvMapper_MapSizeIndex;\n\t$m341_uvMapper_MapSizeIndex = `optionMenu -query -select uvMapper_mapSize_DropDownName`;\n\t\n\t//4096\n\tif ($m341_uvMapper_MapSizeIndex == 1)\n\t{\t\n\t\tglobal float $m341_uvMapper_shellSpacing;\n\t\tglobal float $m341_uvMapper_padding_userInput;\n\t\tfloat $divider = 4096;\n\t\t$m341_uvMapper_shellSpacing = $m341_uvMapper_padding_userInput / $divider;\n\t\t\n\t\tglobal float $m341_uvMapper_tileMargin;\n\t\t$m341_uvMapper_tileMargin = $m341_uvMapper_shellSpacing / 2;\n\t}\n\t//2048\n\tif ($m341_uvMapper_MapSizeIndex == 2)\n\t{\t\n\t\tglobal float $m341_uvMapper_shellSpacing;\n\t\tglobal float $m341_uvMapper_padding_userInput;\n\t\tfloat $divider = 2048;\n\t\t$m341_uvMapper_shellSpacing = $m341_uvMapper_padding_userInput / $divider;\n\t\t\n\t\tglobal float $m341_uvMapper_tileMargin;\n\t\t$m341_uvMapper_tileMargin = $m341_uvMapper_shellSpacing / 2;\n\t}\n\t//1024\n\tif ($m341_uvMapper_MapSizeIndex == 3)\n\t{\t\n\t\tglobal float $m341_uvMapper_shellSpacing;\n\t\tglobal float $m341_uvMapper_padding_userInput;\n\t\tfloat $divider = 1024;\n\t\t$m341_uvMapper_shellSpacing = $m341_uvMapper_padding_userInput / $divider;\n\t\t\n\t\tglobal float $m341_uvMapper_tileMargin;\n\t\t$m341_uvMapper_tileMargin = $m341_uvMapper_shellSpacing / 2;\n\t}\n\t//512\n\tif ($m341_uvMapper_MapSizeIndex == 4)\n\t{\t\n\t\tglobal float $m341_uvMapper_shellSpacing;\n\t\tglobal float $m341_uvMapper_padding_userInput;\n\t\tfloat $divider = 512;\n\t\t$m341_uvMapper_shellSpacing = $m341_uvMapper_padding_userInput / $divider;\n\t\t\n\t\tglobal float $m341_uvMapper_tileMargin;\n\t\t$m341_uvMapper_tileMargin = $m341_uvMapper_shellSpacing / 2;\n\t}\n\t//256\n\tif ($m341_uvMapper_MapSizeIndex == 5)\n\t{\t\n\t\tglobal float $m341_uvMapper_shellSpacing;\n\t\tglobal float $m341_uvMapper_padding_userInput;\n\t\tfloat $divider = 256;\n\t\t$m341_uvMapper_shellSpacing = $m341_uvMapper_padding_userInput / $divider;\n\t\t\n\t\tglobal float $m341_uvMapper_tileMargin;\n\t\t$m341_uvMapper_tileMargin = $m341_uvMapper_shellSpacing / 2;\n\t}\n\t//128\n\tif ($m341_uvMapper_MapSizeIndex == 6)\n\t{\t\n\t\tglobal float $m341_uvMapper_shellSpacing;\n\t\tglobal float $m341_uvMapper_padding_userInput;\n\t\tfloat $divider = 128;\n\t\t$m341_uvMapper_shellSpacing = $m341_uvMapper_padding_userInput / $divider;\n\t\t\n\t\tglobal float $m341_uvMapper_tileMargin;\n\t\t$m341_uvMapper_tileMargin = $m341_uvMapper_shellSpacing / 2;\n\t}\n\t//64\n\tif ($m341_uvMapper_MapSizeIndex == 7)\n\t{\t\n\t\tglobal float $m341_uvMapper_shellSpacing;\n\t\tglobal float $m341_uvMapper_padding_userInput;\n\t\tfloat $divider = 64;\n\t\t$m341_uvMapper_shellSpacing = $m341_uvMapper_padding_userInput / $divider;\n\t\t\n\t\tglobal float $m341_uvMapper_tileMargin;\n\t\t$m341_uvMapper_tileMargin = $m341_uvMapper_shellSpacing / 2;\n\t}\n\t//32\n\tif ($m341_uvMapper_MapSizeIndex == 8)\n\t{\t\n\t\tglobal float $m341_uvMapper_shellSpacing;\n\t\tglobal float $m341_uvMapper_padding_userInput;\n\t\tfloat $divider = 32;\n\t\t$m341_uvMapper_shellSpacing = $m341_uvMapper_padding_userInput / $divider;\n\t\t\n\t\tglobal float $m341_uvMapper_tileMargin;\n\t\t$m341_uvMapper_tileMargin = $m341_uvMapper_shellSpacing / 2;\n\t}\n\t\n\t\n\t//Print value\n\tprint(\"padding set to \" + $m341_uvMapper_padding_userInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Pack To Pivot\nglobal proc m341_uvMapper_packToPivot()\n{\n    //Switch to move tool so pivots work\n\tMoveTool;\n\tDeleteHistory;\n\t//Store shapes\n\tstring $shapes[] = `ls -sl -o`;\n\t\n\t//Check if any components selected\n\tstring $verts[] = `filterExpand -ex 1 -sm 31`;\n\tint $sizeVerts = `size $verts`;\n\tstring $edges[] = `filterExpand -ex 1 -sm 32`;\n\tint $sizeEdges = `size $edges`;\n\tstring $faces[] = `filterExpand -ex 1 -sm 34`;\n\tint $sizeFaces = `size $faces`;\n\tstring $UVs[] = `filterExpand -ex 1 -sm 35`;\n\tint $sizeUVs = `size $UVs`;\n\t\n\t//Convert to faces for object mode\n\tConvertSelectionToFaces;\n\t\n\t//Store selection\n\tstring $selection[] = `ls -sl -fl`;\n\t//Update padding float field\n\tglobal int $m341_uvMapper_MapSizeIndex;\n\tglobal float $m341_uvMapper_padding_userInput;\n\tglobal float $m341_uvMapper_shellSpacing;\n\tglobal float $m341_uvMapper_tileMargin;\n\tm341_uvMapper_padding_valueChanged();\n\n\t//Get U and V pivot location\n\tstring $getShapeName[] = `ls -o -sl`;\n\tfloat $selectionUVPivot[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\n\t//Spin\n\tglobal int $m341_uvMapper_spin_userInput;\n\t$m341_uvMapper_spin_userInput = `checkBox -q -value uvMapper_spin_checkBoxName`;\n\tif ($m341_uvMapper_spin_userInput == 1)\n\t{\n\t\ttexOrientShells;\n\t}\n\n\t//Layout tile 0-1\n\tu3dLayout -mutations 1 -resolution 512 -translate 1 -shellSpacing $m341_uvMapper_shellSpacing -tileMargin $m341_uvMapper_tileMargin -layoutScaleMode 1 -box 0 1 0 1;\n    performResetPivot;\n\n    //Get U and V pivot location\n\tfloat $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\n\n    //Calculate distance to move shells\n\tfloat $moveAmountU = $selectionUVPivot[0] - $selectionUVPivot2[0];\n\tfloat $moveAmountV = $selectionUVPivot[1] - $selectionUVPivot2[1];\n\tpolyEditUV -u $moveAmountU -v $moveAmountV;\n    performResetPivot;\n\n\t//Clean up\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\n\t//If components were selected to start switch to shell select mode\n\tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\t\n\t\n\t//select $shapes;\n\t//ConvertSelectionToFaces;\n\tselect -add $selection;\n\tDeleteHistory;\n\t\n\tglobal float $m341_uvMapper_rectanglePackV;\n\t$m341_uvMapper_rectanglePackV = 2;\n\tglobal float $m341_uvMapper_rectanglePackU;\n\t$m341_uvMapper_rectanglePackU = 2;\n\tprint \"Pack to pivot complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Layout Right\nglobal proc m341_uvMapper_layoutRight()\n{\n    //Switch to move tool so pivots work\n\tMoveTool;\n\tDeleteHistory;\n\t//Store shapes\n\tstring $shapes[] = `ls -sl -o`;\n\t\n\t//Check if any components selected\n\tstring $verts[] = `filterExpand -ex 1 -sm 31`;\n\tint $sizeVerts = `size $verts`;\n\tstring $edges[] = `filterExpand -ex 1 -sm 32`;\n\tint $sizeEdges = `size $edges`;\n\tstring $faces[] = `filterExpand -ex 1 -sm 34`;\n\tint $sizeFaces = `size $faces`;\n\tstring $UVs[] = `filterExpand -ex 1 -sm 35`;\n\tint $sizeUVs = `size $UVs`;\n\t\n\t//Convert to faces for object mode\n\tConvertSelectionToFaces;\n\t\n\t//Store selection\n\tstring $selection[] = `ls -sl -fl`;\n\t//Update padding float field\n\tglobal int $m341_uvMapper_MapSizeIndex;\n\tglobal float $m341_uvMapper_padding_userInput;\n\tglobal float $m341_uvMapper_shellSpacing;\n\tglobal float $m341_uvMapper_tileMargin;\n\tm341_uvMapper_padding_valueChanged();\n\n\n\t//Move pivot to bounding box bottom left\n\tstring $getShapeName[] = `ls -o -sl`;\n\tfloat $shellFaces[] = `polyEvaluate -boundingBoxComponent2d`;\n\t//Move pivot to bottom left corner\n\tsetAttr ($getShapeName[0] + \".uvPivot\") -type double2 $shellFaces[0] $shellFaces[2];\n\n\n\t//Get pivot to move back to\n\tfloat $selectionUVPivot[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\n\t//Spin\n\tglobal int $m341_uvMapper_spin_userInput;\n\t$m341_uvMapper_spin_userInput = `checkBox -q -value uvMapper_spin_checkBoxName`;\n\tif ($m341_uvMapper_spin_userInput == 1)\n\t{\n\t\ttexOrientShells;\n\t}\n\n\t//Layout horizontally grow\n\tglobal float $m341_uvMapper_rectanglePackU;\n\t{\n    \tu3dLayout -mutations 1 -resolution 512 -translate 1 -shellSpacing $m341_uvMapper_shellSpacing -tileMargin $m341_uvMapper_tileMargin -layoutScaleMode 1 -box 0 $m341_uvMapper_rectanglePackU 0 1;\n        performResetPivot;\n        $m341_uvMapper_rectanglePackU = $m341_uvMapper_rectanglePackU + 1;\n\t}\n\t\n\t\n\t//Move pivot to bounding box bottom left\n\t$shellFaces = `polyEvaluate -boundingBoxComponent2d`;\n\t//Move pivot to bottom left corner\n\tsetAttr ($getShapeName[0] + \".uvPivot\") -type double2 $shellFaces[0] $shellFaces[2];\n\n    //Get new pivotU and V pivot location\n\tfloat $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n    print $selectionUVPivot;\n    print $selectionUVPivot2;\n\n    //Calculate distance to move shells\n\tfloat $moveAmountU = $selectionUVPivot[0] - $selectionUVPivot2[0];\n\tfloat $moveAmountV = $selectionUVPivot[1] - $selectionUVPivot2[1];\n\tpolyEditUV -u $moveAmountU -v $moveAmountV;\n    performResetPivot;\n\n\n\t//Clean up\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\n\t//If components were selected to start switch to shell select mode\n\tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\t\n\t\n\tselect -add $selection;\n\tDeleteHistory;\n\tprint \"Layout right complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Layout Up\nglobal proc m341_uvMapper_layoutUp()\n{\n    //Switch to move tool so pivots work\n\tMoveTool;\n\tDeleteHistory;\n\t//Store shapes\n\tstring $shapes[] = `ls -sl -o`;\n\t\n\t//Check if any components selected\n\tstring $verts[] = `filterExpand -ex 1 -sm 31`;\n\tint $sizeVerts = `size $verts`;\n\tstring $edges[] = `filterExpand -ex 1 -sm 32`;\n\tint $sizeEdges = `size $edges`;\n\tstring $faces[] = `filterExpand -ex 1 -sm 34`;\n\tint $sizeFaces = `size $faces`;\n\tstring $UVs[] = `filterExpand -ex 1 -sm 35`;\n\tint $sizeUVs = `size $UVs`;\n\t\n\t//Convert to faces for object mode\n\tConvertSelectionToFaces;\n\t\n\t//Store selection\n\tstring $selection[] = `ls -sl -fl`;\n\t//Update padding float field\n\tglobal int $m341_uvMapper_MapSizeIndex;\n\tglobal float $m341_uvMapper_padding_userInput;\n\tglobal float $m341_uvMapper_shellSpacing;\n\tglobal float $m341_uvMapper_tileMargin;\n\tm341_uvMapper_padding_valueChanged();\n\t\n\n\t//Move pivot to bounding box bottom left\n\tstring $getShapeName[] = `ls -o -sl`;\n\tfloat $shellFaces[] = `polyEvaluate -boundingBoxComponent2d`;\n\t//Move pivot to bottom left corner\n\tsetAttr ($getShapeName[0] + \".uvPivot\") -type double2 $shellFaces[0] $shellFaces[2];\n\n\t//Get pivot to move back to\n\tfloat $selectionUVPivot[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\t\n\t//Spin right hack to fix Autodesk bug\n\tm341_uvMapper_spinRight();\n\n\t//Spin\n\tglobal int $m341_uvMapper_spin_userInput;\n\t$m341_uvMapper_spin_userInput = `checkBox -q -value uvMapper_spin_checkBoxName`;\n\tif ($m341_uvMapper_spin_userInput == 1)\n\t{\n\t\ttexOrientShells;\n\t}\n\n\t//Layout vertically grow\n\tglobal float $m341_uvMapper_rectanglePackV;\n\t{\n    \tu3dLayout -mutations 1 -resolution 512 -translate 1 -shellSpacing $m341_uvMapper_shellSpacing -tileMargin $m341_uvMapper_tileMargin -layoutScaleMode 1 -box 0  $m341_uvMapper_rectanglePackV 0 1;\n        performResetPivot;\n        $m341_uvMapper_rectanglePackV = $m341_uvMapper_rectanglePackV + 1;\n\t}\n\t\n\t\n\t//Move pivot to bounding box bottom left\n\t$shellFaces = `polyEvaluate -boundingBoxComponent2d`;\n\t//Move pivot to bottom left corner\n\tsetAttr ($getShapeName[0] + \".uvPivot\") -type double2 $shellFaces[0] $shellFaces[2];\n\n    //Get new pivotU and V pivot location\n\t//float $selectionUVPivot2[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\n    //Calculate distance to move shells\n\t//float $moveAmountU = $selectionUVPivot[0] - $selectionUVPivot2[0];\n\t//float $moveAmountV = $selectionUVPivot[1] - $selectionUVPivot2[1];\n\t//polyEditUV -u $moveAmountU -v $moveAmountV;\n    //performResetPivot;\n\n\t//Spin left hack to fix Autodesk bug\n\tm341_uvMapper_spinLeft();\n\t\n\t//Fix up pivots and movement\n\t//Move pivot to bottom left corner\n\t$shellFaces = `polyEvaluate -boundingBoxComponent2d`;\n\tsetAttr ($getShapeName[0] + \".uvPivot\") -type double2 $shellFaces[0] $shellFaces[2];\n\t//Get current pivot\n\tfloat $selectionUVPivot3[] = `getAttr ($getShapeName[0] + \".uvPivot\")`;\n\t\n    //Calculate distance to move shells\n\t$moveAmountU = $selectionUVPivot[0] - $selectionUVPivot3[0];\n\t$moveAmountV = $selectionUVPivot[1] - $selectionUVPivot3[1];\n\tpolyEditUV -u $moveAmountU -v $moveAmountV;\n    performResetPivot;\n\t\n\n\t//Clean up\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\tDeleteHistory;\n\n\t//If components were selected to start switch to shell select mode\n\tif ($sizeVerts > 0 || $sizeEdges > 0 || $sizeFaces > 0 || $sizeUVs > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\t\n\t\n\tselect -add $selection;\n\tDeleteHistory;\n\tprint \"Layout up complete\\n\";\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Layout UVs\nglobal proc m341_uvMapper_LayoutUVs()\n{\n\t//Update padding float field\n\tglobal int $m341_uvMapper_MapSizeIndex;\n\tglobal float $m341_uvMapper_padding_userInput;\n\tglobal float $m341_uvMapper_shellSpacing;\n\tglobal float $m341_uvMapper_tileMargin;\n\tm341_uvMapper_padding_valueChanged();\n\n  \n\tint $flip_UVMapperCheckMarkValue = `checkBox -query -value uvMapper_flip_CheckBoxName`;\n\tint $spin_UVMapperCheckMarkValue = `checkBox -query -value uvMapper_spin_checkBoxName`;\n\tint $scale_UVMapperCheckMarkValue = `checkBox -query -value uvMapper_scale_CheckBoxName`;\n\tint $move_UVMapperCheckMarkValue = `checkBox -query -value uvMapper_move_CheckBoxName`;\n\tint $keepTD_UVMapperCheckMarkValue = `checkBox -query -value uvMapper_keepTD_CheckBoxName`;\n\tint $stackSimilar_UVMapperCheckMarkValue = `checkBox -query -value uvMapper_stack_CheckBoxName`;\n\tint $all_UVMapperCheckMarkValue = `checkBox -query -value uvMapper_all_CheckBoxName`;\n\n\t//Default global values for checkboxes that get changed below if checkbox is enabled\n\tint $maUVMapperMapSizeIndex = `optionMenu -query -select uvMapper_mapSize_DropDownName`;\n\tglobal float $m341_UVMapperSpacingArray[];\n\tglobal float $m341_UVMapperBorderArray[];\n\tglobal int $m341_layoutMove;\n\t$m341_layoutMove = 0;\n\tglobal int $m341_uvMapper_layoutScale;\n\t$m341_uvMapper_layoutScale = 0;\n\tglobal int $m341_layoutKeepTD;\n\t$m341_layoutKeepTD = 2;\n\t\n\t\n\n\tstring $userSelection[] = `ls -sl -fl`;\n\tstring $originalSelection[] = `ls -sl -fl`;\n\t\n\t//If transform selected convert to UVs first\n\tstring $xformSelected[] = `ls -sl -exactType transform`;\n\tint $sizeXformSelected = `size $xformSelected`;\n\tif ($sizeXformSelected > 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\t//Change select mode to UV mask\n\t\tSelectUVMask;\n\t}\n\t\t\n\t//Query what component mode the user is in\n\t$component_Face = `selectType -q -facet`;\n\t$component_Shell = `selectType -q -meshUVShell`;\n\t$component_Vert = `selectType -q -vertex`;\n\t$component_Edge = `selectType -q -edge`;\n\t$component_UV = `selectType -q -polymeshUV`;\n\t$component_Multi = `selectType -q -meshComponents`;\n\t\n\t//Select all UVs to layout\n\tselect $originalSelection;\n\ttoggleSelMode;\n\ttoggleSelMode;\n\tselectMode -object;\n\t//Get shape now for later down below\n\tglobal string $shapeNode[];\n\t$shapeNode = `listRelatives -s`;\n\t\n\t$maUVMapperSelectedObject = `ls -sl`;\n\t//Clean up holes, lamina, invalid components\n\tpolyCleanupArgList 4 { \"0\",\"1\",\"1\",\"0\",\"0\",\"0\",\"1\",\"0\",\"0\",\"1e-05\",\"0\",\"1e-05\",\"0\",\"1e-05\",\"0\",\"-1\",\"1\",\"1\" };\n\t//Clean up non-manifold geo only\n\tpolyCleanupArgList 4 { \"0\",\"1\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"1e-05\",\"0\",\"1e-05\",\"0\",\"1e-05\",\"0\",\"1\",\"0\",\"0\" };\n\t\n\t\n\t//Layout All\n\tif ($all_UVMapperCheckMarkValue == 0)\n\t{\n\t\tConvertSelectionToUVs;\n\t\tselect $originalSelection;\n\t}\n\t//If all turned on fixes bug with stacking near bottom\n   \tConvertSelectionToUVs;\n\t$originalSelection = `ls -sl -fl`;\n\t\n\t//Flip\n\tif ($flip_UVMapperCheckMarkValue == 1)\n\t{\n\t\tpolyMultiLayoutUV -lm 0 -sc 0 -rbf 0 -fr 1 -ps 0.2 -l 0 -gu 1 -gv 1 -psc 0 -su 1 -sv 1 -ou 0 -ov 0;\n\t}\n\t\n\t//Spin\n\tif ($spin_UVMapperCheckMarkValue == 1)\n\t{\n\t\ttexOrientShells;\n\t}\n\t\n\t//Scale\n\tif ($scale_UVMapperCheckMarkValue == 1)\n\t{\n\t\tglobal int $m341_uvMapper_layoutScale;\n\t\t$m341_uvMapper_layoutScale = 3;\n\t}\n\t\n\t//Move\n\tif ($move_UVMapperCheckMarkValue == 1)\n\t{\n\t\tglobal int $m341_layoutMove;\n\t\t$m341_layoutMove = 1;\n\t}\n\t\n\t//Keep TD\n\tif ($keepTD_UVMapperCheckMarkValue == 1)\n\t{\n\t\tglobal int $m341_layoutKeepTD;\n\t\t$m341_layoutKeepTD = 1;\n\t}\n\t\n\t//Deselect grouped shells so stacking works\n\tConvertSelectionToUVs;\n\t\n\n\t\n\n\t/*\n\t//Fix for UV grouping and layout selected so it fills the 0-1 UV space\n\t$gMax = 1;\n\tif ($all_UVMapperCheckMarkValue == 0)\n\t{\n\t\tfor($i=0; $i<$m341_uvMapper_maxGroups; ++$i)\n\t\t{\n\t\t\t//select $originalSelection;\n\t\t\teval (\"select -deselect $m341_uvMapperGroup\" + $gMax + \";\");\n\t\t\t$gMax = $gMax + 1;\n\t\t}\n\t}*/\n\t\n\tglobal int $m341_uvMapper_maxGroups;\n\n\t\n\t//New\n\t//Deselect vis groups\n\tif ($stackSimilar_UVMapperCheckMarkValue == 0)\n    {\n       \n        //Deselect all vis groups\n\t    int $gMax = 1;\n    \tfor($i=0; $i<$m341_uvMapper_maxGroups; ++$i)\n\t    {\n   \t\t\teval (\"select -deselect $m341_uvMapperVis\" + $gMax + \";\");\n   \t\t\t$gMax = $gMax + 1;\n\t    }\n\n\t    //Create ungrouped UVs\n        string $ungroupedUVs[] = `ls -sl -fl`;\n\n        //Select all master groups\n\t    $gMax = 1;\n    \tfor($i=0; $i<$m341_uvMapper_maxGroups; ++$i)\n\t    {\n            eval (\"select -add $m341_uvMapperMaster\" + $gMax + \";\");\n  \t\t\t$gMax = $gMax + 1;\n\t    }\n\t    \n\t    //Add ungrouped UVs\n        select -add $ungroupedUVs;\n\t}\n   \n\n\t//Layout with options from above\n\tu3dLayout -mutations 1 -resolution 512 -preScaleMode $m341_uvMapper_layoutScale -translate $m341_layoutMove -shellSpacing $m341_uvMapper_shellSpacing -tileMargin $m341_uvMapper_tileMargin -layoutScaleMode $m341_layoutKeepTD -packBox 0 1 0 1;\n\t//u3dLayout -resolution 512 -preScaleMode $m341_uvMapper_layoutScale -translate $m341_layoutMove -shellSpacing $m341_uvMapper_shellSpacing -tileMargin $m341_uvMapper_tileMargin -layoutScaleMode 1 -packBox 0 1 0 1;\n\t\n\tselect $maUVMapperSelectedObject;\n\tm341_uvMapper_deleteHistory();\n\tConvertSelectionToUVs;\n\n\t//Check which transform tool is active\n\tstring $currentToolActive = `currentCtx`;\n\n   //Custom stacking here\n\tif ($stackSimilar_UVMapperCheckMarkValue == 0)\n\t{\n\t\t$gMax = 1;\n\t\tfor($i=0; $i<$m341_uvMapper_maxGroups; ++$i)\n\t\t{\n\t\t\t//Store pivot of packed master shell\n\t\t\tselect -clear;\n\t\t\teval (\"select $m341_uvMapperMaster\" + $gMax);\n\t\t\tMoveTool;\n\t\t\t\n\t\t\t$sizeSelection = size(`ls -sl`);\n\t\t\tif ($sizeSelection > 0)\n\t\t\t{\n\t    \t\t//Store texel density of master shell to use below to fix offset\n    \t\t\tuvTkDoGetTexelDensity;\n    \t\t\t\n    \t\t\t//Store pivot of master shell\n\t    \t\tstring $shapeNode1[] = `ls -sl -objectsOnly`;\n    \t\t\tfloat $uvPivotVal_Master1[] = `getAttr ($shapeNode1[0] + \".uvPivot\")`;\n    \t\t\t\n\t           \t//Select all vis1 and snap to master1\n\t           \teval (\"select $m341_uvMapperVis\" + $gMax);\n\t           \teval (\"select -deselect $m341_uvMapperMaster\" + $gMax);\n\n       \t\t\t\n    \t\t\t$sizeSelection = size(`ls -sl`);\n    \t\t\tif ($sizeSelection > 0)\n    \t\t\t{\n               \t\tConvertSelectionToUVs;\n        \t\t\ttexStackShells({});\n\t    \t    \t//Store pivot of all shells stacked in group\n\t\t        \tstring $shapeNode2[] = `ls -sl -objectsOnly`;\n        \t\t\tfloat $uvPivotVal_Master1All[] = `getAttr ($shapeNode2[0] + \".uvPivot\")`;\n\t\t\t\t\n    \t    \t\t//Calculate distance to move shells\n    \t    \t\tfloat $moveAmountU = $uvPivotVal_Master1[0] - $uvPivotVal_Master1All[0];\n\t        \t\tfloat $moveAmountV = $uvPivotVal_Master1[1] - $uvPivotVal_Master1All[1];\n\t\t\t\t\n    \t\t    \t//Move shells back to original location\n    \t\t\t    polyEditUV -u $moveAmountU -v $moveAmountV;\n\t    \t    \tperformResetPivot;\n\t\t    \t\t\n\t    \t    \t//Paste texel density so stacked shells are the same size\n        \t\t\tuvTkDoSetTexelDensity;        \t\t\t\n    \t\t\t}\n\t\t\t}\n    \t\t$gMax = $gMax + 1;\n\t\t}\n     \n\t\t\n\t\t//Bring back user previous active transform tool\n\t\tif(`gmatch $currentToolActive \"*selectSuperContext*\"`)\n\t\t{\n\t\t\tSelectTool;\n\t\t}\n\t\t\t\n\t\tif(`gmatch $currentToolActive \"*lassoSelectContext*\"`)\n\t\t{\n\t\t\tSelectTool;\n\t\t}\n\t\t\n\t\tif(`gmatch $currentToolActive \"*artSelectContext*\"`)\n\t\t{\n\t\t\tSelectTool;\n\t\t}\n\t\t\n\t\tif(`gmatch $currentToolActive \"*moveSuperContext*\"`)\n\t\t{\n\t\t\tMoveTool;\n\t\t}\n\t\t\n\t\tif(`gmatch $currentToolActive \"*RotateSuperContext*\"`)\n\t\t{\n\t\t\tRotateTool;\n\t\t}\n\t\t\n\t\tif(`gmatch $currentToolActive \"*scaleSuperContext*\"`)\n\t\t{\n\t\t\tScaleTool;\n\t\t}\n\t}\n\t\n\tselect $originalSelection;\n\t\n\t//Stack similar Maya default way\n\tif ($stackSimilar_UVMapperCheckMarkValue == 1)\n\t{\n\t\tstring $shells[] = `polyUVStackSimilarShells -to 0.1 -om`;\n\t\t$counter = 0;\n\t\tglobal string $m341_uvMapper_stackList;\n\t\t$m341_uvMapper_stackList = {};\n\t\tfor ($item in $shells)\n\t\t{\n\t\t\t$addTo = ($shells[$counter] + \" \");\n\t\t\tglobal string $m341_uvMapper_stackList;\n\t\t\t$m341_uvMapper_stackList = $m341_uvMapper_stackList + $addTo;\n\t\t\t$counter = $counter + 1;\n\t\t}\n\t\teval (\"u3dLayout -mutations 1 -resolution 512 -preScaleMode $m341_uvMapper_layoutScale -translate $m341_layoutMove -shellSpacing $m341_uvMapper_shellSpacing -tileMargin $m341_uvMapper_tileMargin -layoutScaleMode $m341_layoutKeepTD -box 0 1 0 1 \" + $m341_uvMapper_stackList + \";\");\n\t\tpolyUVStackSimilarShells -to 0.1;\n\t}\n\t\n\n\tselect $userSelection;\n\n\t\n\t//Bring back original component mode user was in\n\tif ($component_Face > 0)\n\t{\n\t\tSelectFacetMask;\n\t}\n\tif ($component_Shell > 0)\n\t{\n\t\tSelectMeshUVShell;\n\t}\n\tif ($component_Vert > 0)\n\t{\n\t\tSelectVertexMask;\n\t}\n\tif ($component_Edge > 0)\n\t{\n\t\tSelectEdgeMask;\n\t}\n\tif ($component_UV > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\tif ($component_Multi > 0)\n\t{\n\t\tSelectUVMask;\n\t}\n\n\tprint \"Layout complete\\n\";\n}\n\n\n//***********************************************************************************************************************************************************\n//Update map size int field Value\nglobal proc m341_uvMapper_mapSize_ValueChanged()\n{\n\t//Query the value from the int field and store it in a variable\n\tglobal int $m341_uvMapper_mapSize_UserInput;\n\t$m341_uvMapper_mapSize_UserInput = `intField -query -value uvMapper_mapSize_IntFieldName`;\n\toptionVar -intValue \"m341_uvMapper_mapSizeIntField_VarName\" $m341_uvMapper_mapSize_UserInput;\n\t\n\t//Update UV toolkit so it doesn't get out of sync with uvMapper UI\n\tintField -e -v $m341_uvMapper_mapSize_UserInput uvTkTexelDensityMapSizeField;\n\t\n\t//Print value\n\tprint(\"Map size set to \" + $m341_uvMapper_mapSize_UserInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Update pix per unit float field Value\nglobal proc m341_uvMapper_pixPerUnit_ValueChanged()\n{\n\t//Query the value from the float field and store it in a variable\n\tglobal float $m341_uvMapper_pixPerUnit_UserInput;\n\t$m341_uvMapper_pixPerUnit_UserInput = `floatField -query -value uvMapper_pixPerUnit_FloatFieldName`;\n\toptionVar -floatValue \"m341_uvMapper_pixPerUnitFloatField_VarName\" $m341_uvMapper_pixPerUnit_UserInput;\n\t\n\t//Update UV toolkit so it doesn't get out of sync with uvMapper UI\n\tfloatField -e -v $m341_uvMapper_pixPerUnit_UserInput uvTkTexelDensityField;\n\t\n\t//Print value\n\tprint(\"Pix per unit set to \" + $m341_uvMapper_pixPerUnit_UserInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//COPY TEXEL DENSITY \nglobal proc m341_uvMapper_copyTexelDensity() \n{\n\tuvTkDoGetTexelDensity;\n\t//Query the value of the MTK TD tool\n\tfloat $uvMapper_mtkTDValue = `floatField -q -v uvTkTexelDensityField`;\n\t\n\t//Update my UI with the MTK queried value\n\tfloatField -e -value $uvMapper_mtkTDValue uvMapper_pixPerUnit_FloatFieldName;\n\t\n\t//Refresh my UI and all variables and optionVars\n\tm341_uvMapper_pixPerUnit_ValueChanged();\n\t\n\tglobal float $m341_uvMapper_pixPerUnit_UserInput;\n\tprint (\"Texel density copied pixels per unit \" + $m341_uvMapper_pixPerUnit_UserInput + \"\\n\");\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n//***********************************************************************************************************************************************************\n//PASTE TEXEL DENSITY \nglobal proc m341_uvMapper_pasteTexelDensity() \n{  \n\t//Update pix per unit field first so you don't need to press enter after typing a number\n\tglobal float $m341_uvMapper_pixPerUnit_UserInput;\n\tm341_uvMapper_pixPerUnit_ValueChanged();\n\t\n\t//Update map size field first so you don't need to press enter after typing a number\n\tglobal int $m341_uvMapper_mapSize_UserInput;\n\tm341_uvMapper_mapSize_ValueChanged();\n\t\n\t//Divide map size by pix per unit to get pix per unit value that can be used in paste texel density fast trick\n\tglobal int $m341_uvMapper_mapSize_UserInput;\n\t$m341_uvMapper_pixPerUnit_UserInput = $m341_uvMapper_pixPerUnit_UserInput / $m341_uvMapper_mapSize_UserInput;\n\t//$m341_uvMapper_pixPerUnit_UserInput = $m341_uvMapper_pixPerUnit_UserInput / 2048;\n\t\n\tConvertSelectionToUVs;\n\tunfold -i 0 -ss 0.001 -gb 0 -gmb 0.5 -pub 0 -ps  0 -oa  0 -useScale on -scale $m341_uvMapper_pixPerUnit_UserInput;\n\t\n\t//Get old value from UI so print works correctly\n\tm341_uvMapper_pixPerUnit_ValueChanged();\n\t\n\t//uvTkDoSetTexelDensity;\n\tprint (\"Texel density pasted \" + \"map size \" + $m341_uvMapper_mapSize_UserInput + \" with \" + $m341_uvMapper_pixPerUnit_UserInput + \" pixels per unit\\n\");\n\t\n\t//Set focus back to main window so you can edit the object without clicking in the viewport\n\t//setFocus MayaWindow;\n}\n\n\n//***********************************************************************************************************************************************************\n//Update keep width height ratio Checkbox Value\nglobal proc m341_uvMapper_keepWidthHeightRatio_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_keepWidthHeightRatio_userInput;\n\t$m341_uvMapper_keepWidthHeightRatio_userInput = `checkBox -q -value uvMapper_keepWidthHeightRatio_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_keepWidthHeightRatioCheckBox_VarName\" $m341_uvMapper_keepWidthHeightRatio_userInput;\n\t//Print value\n\tif ($m341_uvMapper_keepWidthHeightRatio_userInput == 0)\n\t{\n\t\tprint \"Keep w/h ratio checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Keep w/h ratio checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update proj width height Checkbox Value\nglobal proc m341_uvMapper_projWidthHeight_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_projWidthHeight_userInput;\n\t$m341_uvMapper_projWidthHeight_userInput = `checkBox -q -value uvMapper_projWidthHeight_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_projWidthHeightCheckBox_VarName\" $m341_uvMapper_projWidthHeight_userInput;\n\t//Print value\n\tif ($m341_uvMapper_projWidthHeight_userInput == 0)\n\t{\n\t\tprint \"Proj w/h checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Proj w/h checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update planar proj w/h float field Value\nglobal proc m341_uvMapper_planarProjWidthHeight_ValueChanged()\n{\n\t//Query the value from the float field and store it in a variable\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t$m341_uvMapper_planarProjWidthHeight_UserInput = `floatField -query -value uvMapper_planarProjWidthHeight_FloatFieldName`;\n\toptionVar -floatValue \"m341_uvMapper_planarProjWidthHeightFloatField_VarName\" $m341_uvMapper_planarProjWidthHeight_UserInput;\n\t//Print value\n\tprint(\"Projection width/height set to \" + $m341_uvMapper_planarProjWidthHeight_UserInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Update align Checkbox Value\nglobal proc m341_uvMapper_align_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_align_userInput;\n\t$m341_uvMapper_align_userInput = `checkBox -q -value uvMapper_align_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_alignCheckBox_VarName\" $m341_uvMapper_align_userInput;\n\t//Print value\n\tif ($m341_uvMapper_align_userInput == 0)\n\t{\n\t\tprint \"Align checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Align checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update orient Checkbox Value\nglobal proc m341_uvMapper_orient_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_orient_userInput;\n\t$m341_uvMapper_orient_userInput = `checkBox -q -value uvMapper_orient_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_orientCheckBox_VarName\" $m341_uvMapper_orient_userInput;\n\t//Print value\n\tif ($m341_uvMapper_orient_userInput == 0)\n\t{\n\t\tprint \"Orient checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Orient checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update select Checkbox Value\nglobal proc m341_uvMapper_select_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_select_userInput;\n\t$m341_uvMapper_select_userInput = `checkBox -q -value uvMapper_select_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_selectCheckBox_VarName\" $m341_uvMapper_select_userInput;\n\t//Print value\n\tif ($m341_uvMapper_select_userInput == 0)\n\t{\n\t\tprint \"Select checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Select checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update find shells float field Value\nglobal proc m341_uvMapper_findShells_ValueChanged()\n{\n\t//Query the value from the float field and store it in a variable\n\tglobal float $m341_uvMapper_findShells_UserInput;\n\t$m341_uvMapper_findShells_UserInput = `floatField -query -value uvMapper_findShells_FloatFieldName`;\n\toptionVar -floatValue \"m341_uvMapper_findShellsFloatField_VarName\" $m341_uvMapper_findShells_UserInput;\n\t//Print value\n\tprint(\"Find shells < % set to \" + $m341_uvMapper_findShells_UserInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Update flip Checkbox Value\nglobal proc m341_uvMapper_flip_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_flip_userInput;\n\t$m341_uvMapper_flip_userInput = `checkBox -q -value uvMapper_flip_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_flipCheckBox_VarName\" $m341_uvMapper_flip_userInput;\n\t//Print value\n\tif ($m341_uvMapper_flip_userInput == 0)\n\t{\n\t\tprint \"Flip checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Flip checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update spin Checkbox Value\nglobal proc m341_uvMapper_spin_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_spin_userInput;\n\t$m341_uvMapper_spin_userInput = `checkBox -q -value uvMapper_spin_checkBoxName`;\n\toptionVar -intValue \"m341_uvMapper_spinCheckBox_VarName\" $m341_uvMapper_spin_userInput;\n\t//Print value\n\tif ($m341_uvMapper_spin_userInput == 0)\n\t{\n\t\tprint \"Spin checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Spin checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update scale Checkbox Value\nglobal proc m341_uvMapper_scale_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_scale_userInput;\n\t$m341_uvMapper_scale_userInput = `checkBox -q -value uvMapper_scale_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_scaleCheckBox_VarName\" $m341_uvMapper_scale_userInput;\n\t//Print value\n\tif ($m341_uvMapper_scale_userInput == 0)\n\t{\n\t\tprint \"Scale checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Scale checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update move Checkbox Value\nglobal proc m341_uvMapper_move_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_move_userInput;\n\t$m341_uvMapper_move_userInput = `checkBox -q -value uvMapper_move_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_moveCheckBox_VarName\" $m341_uvMapper_move_userInput;\n\t//Print value\n\tif ($m341_uvMapper_move_userInput == 0)\n\t{\n\t\tprint \"Move checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Move checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update keepTD Checkbox Value\nglobal proc m341_uvMapper_keepTD_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_keepTD_userInput;\n\t$m341_uvMapper_keepTD_userInput = `checkBox -q -value uvMapper_keepTD_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_keepTD_CheckBoxVarName\" $m341_uvMapper_keepTD_userInput;\n\t//Print value\n\tif ($m341_uvMapper_keepTD_userInput == 0)\n\t{\n\t\tprint \"Keep TD checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Keep TD checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update stack Checkbox Value\nglobal proc m341_uvMapper_stack_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_stack_userInput;\n\t$m341_uvMapper_stack_userInput = `checkBox -q -value uvMapper_stack_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_stackCheckBox_VarName\" $m341_uvMapper_stack_userInput;\n\t//Print value\n\tif ($m341_uvMapper_stack_userInput == 0)\n\t{\n\t\tprint \"Stack checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"Stack checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update all Checkbox Value\nglobal proc m341_uvMapper_all_ValueChanged()\n{\n\t//Query the value of the checkbox and store in variable\n\tglobal int $m341_uvMapper_all_userInput;\n\t$m341_uvMapper_all_userInput = `checkBox -q -value uvMapper_all_CheckBoxName`;\n\toptionVar -intValue \"m341_uvMapper_allCheckBox_VarName\" $m341_uvMapper_all_userInput;\n\t//Print value\n\tif ($m341_uvMapper_all_userInput == 0)\n\t{\n\t\tprint \"All checkbox off\\n\";\n\t}\n\telse\n\t{\n\t\tprint \"All checkbox on\\n\";\n\t}\n}\n\n\n//***********************************************************************************************************************************************************\n//Update map size Dropdown Value\nglobal proc m341_uvMapper_mapSizeDropDown_ValueChanged()\n{\n\t//Query the value of the dropdown menu and store in variable\n\tstring $uvMapper_mapSizeDropDown_userInput = `optionMenu -q -value uvMapper_mapSize_DropDownName`;\n\t\n\t//Convert the value from string to numbers to set correct menu item in UI\n\tif(`gmatch $uvMapper_mapSizeDropDown_userInput \"*4096*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 1;\n\t}\n\t\n\tif(`gmatch $uvMapper_mapSizeDropDown_userInput \"*2048*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 2;\n\t}\n\t\n\tif(`gmatch $uvMapper_mapSizeDropDown_userInput \"*1024*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 3;\n\t}\n\t\n\tif(`gmatch $uvMapper_mapSizeDropDown_userInput \"*512*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 4;\n\t}\n\t\n\tif(`gmatch $uvMapper_mapSizeDropDown_userInput \"*256*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 5;\n\t}\n\t\n\tif(`gmatch $uvMapper_mapSizeDropDown_userInput \"*128*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 6;\n\t}\n\t\n\tif(`gmatch $uvMapper_mapSizeDropDown_userInput \"*64*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 7;\n\t}\n\t\n\tif(`gmatch $uvMapper_mapSizeDropDown_userInput \"*32*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 8;\n\t}\n\t\n\t//Print value\n\tprint (\"Map size set to \" + $uvMapper_mapSizeDropDown_userInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Update padding Dropdown Value\nglobal proc m341_uvMapper_paddingDropDown_ValueChanged()\n{\n\t//Query the value of the dropdown menu and store in variable\n\tstring $uvMapper_paddingDropDown_userInput = `optionMenu -q -value uvMapper_padding_DropDownName`;\n\t\n\t//Convert the value from string to numbers to set correct menu item in UI\n\tif(`gmatch $uvMapper_paddingDropDown_userInput \"*32*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_paddingDropDownOptionMenu_VarName\" 1;\n\t}\n\t\n\tif(`gmatch $uvMapper_paddingDropDown_userInput \"*26*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_paddingDropDownOptionMenu_VarName\" 2;\n\t}\n\t\n\tif(`gmatch $uvMapper_paddingDropDown_userInput \"*20*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_paddingDropDownOptionMenu_VarName\" 3;\n\t}\n\t\n\tif(`gmatch $uvMapper_paddingDropDown_userInput \"*16*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_paddingDropDownOptionMenu_VarName\" 4;\n\t}\n\t\n\tif(`gmatch $uvMapper_paddingDropDown_userInput \"*12*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_paddingDropDownOptionMenu_VarName\" 5;\n\t}\n\t\n\tif(`gmatch $uvMapper_paddingDropDown_userInput \"*10*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_paddingDropDownOptionMenu_VarName\" 6;\n\t}\n\t\n\tif(`gmatch $uvMapper_paddingDropDown_userInput \"*8*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_paddingDropDownOptionMenu_VarName\" 7;\n\t}\n\t\n\tif(`gmatch $uvMapper_paddingDropDown_userInput \"*4*\"`)\n\t{\n\t\toptionVar -intValue \"m341_uvMapper_paddingDropDownOptionMenu_VarName\" 8;\n\t}\n\t\n\t//Print value\n\tprint (\"Padding set to \" + $uvMapper_paddingDropDown_userInput + \"\\n\");\n}\n\n\n//***********************************************************************************************************************************************************\n//Window and Buttons\nglobal proc m341_launchUVMapperInterface()\n{\n\tstring $mayaYear = `about -product`;\n\t\n\tglobal string $m341_uvMapperVersion;\n\t\n\t\n\t//Colours\n\tfloat $r[] = {0.698, 0.259, 0.263};\n\tfloat $g[] = {0.282, 0.675, 0.282};\n\tfloat $b[] = {0.145, 0.463, 0.737};\n\tfloat $grey[] = {0.51, 0.51, 0.51};\n\tfloat $red[] = {0.70, 0.39, 0.34};\n\tfloat $orange[] = {0.772, 0.521, 0.302};\n\tfloat $yellow[] = {0.72, 0.68, 0.39};\n\tfloat $green[] = {0.34, 0.59, 0.47};\n\tfloat $greenYellow[] = {0.50, 0.67, 0.37};\n\tfloat $blue[] = {0.32, 0.59, 0.72};\n\tfloat $seafoam[] = {0.427, 0.643, 0.643};\n\tfloat $purple[] = {0.596, 0.529, 0.769};\n\tfloat $purpleDrank[] = {0.451, 0.529, 0.78};\n\t\n\t\n\t//Unlock workspace temporarily to fix UV editor docking bug\n\tint $workSpaceLock = `optionVar -q \"workspacesLockDocking\"`;\n\toptionVar -iv workspacesLockDocking false;\n\t\n\t//Delete window\n\tif (`window -exists m341_uvMapper_toolboxName`)\n\t{\n\t\tdeleteUI m341_uvMapper_toolboxName;\n\t}\n\n\t//Launch UV Editor if it's not already loaded into memory to keep toolkit from failing\n\tif ((size(`textureWindow -query -parent polyTexturePlacementPanel1`)) == 0)\n    {\n\t    TextureViewWindow;\n\t\tdeleteUI polyTexturePlacementPanel1Window;\n\t}\n\t\n\t//Launch UV toolkit if it's closed so texel density scripts don't fail, but first launch UV Editor so toolkit doesn't fail\n\tint $checkMTKuvToolKitLoaded = `floatField -exists uvTkTexelDensityField`;\n    if ($checkMTKuvToolKitLoaded == 0)\n    {\n\t\ttoggleUVToolkit;\n\t\ttoggleUVToolkit;\n\t}\n\t\n\t//Reset uv tool kit map size using uvMapper optionVar so UV toolkit doesn't get out of sync\n\tint $uvMapper_mapSize_uvToolKitFix_intFieldValue;\n\tstring $uvMapper_mapSize_uvToolKitFix_OptionVar = `optionVar -exists \"m341_uvMapper_mapSizeIntField_VarName\"`;\n\tif ($uvMapper_mapSize_uvToolKitFix_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeIntField_VarName\" 2048;\n\t\t$uvMapper_mapSize_uvToolKitFix_intFieldValue = `optionVar -q \"m341_uvMapper_mapSizeIntField_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_mapSize_uvToolKitFix_intFieldValue = `optionVar -q \"m341_uvMapper_mapSizeIntField_VarName\"`;\n\t}\n\tintField -e -v $uvMapper_mapSize_uvToolKitFix_intFieldValue uvTkTexelDensityMapSizeField;\n\t\n\t\n\t//Reset uv tool kit pix per unit using uvMapper optionVar so UV toolkit doesn't get out of sync\n\tfloat $uvMapper_pixPerUnit_uvToolKitFix_floatFieldValue;\n\tstring $uvMapper_pixPerUnit_uvToolKitFix_OptionVar = `optionVar -exists \"m341_uvMapper_pixPerUnitFloatField_VarName\"`;\n\tif ($uvMapper_pixPerUnit_uvToolKitFix_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -floatValue \"m341_uvMapper_pixPerUnitFloatField_VarName\" 5.12;\n\t\t$uvMapper_pixPerUnit_uvToolKitFix_floatFieldValue = `optionVar -q \"m341_uvMapper_pixPerUnitFloatField_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_pixPerUnit_uvToolKitFix_floatFieldValue = `optionVar -q \"m341_uvMapper_pixPerUnitFloatField_VarName\"`;\n\t}\n\tfloatField -e -v $uvMapper_pixPerUnit_uvToolKitFix_floatFieldValue uvTkTexelDensityField;\n\t\n\t\n\t//Change to zero to load without texture editor\n\t//int $m341_uvMapper_yes_textureEditor = 1;\n\tglobal int $m341_uvMapper_yes_textureEditor;\n\t$m341_uvMapper_yes_textureEditor = `optionVar -q \"m341_uvMapper_loadWithUVEditorCheckBox_VarName\"`;\n\t\n\tif ($m341_uvMapper_yes_textureEditor == 1)\n\t{\n\t\t//Yes texture editor\n\t\tTextureViewWindow;\n\t\twindow -parent \"polyTexturePlacementPanel1Window\" -title $m341_uvMapperVersion -toolbox true -sizeable true -resizeToFitChildren true -closeCommand \"m341_uvMapper_dimmingPref();\" m341_uvMapper_toolboxName;\t\n\t}\n\t\n\telse\n\t{\n\t\t//No texture editor\n\t\t//workspaceControl -edit -close polyTexturePlacementPanel1Window;\n\t\twindow -title $m341_uvMapperVersion -toolbox true -sizeable true -resizeToFitChildren true -closeCommand \"m341_uvMapper_dimmingPref();\" m341_uvMapper_toolboxName;\t\n\t}\n\t\n\t//Set work space lock back to what it was before UV editor was opened\n\toptionVar -iv workspacesLockDocking $workSpaceLock;\n\n\tcolumnLayout -adjustableColumn true;\n\ttext -label \"by Malcolm341\";\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-labelOffset 30\n\t\t-label \"click for help\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 82\n\t\t-height 15\n\t\t-command \"m341_uvMapper_help;\";\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-labelOffset 30\n\t\t-label \"reset\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 41\n\t\t-height 15\n\t\t-command \"m341_uvMapper_reset;\";\n\n\n\t//Save preferences on top UV editor checkbox\n\tint $uvMapper_loadWithUVEditor_checkBoxValue;\n\tglobal int $m341_uvMapper_loadWithUVEditor_userInput;\n\tstring $uvMapper_loadWithUVEditor_OptionVar = `optionVar -exists \"m341_uvMapper_loadWithUVEditorCheckBox_VarName\"`;\n\tif ($uvMapper_loadWithUVEditor_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_loadWithUVEditorCheckBox_VarName\" 1;\n\t\t$uvMapper_loadWithUVEditor_checkBoxValue = `optionVar -q \"m341_uvMapper_loadWithUVEditorCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_loadWithUVEditor_checkBoxValue = `optionVar -q \"m341_uvMapper_loadWithUVEditorCheckBox_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -height 15;\n\tcheckBox -label \"\" -value $uvMapper_loadWithUVEditor_checkBoxValue -changeCommand \"m341_uvMapper_loadWithUVEditor_ValueChanged();\" uvMapper_loadWithUVEditor_CheckBoxName;\n\ttext -label \" on top of UV editor\";\t\n\n\n\t//Save preferences dimming checkbox\n\tint $uvMapper_imageDimming_checkBoxValue;\n\tglobal int $m341_uvMapper_imageDimming_userInput;\n\tstring $uvMapper_imageDimming_optionVar = `optionVar -exists \"m341_uvMapper_imageDimmingCheckBox_varName\"`;\n\tif ($uvMapper_imageDimming_optionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_imageDimmingCheckBox_varName\" 0;\n\t\t$uvMapper_imageDimming_checkBoxValue = `optionVar -q \"m341_uvMapper_imageDimmingCheckBox_varName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_imageDimming_checkBoxValue = `optionVar -q \"m341_uvMapper_imageDimmingCheckBox_varName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1;\n\tcheckBox -label \"\" -value $uvMapper_imageDimming_checkBoxValue -changeCommand \"m341_uvMapper_imageDimming_valueChanged();\" uvMapper_imageDimming_checkBoxName;\n\ttext -label \" image dimming\";\t\n\n\n\t//Query the optionVar\n\t$uvMapper_imageDimming_AmountValue = `optionVar -q \"m341_uvMapper_imageDimmingAmount_varName\"`;\n\t//Turn on image dimming if the checkbox is enabled\n\t$m341_uvMapper_imageDimming_userInput = `checkBox -q -value uvMapper_imageDimming_checkBoxName`;\n\tif ($m341_uvMapper_imageDimming_userInput == 1)\n\t{\n\t\tstring $currentMayaYear = `about -product`;\n\t\tif(`gmatch $currentMayaYear \"*202*\"`)\n\t\t{\n\t\t\t//DIM IMAGE 2020\n\t\t\ttextureWindowImageDimming(1,1);\n\t\t\ttextureWindow -edit -ibc $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue polyTexturePlacementPanel1;\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2019*\"`)\n\t\t{\n\t\t\t//DIM IMAGE 2019\n\t\t\ttextureWindowImageDimming(1,1);\n\t\t\ttextureWindow -edit -ibc $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue polyTexturePlacementPanel1;\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2018*\"`)\n\t\t{\n\t\t\t//DIM IMAGE 2018\n\t\t\ttextureWindow -e -imageDim 1 polyTexturePlacementPanel1;\n\t\t\tperformTextureViewDimImageOptions 0;\n\t\t\ttextureWindow -edit -ibc $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue polyTexturePlacementPanel1;\n\t\t}\n\t\tif(`gmatch $currentMayaYear \"*2017*\"`)\n\t\t{\n\t\t\t//DIM IMAGE 2017\n\t\t\ttextureWindow -e -imageDim 1 polyTexturePlacementPanel1;\n\t\t\tperformTextureViewDimImageOptions 0;\n\t\t\ttextureWindow -edit -ibc $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue $uvMapper_imageDimming_AmountValue polyTexturePlacementPanel1;\n\t\t}\n\t}\t\n\n\t\n\t\t\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"checker map\"\n\t\t-backgroundColor 0.427 0.643 0.643\n\t\t-width 74\n\t\t-command \"m341_uvMapper_toggleChecker;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"+\"\n\t\t-backgroundColor 0.427 0.643 0.643\n\t\t-width 24\n\t\t-command \"m341_uvMapper_checkerUp;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"-\"\n\t\t-backgroundColor 0.427 0.643 0.643\n\t\t-width 24\n\t\t-command \"m341_uvMapper_checkerDown;\"\n\t\t-commandRepeatable 1;\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"UV shaded\"\n\t\t-backgroundColor 0.427 0.643 0.643\n\t\t-width 62\n\t\t-height 16\n\t\t-command \"m341_uvMapper_toggleShaded;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"UV border\"\n\t\t-backgroundColor 0.427 0.643 0.643\n\t\t-width 61\n\t\t-height 16\n\t\t-command \"m341_uvMapper_toggleBorder;\"\n\t\t-commandRepeatable 1;\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"show mesh edges\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 124\n\t\t-height 19\n\t\t-command \"m341_uvMapper_showMeshEdges;\"\n\t\t-commandRepeatable 1;\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ttext -height 11 -label \"UV Editor HUD\";\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"tile lines\"\n\t\t-backgroundColor 0.32 0.59 0.72\n\t\t-width 61\n\t\t-height 17\n\t\t-command \"m341_uvMapper_tileLines;\"\n\t\t-commandRepeatable 0;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"tile labels\"\n\t\t-backgroundColor 0.32 0.59 0.72\n\t\t-width 62\n\t\t-height 17\n\t\t-command \"m341_uvMapper_tileLabels;\"\n\t\t-commandRepeatable 0;\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"% used\"\n\t\t-backgroundColor 0.32 0.59 0.72\n\t\t-width 61\n\t\t-height 16\n\t\t-command \"m341_uvMapper_uvSpaceUsed;\"\n\t\t-commandRepeatable 0;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"#shells\"\n\t\t-backgroundColor 0.32 0.59 0.72\n\t\t-width 62\n\t\t-height 16\n\t\t-command \"m341_uvMapper_shellCount;\"\n\t\t-commandRepeatable 0;\n\n\t\n\t//Save preferences keep w/h ratio checkbox\n\tint $uvMapper_keepWidthHeightRatio_checkBoxValue;\n\tglobal int $m341_uvMapper_keepWidthHeightRatio_userInput;\n\tstring $uvMapper_keepWidthHeightRatio_OptionVar = `optionVar -exists \"m341_uvMapper_keepWidthHeightRatioCheckBox_VarName\"`;\n\tif ($uvMapper_keepWidthHeightRatio_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_keepWidthHeightRatioCheckBox_VarName\" 1;\n\t\t$uvMapper_keepWidthHeightRatio_checkBoxValue = `optionVar -q \"m341_uvMapper_keepWidthHeightRatioCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_keepWidthHeightRatio_checkBoxValue = `optionVar -q \"m341_uvMapper_keepWidthHeightRatioCheckBox_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -height 14;\n\tcheckBox -label \"\" -value $uvMapper_keepWidthHeightRatio_checkBoxValue -changeCommand \"m341_uvMapper_keepWidthHeightRatio_ValueChanged();\" uvMapper_keepWidthHeightRatio_CheckBoxName;\n\ttext -label \" keep w/h ratio\";\n\t\n\t\n\t//Save preferences proj w/h checkbox\n\tint $uvMapper_projWidthHeight_checkBoxValue;\n\tglobal int $m341_uvMapper_projWidthHeight_userInput;\n\tstring $uvMapper_projWidthHeight_OptionVar = `optionVar -exists \"m341_uvMapper_projWidthHeightCheckBox_VarName\"`;\n\tif ($uvMapper_projWidthHeight_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_projWidthHeightCheckBox_VarName\" 1;\n\t\t$uvMapper_projWidthHeight_checkBoxValue = `optionVar -q \"m341_uvMapper_projWidthHeightCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_projWidthHeight_checkBoxValue = `optionVar -q \"m341_uvMapper_projWidthHeightCheckBox_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1;\n\tcheckBox -label \"\" -height 15 -value $uvMapper_projWidthHeight_checkBoxValue -changeCommand \"m341_uvMapper_projWidthHeight_ValueChanged();\" uvMapper_projWidthHeight_CheckBoxName;\n\ttext -label \" proj w/h  \";\n\t\n\t\n\t//Save preferences planar proj w/h float field\n\tfloat $uvMapper_planarProjWidthHeight_floatFieldValue;\n\tglobal float $m341_uvMapper_planarProjWidthHeight_UserInput;\n\tstring $uvMapper_planarProjWidthHeight_OptionVar = `optionVar -exists \"m341_uvMapper_planarProjWidthHeightFloatField_VarName\"`;\n\tif ($uvMapper_planarProjWidthHeight_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -floatValue \"m341_uvMapper_planarProjWidthHeightFloatField_VarName\" 400;\n\t\t$uvMapper_planarProjWidthHeight_floatFieldValue = `optionVar -q \"m341_uvMapper_planarProjWidthHeightFloatField_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_planarProjWidthHeight_floatFieldValue = `optionVar -q \"m341_uvMapper_planarProjWidthHeightFloatField_VarName\"`;\n\t}\n\t//Fix keyboard focus\n\tif(`gmatch $mayaYear \"*2017*\"`)\n\t{\n\t\tfloatField -value $uvMapper_planarProjWidthHeight_floatFieldValue -pre 4 -width 58 -height 17 -changeCommand \"m341_uvMapper_planarProjWidthHeight_ValueChanged();\" uvMapper_planarProjWidthHeight_FloatFieldName;\t\n\t}\n\telse\n\t{\n\t\tfloatField -enableKeyboardFocus 0 -value $uvMapper_planarProjWidthHeight_floatFieldValue -pre 4 -width 58 -height 17 -changeCommand \"m341_uvMapper_planarProjWidthHeight_ValueChanged();\" uvMapper_planarProjWidthHeight_FloatFieldName;\t\n\t}\n\t\n\t//setParent ..;\n\t//rowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t//text -label \"           Planar Map\";\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"map X\"\n\t\t-backgroundColor 0.698 0.259 0.263\n\t\t-width 41\n\t\t-height 26\n\t\t-command \"m341_uvMapper_planarMapX;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"map Y\"\n\t\t-backgroundColor 0.282 0.675 0.282\n\t\t-width 41\n\t\t-height 26\n\t\t-command \"m341_uvMapper_planarMapY;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"map Z\"\n\t\t-backgroundColor 0.145 0.463 0.737\n\t\t-width 40\n\t\t-height 26\n\t\t-command \"m341_uvMapper_planarMapZ;\"\n\t\t-commandRepeatable 1;\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"cam\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 30\n\t\t//-height 21\n\t\t-command \"m341_uvMapper_planarMapCamera;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"automatic\"\n\t\t-backgroundColor 0.772 0.521 0.302\n\t\t-width 62\n\t\t//-height 21\n\t\t-command \"m341_uvMapper_automaticMap;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"best\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 30\n\t\t//-height 21\n\t\t-command \"m341_uvMapper_planarMapBestPlane;\"\n\t\t-commandRepeatable 1;\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"grid UVs\"\n\t\t-backgroundColor 0.596 0.529 0.769\n\t\t-width 62\n\t\t//-height 21\n\t\t-command \"m341_gridUVs;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"rec UVs\"\n\t\t-backgroundColor 0.596 0.529 0.769\n\t\t-width 61\n\t\t//-height 21\n\t\t-command \"m341_rectangularizeUVs;\"\n\t\t-commandRepeatable 1;\n\n\n\t//Save preferences align checkbox\n\tint $uvMapper_align_checkBoxValue;\n\tglobal int $m341_uvMapper_align_userInput;\n\tstring $uvMapper_align_OptionVar = `optionVar -exists \"m341_uvMapper_alignCheckBox_VarName\"`;\n\tif ($uvMapper_align_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_alignCheckBox_VarName\" 0;\n\t\t$uvMapper_align_checkBoxValue = `optionVar -q \"m341_uvMapper_alignCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_align_checkBoxValue = `optionVar -q \"m341_uvMapper_alignCheckBox_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1;\n\ttext -label \"  Move Shells   \";\n\tcheckBox -label \"\" -value $uvMapper_align_checkBoxValue -changeCommand \"m341_uvMapper_align_ValueChanged();\" uvMapper_align_CheckBoxName;\n\ttext -label \" align\";\n\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"spin\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 40\n\t\t-height 20\n\t\t-command \"m341_uvMapper_spinLeft;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"up\"\n\t\t-backgroundColor 0.451 0.529 0.78\n\t\t-width 42\n\t\t-height 20\n\t\t-command \"m341_uvMapper_moveUVUp;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"spin\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 40\n\t\t-height 20\n\t\t-command \"m341_uvMapper_spinRight;\"\n\t\t-commandRepeatable 1;\t\t\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"left\"\n\t\t-backgroundColor 0.451 0.529 0.78\n\t\t-width 40\n\t\t-height 20\n\t\t-command \"m341_uvMapper_moveUVLeft;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"down\"\n\t\t-backgroundColor 0.451 0.529 0.78\n\t\t-width 42\n\t\t-height 20\n\t\t-command \"m341_uvMapper_moveUVDown;\"\n\t\t-commandRepeatable 1;\t\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"right\"\n\t\t-backgroundColor 0.451 0.529 0.78\n\t\t-width 40\n\t\t-height 20\n\t\t-command \"m341_uvMapper_moveUVRight;\"\n\t\t-commandRepeatable 1;\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"stack\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 54\n\t\t-height 18\n\t\t-command \"m341_uvMapper_stackShells;\"\n\t\t-commandRepeatable 1;\t\t\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"flipU\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 34\n\t\t-height 18\n\t\t-command \"m341_uvMapper_flipU;\"\n\t\t-commandRepeatable 1;\t\t\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"flipV\"\n\t\t-backgroundColor $blue[0] $blue[1] $blue[2]\n\t\t-width 34\n\t\t-height 18\n\t\t-command \"m341_uvMapper_flipV;\"\n\t\t-commandRepeatable 1;\t\t\n\n\n\n\t//Save preferences orient checkbox\n\tint $uvMapper_orient_checkBoxValue;\n\tglobal int $m341_uvMapper_orient_userInput;\n\tstring $uvMapper_orient_OptionVar = `optionVar -exists \"m341_uvMapper_orientCheckBox_VarName\"`;\n\tif ($uvMapper_orient_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_orientCheckBox_VarName\" 0;\n\t\t$uvMapper_orient_checkBoxValue = `optionVar -q \"m341_uvMapper_orientCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_orient_checkBoxValue = `optionVar -q \"m341_uvMapper_orientCheckBox_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1;\n\ttext -label \"  Unfold UVs  \";\n\tcheckBox -label \"\" -value $uvMapper_orient_checkBoxValue -changeCommand \"m341_uvMapper_orient_ValueChanged();\" uvMapper_orient_CheckBoxName;\n\ttext -label \" orient\";\t\n\n\t\n\tsetParent ..;\t\t\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"UV\"\n\t\t-backgroundColor 0.34 0.59 0.47\n\t\t-width 42\n\t\t-command \"m341_uvMapper_unfoldUVs;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"U\"\n\t\t-backgroundColor 0.34 0.59 0.47\n\t\t-width 40\n\t\t-command \"m341_uvMapper_unfoldU;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"V\"\n\t\t-backgroundColor 0.34 0.59 0.47\n\t\t-width 40\n\t\t-command \"m341_uvMapper_unfoldV;\"\n\t\t-commandRepeatable 1;\n\t\t\n\t//setParent ..;\n\t//rowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t//text -height 13 -label \"         Optimize UVs       \";\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"opt 0\"\n\t\t-backgroundColor 0.34 0.59 0.47\n\t\t-width 42\n\t\t-height 19\n\t\t-command \"m341_uvMapper_optimizeUVs_zero;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"opt .5\"\n\t\t-backgroundColor 0.34 0.59 0.47\n\t\t-width 40\n\t\t-height 19\n\t\t-command \"m341_uvMapper_optimizeUVs_pointFive;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"opt 1\"\n\t\t-backgroundColor 0.34 0.59 0.47\n\t\t-width 40\n\t\t-height 19\n\t\t-command \"m341_uvMapper_optimizeUVs_one;\"\n\t\t-commandRepeatable 1;\n\t\n\tsetParent ..;\n\ttext -label \"Straighten UVs\";\n\t\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"UV\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 34\n\t\t-height 21\n\t\t-command \"m341_uvMapper_straightenUV;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"shell\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 33\n\t\t-height 21\n\t\t-command \"m341_uvMapper_straightenShell;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\t\t\t\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"U\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 27\n\t\t-height 21\n\t\t-command \"m341_uvMapper_straightenU;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"V\"\n\t\t-width 27\n\t\t-height 21\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-command \"m341_uvMapper_straightenV;\"\n\t\t-commandRepeatable 1;\t\t\n\t\n\t//setParent ..;\n\t//rowColumnLayout -numberOfRows 1 -adjustableColumn 1;\t\t\n\t//iconTextButton -style \"textOnly\"\n\t\t//-label \"symmetry U\"\n\t\t//-backgroundColor 0.51 0.51 0.51\n\t\t//-width 61\n\t\t//-command \"m341_uvMapper_symmetryU;\"\n\t\t//-commandRepeatable 1;\n\t\t//separator -width 1 -style \"none\";\n\t\t\n\t\t//iconTextButton -style \"textOnly\"\n\t\t//-label \"symmetry V\"\n\t\t//-backgroundColor 0.51 0.51 0.51\n\t\t//-width 62\n\t\t//-command \"m341_uvMapper_symmetryV;\"\n\t\t//-commandRepeatable 1;\n\t\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ttext -height 10 -label \"Orient Shells To\";\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"X\"\n\t\t-backgroundColor 0.698 0.259 0.263\n\t\t-width 22\n\t\t-height 20\n\t\t-command \"m341_uvMapper_orientX;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"Y\"\n\t\t-backgroundColor 0.282 0.675 0.282\n\t\t-width 22\n\t\t-height 20\n\t\t-command \"m341_uvMapper_orientY;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"Z\"\n\t\t-backgroundColor 0.145 0.463 0.737\n\t\t-width 22\n\t\t-height 20\n\t\t-command \"m341_uvMapper_orientZ;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"edge/UVs\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 55\n\t\t-height 20\n\t\t-command \"m341_uvMapper_orientShells;\"\n\t\t-commandRepeatable 1;\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"horizontal\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 62\n\t\t-height 18\n\t\t-command \"m341_uvMapper_orientH;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"vertical\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 61\n\t\t-height 18\n\t\t-command \"m341_uvMapper_orientV;\"\n\t\t-commandRepeatable 1;\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"gather\"\n\t\t-backgroundColor 0.451 0.529 0.78\n\t\t-width 62\n\t\t-height 20\n\t\t-command \"m341_uvMapper_gather;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"ungather\"\n\t\t-backgroundColor 0.451 0.529 0.78\n\t\t-width 61\n\t\t-height 20\n\t\t-command \"m341_uvMapper_ungather;\"\n\t\t-commandRepeatable 1;\t\t\n\t\n\tsetParent ..;\n\ttext -height 12 -label \"Transfer UVs From\";\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"mesh\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 61\n\t\t-height 19\n\t\t-command \"m341_uvMapper_transferUVMesh;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"group\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 62\n\t\t-height 19\n\t\t-command \"m341_uvMapper_transferUVGroup;\"\n\t\t-commandRepeatable 1;\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"measure\"\n\t\t-backgroundColor 0.32 0.59 0.72\n\t\t-width 52\n\t\t-command \"m341_uvMapper_measure;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"group shells\"\n\t\t-backgroundColor $purple[0] $purple[1] $purple[2]\n\t\t-width 71\n\t\t-command \"m341_uvMapper_launchUVGrouperInterface;\"\n\t\t-commandRepeatable 0;\n\t\t\n\tsetParent ..;\t\t\t\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-labelOffset 30\n\t\t-label \"find shells < %\"\n\t\t-backgroundColor 0.51 0.51 0.51\n\t\t-width 82\n\t\t-height 19\n\t\t-command \"m341_uvMapper_findShells;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\t\n\t//Save preferences find shells float field\n\tfloat $uvMapper_findShells_floatFieldValue;\n\tglobal float $m341_uvMapper_findShells_UserInput;\n\tstring $uvMapper_findShells_OptionVar = `optionVar -exists \"m341_uvMapper_findShellsFloatField_VarName\"`;\n\tif ($uvMapper_findShells_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -floatValue \"m341_uvMapper_findShellsFloatField_VarName\" 5;\n\t\t$uvMapper_findShells_floatFieldValue = `optionVar -q \"m341_uvMapper_findShellsFloatField_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_findShells_floatFieldValue = `optionVar -q \"m341_uvMapper_findShellsFloatField_VarName\"`;\n\t}\n    //Fix keyboard focus\n\tif(`gmatch $mayaYear \"*2017*\"`)\n\t{\n\t\tfloatField -value $uvMapper_findShells_floatFieldValue -minValue -0 -maxValue 1000 -pre 3 -width 41 -height 19 -changeCommand \"m341_uvMapper_findShells;\" uvMapper_findShells_FloatFieldName;\n\t}\n\telse\n\t{\n\t\tfloatField -enableKeyboardFocus 0 -value $uvMapper_findShells_floatFieldValue -minValue -0 -maxValue 1000 -pre 3 -width 41 -height 19 -changeCommand \"m341_uvMapper_findShells;\" uvMapper_findShells_FloatFieldName;\n\t}\n\t\n\n\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"pack selected to pivot\"\n\t\t-backgroundColor 0.50 0.67 0.37\n\t\t-width 124\n\t\t-command \"m341_uvMapper_packToPivot;\"\n\t\t-commandRepeatable 1;\n\t\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"layout up\"\n\t\t-backgroundColor 0.50 0.67 0.37\n\t\t-width 55\n\t\t-command \"m341_uvMapper_layoutUp;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"layout right\"\n\t\t-backgroundColor 0.50 0.67 0.37\n\t\t-width 68\n\t\t-command \"m341_uvMapper_layoutRight;\"\n\t\t-commandRepeatable 1;\n\n\n\n\t//Save preferences flip checkbox\n\tint $uvMapper_flip_checkBoxValue;\n\tglobal int $m341_uvMapper_flip_userInput;\n\tstring $uvMapper_flip_OptionVar = `optionVar -exists \"m341_uvMapper_flipCheckBox_VarName\"`;\n\tif ($uvMapper_flip_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_flipCheckBox_VarName\" 1;\n\t\t$uvMapper_flip_checkBoxValue = `optionVar -q \"m341_uvMapper_flipCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_flip_checkBoxValue = `optionVar -q \"m341_uvMapper_flipCheckBox_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -height 15;\n\tcheckBox -label \"\" -value $uvMapper_flip_checkBoxValue -changeCommand \"m341_uvMapper_flip_ValueChanged();\" uvMapper_flip_CheckBoxName;\n\ttext -label \" flip  \";\n\n\n\t//Save preferences spin checkbox\n\tint $uvMapper_spin_checkBoxValue;\n\tglobal int $m341_uvMapper_spin_userInput;\n\tstring $uvMapper_spin_OptionVar = `optionVar -exists \"m341_uvMapper_spinCheckBox_VarName\"`;\n\tif ($uvMapper_spin_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_spinCheckBox_VarName\" 1;\n\t\t$uvMapper_spin_checkBoxValue = `optionVar -q \"m341_uvMapper_spinCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_spin_checkBoxValue = `optionVar -q \"m341_uvMapper_spinCheckBox_VarName\"`;\n\t}\n\tcheckBox -label \"\" -value $uvMapper_spin_checkBoxValue -changeCommand \"m341_uvMapper_spin_ValueChanged();\" uvMapper_spin_checkBoxName;\n\ttext -label \" spin \";\n\t\n\t\n\t//Save preferences scale checkbox\n\tint $uvMapper_scale_checkBoxValue;\n\tglobal int $m341_uvMapper_scale_userInput;\n\tstring $uvMapper_scale_OptionVar = `optionVar -exists \"m341_uvMapper_scaleCheckBox_VarName\"`;\n\tif ($uvMapper_scale_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_scaleCheckBox_VarName\" 1;\n\t\t$uvMapper_scale_checkBoxValue = `optionVar -q \"m341_uvMapper_scaleCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_scale_checkBoxValue = `optionVar -q \"m341_uvMapper_scaleCheckBox_VarName\"`;\n\t}\n\tcheckBox -label \"\" -value $uvMapper_scale_checkBoxValue -changeCommand \"m341_uvMapper_scale_ValueChanged();\" uvMapper_scale_CheckBoxName;\n\ttext -label \" scale\";\n\n\n\n\t//Save preferences move checkbox\n\tint $uvMapper_move_checkBoxValue;\n\tglobal int $m341_uvMapper_move_userInput;\n\tstring $uvMapper_move_OptionVar = `optionVar -exists \"m341_uvMapper_moveCheckBox_VarName\"`;\n\tif ($uvMapper_move_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_moveCheckBox_VarName\" 1;\n\t\t$uvMapper_move_checkBoxValue = `optionVar -q \"m341_uvMapper_moveCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_move_checkBoxValue = `optionVar -q \"m341_uvMapper_moveCheckBox_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -height 15;\n\tcheckBox -label \"\" -value $uvMapper_move_checkBoxValue -changeCommand \"m341_uvMapper_move_ValueChanged();\" uvMapper_move_CheckBoxName;\n\ttext -label \" move  \";\n\n\t\n\t//Save preferences all checkbox\n\tint $uvMapper_all_checkBoxValue;\n\tglobal int $m341_uvMapper_all_userInput;\n\tstring $uvMapper_all_OptionVar = `optionVar -exists \"m341_uvMapper_allCheckBox_VarName\"`;\n\tif ($uvMapper_all_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_allCheckBox_VarName\" 1;\n\t\t$uvMapper_all_checkBoxValue = `optionVar -q \"m341_uvMapper_allCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_all_checkBoxValue = `optionVar -q \"m341_uvMapper_allCheckBox_VarName\"`;\n\t}\n\tcheckBox -label \"\" -value $uvMapper_all_checkBoxValue -changeCommand \"m341_uvMapper_all_ValueChanged();\" uvMapper_all_CheckBoxName;\n\ttext -label \" layout all\";\n\t\n\t\n\t//Save preferences keep TD checkbox\n\tint $uvMapper_keepTD_checkBoxValue;\n\tglobal int $m341_uvMapper_keepTD_userInput;\n\tstring $uvMapper_keepTD_OptionVar = `optionVar -exists \"m341_uvMapper_keepTD_CheckBoxVarName\"`;\n\tif ($uvMapper_keepTD_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_keepTD_CheckBoxVarName\" 0;\n\t\t$uvMapper_keepTD_checkBoxValue = `optionVar -q \"m341_uvMapper_keepTD_CheckBoxVarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_keepTD_checkBoxValue = `optionVar -q \"m341_uvMapper_keepTD_CheckBoxVarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -height 15;\n\tcheckBox -label \"\" -value $uvMapper_keepTD_checkBoxValue -changeCommand \"m341_uvMapper_keepTD_ValueChanged();\" uvMapper_keepTD_CheckBoxName;\n\ttext -label \" keep TD       \";\n\t\n\t\n\t//Save preferences stack checkbox\n\tint $uvMapper_stack_checkBoxValue;\n\tglobal int $m341_uvMapper_stack_userInput;\n\tstring $uvMapper_stack_OptionVar = `optionVar -exists \"m341_uvMapper_stackCheckBox_VarName\"`;\n\tif ($uvMapper_stack_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_stackCheckBox_VarName\" 0;\n\t\t$uvMapper_stack_checkBoxValue = `optionVar -q \"m341_uvMapper_stackCheckBox_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_stack_checkBoxValue = `optionVar -q \"m341_uvMapper_stackCheckBox_VarName\"`;\n\t}\n\tcheckBox -label \"\" -value $uvMapper_stack_checkBoxValue -changeCommand \"m341_uvMapper_stack_ValueChanged();\" uvMapper_stack_CheckBoxName;\n\ttext -label \" stack\";\n\t\n\n\t//Save preferences map size dropdown\n\tint $uvMapper_mapSizeDropDown_OptionMenuValue;\n\tstring $uvMapper_mapSizeDropDown_OptionVar = `optionVar -exists \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\"`;\n\tif ($uvMapper_mapSizeDropDown_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\" 2;\n\t\t$uvMapper_mapSizeDropDown_OptionMenuValue = `optionVar -q \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_mapSizeDropDown_OptionMenuValue = `optionVar -q \"m341_uvMapper_mapSizeDropDownOptionMenu_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t\toptionMenu -height 19 -label \" map size\" -changeCommand \"m341_uvMapper_mapSizeDropDown_ValueChanged;\" uvMapper_mapSize_DropDownName;\n\t\tmenuItem -label \"4096\";\n\t\tmenuItem -label \"2048\";\n\t\tmenuItem -label \"1024\";\n\t\tmenuItem -label \"512\";\n\t\tmenuItem -label \"256\";\n\t\tmenuItem -label \"128\";\n\t\tmenuItem -label \"64\";\n\t\tmenuItem -label \"32\";\n\t\toptionMenu -edit -select $uvMapper_mapSizeDropDown_OptionMenuValue uvMapper_mapSize_DropDownName;\n\n\n\t//Save preferences padding float field\n\tfloat $padding_floatFieldValue;\n\tglobal float $m341_uvMapper_padding_userInput;\n\tstring $padding_OptionVar = `optionVar -exists \"m341_uvMapper_paddingFloatField_varName\"`;\n\tif ($padding_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -floatValue \"m341_uvMapper_paddingFloatField_varName\" 8;\n\t\t$padding_floatFieldValue = `optionVar -q \"m341_uvMapper_paddingFloatField_varName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$padding_floatFieldValue = `optionVar -q \"m341_uvMapper_paddingFloatField_varName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 2;\n\ttext -label \" padding  \" -height 19;\n\t//Fix keyboard focus\n\tif(`gmatch $mayaYear \"*2017*\"`)\n\t{\n\t\tfloatField -value $padding_floatFieldValue -min 1 -max 512 -pre 4 -width 71 -height 19 -changeCommand \"m341_uvMapper_padding_valueChanged();\" uvMapper_padding_floatFieldName;\t\n\t}\n\telse\n\t{\n\t\tfloatField -enableKeyboardFocus 0 -value $padding_floatFieldValue -min 1 -max 512 -pre 4 -width 71 -height 19 -changeCommand \"m341_uvMapper_padding_valueChanged();\" uvMapper_padding_floatFieldName;\t\n\t}\n\t\n\t\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"layout UVs\"\n\t\t-backgroundColor 0.72 0.68 0.39\n\t\t-width 124\n\t\t-command \"m341_uvMapper_LayoutUVs;\"\n\t\t-commandRepeatable 1;\t\t\n\t\n\tsetParent ..;\t\t\n\ttext -label \"Texel Density\";\n\t\n\t//Save preferences map size int field\n\tint $uvMapper_mapSize_intFieldValue;\n\tglobal int $m341_uvMapper_mapSize_UserInput;\n\tstring $uvMapper_mapSize_OptionVar = `optionVar -exists \"m341_uvMapper_mapSizeIntField_VarName\"`;\n\tif ($uvMapper_mapSize_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -intValue \"m341_uvMapper_mapSizeIntField_VarName\" 2048;\n\t\t$uvMapper_mapSize_intFieldValue = `optionVar -q \"m341_uvMapper_mapSizeIntField_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_mapSize_intFieldValue = `optionVar -q \"m341_uvMapper_mapSizeIntField_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 2;\n\ttext -label \" map size      \" -height 19;\n\t//Fix keyboard focus\n\tif(`gmatch $mayaYear \"*2017*\"`)\n\t{\n\t\tintField -value $uvMapper_mapSize_intFieldValue -width 56 -height 19 -changeCommand \"m341_uvMapper_mapSize_ValueChanged();\" uvMapper_mapSize_IntFieldName;\n\t}\n\telse\n\t{\n\t\tintField -enableKeyboardFocus 0 -value $uvMapper_mapSize_intFieldValue -width 56 -height 19 -changeCommand \"m341_uvMapper_mapSize_ValueChanged();\" uvMapper_mapSize_IntFieldName;\n\t}\n\t\n\n\t\n\t//Save preferences pix per unit float field\n\tfloat $uvMapper_pixPerUnit_floatFieldValue;\n\tglobal float $m341_uvMapper_pixPerUnit_UserInput;\n\tstring $uvMapper_pixPerUnit_OptionVar = `optionVar -exists \"m341_uvMapper_pixPerUnitFloatField_VarName\"`;\n\tif ($uvMapper_pixPerUnit_OptionVar == 0)\n\t{\n\t\t//Set default value\n\t\toptionVar -floatValue \"m341_uvMapper_pixPerUnitFloatField_VarName\" 5.12;\n\t\t$uvMapper_pixPerUnit_floatFieldValue = `optionVar -q \"m341_uvMapper_pixPerUnitFloatField_VarName\"`;\n\t}\n\telse\n\t{\n\t\t//Query from prefs file\n\t\t$uvMapper_pixPerUnit_floatFieldValue = `optionVar -q \"m341_uvMapper_pixPerUnitFloatField_VarName\"`;\n\t}\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 2;\n\ttext -label \" pix per unit \" -height 19;\n\t//Fix keyboard focus\n\tif(`gmatch $mayaYear \"*2017*\"`)\n\t{\n\t\tfloatField -value $uvMapper_pixPerUnit_floatFieldValue -pre 4 -width 56 -height 19 -changeCommand \"m341_uvMapper_pixPerUnit_ValueChanged();\" uvMapper_pixPerUnit_FloatFieldName;\n\t}\n\telse\n\t{\n\t\tfloatField -enableKeyboardFocus 0 -value $uvMapper_pixPerUnit_floatFieldValue -pre 4 -width 56 -height 19 -changeCommand \"m341_uvMapper_pixPerUnit_ValueChanged();\" uvMapper_pixPerUnit_FloatFieldName;\n\t}\n\t\n\n\t\n\t\n\t//global float $m341_query_TDValue;\n\t//global string $m341_uvMapper_pixPerUnitfloatFieldName;\n\t//global float $m341_uvMapper_pixPerUnit_UserInput;\n\t//setParent ..;\n\t//rowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\t//text -label \"  pix per unit \" -height 19;\n\t//$m341_uvMapper_pixPerUnitfloatFieldName = `floatField -value 5.12 -pre 4 -width 56 -height 19 -changeCommand \"UVmapperTD_FloatValueChanged();\" PPU_FieldName`;\n\t\n\tsetParent ..;\n\trowColumnLayout -numberOfRows 1 -adjustableColumn 1;\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"copy TD\"\n\t\t-backgroundColor 0.70 0.39 0.34\n\t\t-width 62\n\t\t-command \"m341_uvMapper_copyTexelDensity;\"\n\t\t-commandRepeatable 1;\n\t\tseparator -width 1 -style \"none\";\n\t\t\n\ticonTextButton -style \"textOnly\"\n\t\t-label \"paste TD\"\n\t\t-backgroundColor 0.70 0.39 0.34\n\t\t-width 61\n\t\t-command \"m341_uvMapper_pasteTexelDensity;\"\n\t\t-commandRepeatable 1;\t\t\n\t\n\tshowWindow;\n\twindow -edit -width 100 -height 100 m341_uvMapper_toolboxName;\n}\n\n\n//***********************************************************************************************************************************************************\n//Launch Window\n{\n\tint $unfold3dPluginLoaded = `pluginInfo -q -loaded \"Unfold3D.mll\"`;\n\tif ($unfold3dPluginLoaded == 1)\n    {\n\t\tm341_launchUVMapperInterface();\n\t\tprint (\"Toolbox loaded \" + $m341_uvMapperVersion + \"\\n\");\n    }\n\n    else\n    {\n        loadPlugin \"Unfold3D.mll\";\n\t\tpluginInfo -edit -autoload true \"Unfold3D.mll\";\n\t\tm341_launchUVMapperInterface();\n\t\tprint (\"Unfold3D.mll loaded, toolbox loaded \" + $m341_uvMapperVersion + \"\\n\");\n    }\n}" 
        -sourceType "mel" 
        -commandRepeatable 1
        -flat 1
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Renderman CatmullClark" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "Renderman CatmullClark" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "subD" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "subdivToNurbs.png" 
        -image1 "subdivToNurbs.png" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "import maya.cmds as cmds\n\nsel = cmds.ls(selection=True)\n\nfor i in sel:\n    cmds.setAttr(i + '.rman_subdivScheme', 1)" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;
    separator
        -enable 1
        -width 12
        -height 35
        -manage 1
        -visible 1
        -preventOverride 0
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -style "shelf" 
        -horizontal 0
    ;
    shelfButton
        -enableCommandRepeat 1
        -flexibleWidthType 3
        -flexibleWidthValue 32
        -enable 1
        -width 35
        -height 34
        -manage 1
        -visible 1
        -preventOverride 0
        -annotation "Silly Popup" 
        -enableBackground 0
        -backgroundColor 0 0 0 
        -highlightColor 0.321569 0.521569 0.65098 
        -align "center" 
        -label "?" 
        -labelOffset 0
        -rotation 0
        -flipX 0
        -flipY 0
        -useAlpha 1
        -font "plainLabelFont" 
        -imageOverlayLabel "?" 
        -overlayLabelColor 0.8 0.8 0.8 
        -overlayLabelBackColor 0 0 0 0.5 
        -image "UliPipe-icons/Surprise.jpg" 
        -image1 "UliPipe-icons/Surprise.jpg" 
        -style "iconOnly" 
        -marginWidth 0
        -marginHeight 1
        -command "from uli_pipe import popup\n\ntry:\n    my_window.close()\n    my_window.deleteLater()\nexcept:\n    pass\n\nmy_window = popup.SillyPopup()\nmy_window.show()" 
        -sourceType "python" 
        -commandRepeatable 1
        -flat 1
    ;

} 
